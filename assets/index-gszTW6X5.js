(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function $c(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function Jg(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var l=d.default;if(typeof l=="function"){var o=function i(){return this instanceof i?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};o.prototype=l.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(d).forEach(function(i){var u=Object.getOwnPropertyDescriptor(d,i);Object.defineProperty(o,i,u.get?u:{enumerable:!0,get:function(){return d[i]}})}),o}var xc={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf;function Wg(){if(Rf)return El;Rf=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function o(i,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:d,type:i,key:f,ref:u!==void 0?u:null,props:h}}return El.Fragment=l,El.jsx=o,El.jsxs=o,El}var Uf;function Ig(){return Uf||(Uf=1,xc.exports=Wg()),xc.exports}var s=Ig(),pc={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function Fg(){if(Mf)return ue;Mf=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function U(w,G,q){this.props=w,this.context=G,this.refs=k,this.updater=q||C}U.prototype.isReactComponent={},U.prototype.setState=function(w,G){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,G,"setState")},U.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function P(){}P.prototype=U.prototype;function S(w,G,q){this.props=w,this.context=G,this.refs=k,this.updater=q||C}var E=S.prototype=new P;E.constructor=S,A(E,U.prototype),E.isPureReactComponent=!0;var $=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function te(w,G,q,Z,F,de){return q=de.ref,{$$typeof:d,type:w,key:G,ref:q!==void 0?q:null,props:de}}function ne(w,G){return te(w.type,G,void 0,void 0,void 0,w.props)}function we(w){return typeof w=="object"&&w!==null&&w.$$typeof===d}function W(w){var G={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(q){return G[q]})}var Ee=/\/+/g;function be(w,G){return typeof w=="object"&&w!==null&&w.key!=null?W(""+w.key):G.toString(36)}function ye(){}function Ue(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(ye,ye):(w.status="pending",w.then(function(G){w.status==="pending"&&(w.status="fulfilled",w.value=G)},function(G){w.status==="pending"&&(w.status="rejected",w.reason=G)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function V(w,G,q,Z,F){var de=typeof w;(de==="undefined"||de==="boolean")&&(w=null);var le=!1;if(w===null)le=!0;else switch(de){case"bigint":case"string":case"number":le=!0;break;case"object":switch(w.$$typeof){case d:case l:le=!0;break;case y:return le=w._init,V(le(w._payload),G,q,Z,F)}}if(le)return F=F(w),le=Z===""?"."+be(w,0):Z,$(F)?(q="",le!=null&&(q=le.replace(Ee,"$&/")+"/"),V(F,G,q,"",function(ut){return ut})):F!=null&&(we(F)&&(F=ne(F,q+(F.key==null||w&&w.key===F.key?"":(""+F.key).replace(Ee,"$&/")+"/")+le)),G.push(F)),1;le=0;var at=Z===""?".":Z+":";if($(w))for(var Se=0;Se<w.length;Se++)Z=w[Se],de=at+be(Z,Se),le+=V(Z,G,q,de,F);else if(Se=_(w),typeof Se=="function")for(w=Se.call(w),Se=0;!(Z=w.next()).done;)Z=Z.value,de=at+be(Z,Se++),le+=V(Z,G,q,de,F);else if(de==="object"){if(typeof w.then=="function")return V(Ue(w),G,q,Z,F);throw G=String(w),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return le}function D(w,G,q){if(w==null)return w;var Z=[],F=0;return V(w,Z,"","",function(de){return G.call(q,de,F++)}),Z}function Q(w){if(w._status===-1){var G=w._result;G=G(),G.then(function(q){(w._status===0||w._status===-1)&&(w._status=1,w._result=q)},function(q){(w._status===0||w._status===-1)&&(w._status=2,w._result=q)}),w._status===-1&&(w._status=0,w._result=G)}if(w._status===1)return w._result.default;throw w._result}var I=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function ae(){}return ue.Children={map:D,forEach:function(w,G,q){D(w,function(){G.apply(this,arguments)},q)},count:function(w){var G=0;return D(w,function(){G++}),G},toArray:function(w){return D(w,function(G){return G})||[]},only:function(w){if(!we(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ue.Component=U,ue.Fragment=o,ue.Profiler=u,ue.PureComponent=S,ue.StrictMode=i,ue.Suspense=x,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ue.__COMPILER_RUNTIME={__proto__:null,c:function(w){return X.H.useMemoCache(w)}},ue.cache=function(w){return function(){return w.apply(null,arguments)}},ue.cloneElement=function(w,G,q){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Z=A({},w.props),F=w.key,de=void 0;if(G!=null)for(le in G.ref!==void 0&&(de=void 0),G.key!==void 0&&(F=""+G.key),G)!K.call(G,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&G.ref===void 0||(Z[le]=G[le]);var le=arguments.length-2;if(le===1)Z.children=q;else if(1<le){for(var at=Array(le),Se=0;Se<le;Se++)at[Se]=arguments[Se+2];Z.children=at}return te(w.type,F,void 0,void 0,de,Z)},ue.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},ue.createElement=function(w,G,q){var Z,F={},de=null;if(G!=null)for(Z in G.key!==void 0&&(de=""+G.key),G)K.call(G,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(F[Z]=G[Z]);var le=arguments.length-2;if(le===1)F.children=q;else if(1<le){for(var at=Array(le),Se=0;Se<le;Se++)at[Se]=arguments[Se+2];F.children=at}if(w&&w.defaultProps)for(Z in le=w.defaultProps,le)F[Z]===void 0&&(F[Z]=le[Z]);return te(w,de,void 0,void 0,null,F)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(w){return{$$typeof:p,render:w}},ue.isValidElement=we,ue.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:Q}},ue.memo=function(w,G){return{$$typeof:g,type:w,compare:G===void 0?null:G}},ue.startTransition=function(w){var G=X.T,q={};X.T=q;try{var Z=w(),F=X.S;F!==null&&F(q,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ae,I)}catch(de){I(de)}finally{X.T=G}},ue.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ue.use=function(w){return X.H.use(w)},ue.useActionState=function(w,G,q){return X.H.useActionState(w,G,q)},ue.useCallback=function(w,G){return X.H.useCallback(w,G)},ue.useContext=function(w){return X.H.useContext(w)},ue.useDebugValue=function(){},ue.useDeferredValue=function(w,G){return X.H.useDeferredValue(w,G)},ue.useEffect=function(w,G,q){var Z=X.H;if(typeof q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(w,G)},ue.useId=function(){return X.H.useId()},ue.useImperativeHandle=function(w,G,q){return X.H.useImperativeHandle(w,G,q)},ue.useInsertionEffect=function(w,G){return X.H.useInsertionEffect(w,G)},ue.useLayoutEffect=function(w,G){return X.H.useLayoutEffect(w,G)},ue.useMemo=function(w,G){return X.H.useMemo(w,G)},ue.useOptimistic=function(w,G){return X.H.useOptimistic(w,G)},ue.useReducer=function(w,G,q){return X.H.useReducer(w,G,q)},ue.useRef=function(w){return X.H.useRef(w)},ue.useState=function(w){return X.H.useState(w)},ue.useSyncExternalStore=function(w,G,q){return X.H.useSyncExternalStore(w,G,q)},ue.useTransition=function(){return X.H.useTransition()},ue.version="19.1.1",ue}var zf;function Yc(){return zf||(zf=1,pc.exports=Fg()),pc.exports}var L=Yc();const ke=$c(L);var bc={exports:{}},Tl={},yc={exports:{}},vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function ex(){return Lf||(Lf=1,(function(d){function l(D,Q){var I=D.length;D.push(Q);e:for(;0<I;){var ae=I-1>>>1,w=D[ae];if(0<u(w,Q))D[ae]=Q,D[I]=w,I=ae;else break e}}function o(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var Q=D[0],I=D.pop();if(I!==Q){D[0]=I;e:for(var ae=0,w=D.length,G=w>>>1;ae<G;){var q=2*(ae+1)-1,Z=D[q],F=q+1,de=D[F];if(0>u(Z,I))F<w&&0>u(de,Z)?(D[ae]=de,D[F]=I,ae=F):(D[ae]=Z,D[q]=I,ae=q);else if(F<w&&0>u(de,I))D[ae]=de,D[F]=I,ae=F;else break e}}return Q}function u(D,Q){var I=D.sortIndex-Q.sortIndex;return I!==0?I:D.id-Q.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;d.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();d.unstable_now=function(){return f.now()-p}}var x=[],g=[],y=1,v=null,_=3,C=!1,A=!1,k=!1,U=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function $(D){for(var Q=o(g);Q!==null;){if(Q.callback===null)i(g);else if(Q.startTime<=D)i(g),Q.sortIndex=Q.expirationTime,l(x,Q);else break;Q=o(g)}}function X(D){if(k=!1,$(D),!A)if(o(x)!==null)A=!0,K||(K=!0,be());else{var Q=o(g);Q!==null&&V(X,Q.startTime-D)}}var K=!1,te=-1,ne=5,we=-1;function W(){return U?!0:!(d.unstable_now()-we<ne)}function Ee(){if(U=!1,K){var D=d.unstable_now();we=D;var Q=!0;try{e:{A=!1,k&&(k=!1,S(te),te=-1),C=!0;var I=_;try{t:{for($(D),v=o(x);v!==null&&!(v.expirationTime>D&&W());){var ae=v.callback;if(typeof ae=="function"){v.callback=null,_=v.priorityLevel;var w=ae(v.expirationTime<=D);if(D=d.unstable_now(),typeof w=="function"){v.callback=w,$(D),Q=!0;break t}v===o(x)&&i(x),$(D)}else i(x);v=o(x)}if(v!==null)Q=!0;else{var G=o(g);G!==null&&V(X,G.startTime-D),Q=!1}}break e}finally{v=null,_=I,C=!1}Q=void 0}}finally{Q?be():K=!1}}}var be;if(typeof E=="function")be=function(){E(Ee)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ue=ye.port2;ye.port1.onmessage=Ee,be=function(){Ue.postMessage(null)}}else be=function(){P(Ee,0)};function V(D,Q){te=P(function(){D(d.unstable_now())},Q)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(D){D.callback=null},d.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<D?Math.floor(1e3/D):5},d.unstable_getCurrentPriorityLevel=function(){return _},d.unstable_next=function(D){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var I=_;_=Q;try{return D()}finally{_=I}},d.unstable_requestPaint=function(){U=!0},d.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=_;_=D;try{return Q()}finally{_=I}},d.unstable_scheduleCallback=function(D,Q,I){var ae=d.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ae+I:ae):I=ae,D){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=I+w,D={id:y++,callback:Q,priorityLevel:D,startTime:I,expirationTime:w,sortIndex:-1},I>ae?(D.sortIndex=I,l(g,D),o(x)===null&&D===o(g)&&(k?(S(te),te=-1):k=!0,V(X,I-ae))):(D.sortIndex=w,l(x,D),A||C||(A=!0,K||(K=!0,be()))),D},d.unstable_shouldYield=W,d.unstable_wrapCallback=function(D){var Q=_;return function(){var I=_;_=Q;try{return D.apply(this,arguments)}finally{_=I}}}})(vc)),vc}var qf;function tx(){return qf||(qf=1,yc.exports=ex()),yc.exports}var wc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function ax(){if(Bf)return ot;Bf=1;var d=Yc();function l(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(l(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(x,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:x,containerInfo:g,implementation:y}}var f=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ot.createPortal=function(x,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(l(299));return h(x,g,null,y)},ot.flushSync=function(x){var g=f.T,y=i.p;try{if(f.T=null,i.p=2,x)return x()}finally{f.T=g,i.p=y,i.d.f()}},ot.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(x,g))},ot.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},ot.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:C}):y==="script"&&i.d.X(x,{crossOrigin:v,integrity:_,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);i.d.M(x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(x)},ot.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin);i.d.L(x,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(x,g){if(typeof x=="string")if(g){var y=p(g.as,g.crossOrigin);i.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(x)},ot.requestFormReset=function(x){i.d.r(x)},ot.unstable_batchedUpdates=function(x,g){return x(g)},ot.useFormState=function(x,g,y){return f.H.useFormState(x,g,y)},ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var Hf;function sx(){if(Hf)return wc.exports;Hf=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(l){console.error(l)}}return d(),wc.exports=ax(),wc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function nx(){if($f)return Tl;$f=1;var d=tx(),l=Yc(),o=sx();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(i(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return p(r),e;if(c===n)return p(r),t;c=c.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=c;else{for(var m=!1,b=r.child;b;){if(b===a){m=!0,a=r,n=c;break}if(b===n){m=!0,n=r,a=c;break}b=b.sibling}if(!m){for(b=c.child;b;){if(b===a){m=!0,a=c,n=r;break}if(b===n){m=!0,n=c,a=r;break}b=b.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),E=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case X:return"Suspense";case K:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case E:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:Ue(e.type)||"Memo";case ne:t=e._payload,e=e._init;try{return Ue(e(t))}catch{}}return null}var V=Array.isArray,D=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ae=[],w=-1;function G(e){return{current:e}}function q(e){0>w||(e.current=ae[w],ae[w]=null,w--)}function Z(e,t){w++,ae[w]=e.current,e.current=t}var F=G(null),de=G(null),le=G(null),at=G(null);function Se(e,t){switch(Z(le,t),Z(de,e),Z(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rf(t),e=of(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(F),Z(F,e)}function ut(){q(F),q(de),q(le)}function _n(e){e.memoizedState!==null&&Z(at,e);var t=F.current,a=of(t,e.type);t!==a&&(Z(de,e),Z(F,a))}function vs(e){de.current===e&&(q(F),q(de)),at.current===e&&(q(at),jl._currentValue=I)}var Nn=Object.prototype.hasOwnProperty,Sn=d.unstable_scheduleCallback,xa=d.unstable_cancelCallback,ni=d.unstable_shouldYield,li=d.unstable_requestPaint,kt=d.unstable_now,ri=d.unstable_getCurrentPriorityLevel,kn=d.unstable_ImmediatePriority,En=d.unstable_UserBlockingPriority,J=d.unstable_NormalPriority,je=d.unstable_LowPriority,bt=d.unstable_IdlePriority,Pa=d.log,Tn=d.unstable_setDisableYieldValue,Bt=null,Pe=null;function dt(e){if(typeof Pa=="function"&&Tn(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Bt,e)}catch{}}var Qe=Math.clz32?Math.clz32:ql,Qa=Math.log,Ll=Math.LN2;function ql(e){return e>>>=0,e===0?32:31-(Qa(e)/Ll|0)|0}var Ka=256,Za=4194304;function Vt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ja(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=n&134217727;return b!==0?(n=b&~c,n!==0?r=Vt(n):(m&=b,m!==0?r=Vt(m):a||(a=b&~e,a!==0&&(r=Vt(a))))):(b=n&~c,b!==0?r=Vt(b):m!==0?r=Vt(m):a||(a=n&~e,a!==0&&(r=Vt(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Bl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var e=Ka;return Ka<<=1,(Ka&4194048)===0&&(Ka=256),e}function Cn(){var e=Za;return Za<<=1,(Za&62914560)===0&&(Za=4194304),e}function ws(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ba(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hl(e,t,a,n,r,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,j=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var B=31-Qe(a),Y=1<<B;b[B]=0,j[B]=-1;var M=R[B];if(M!==null)for(R[B]=null,B=0;B<M.length;B++){var z=M[B];z!==null&&(z.lane&=-536870913)}a&=~Y}n!==0&&On(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function On(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Qe(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Et(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Qe(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Wa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ya(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dn(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Ef(e.type))}function Ht(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var Pt=Math.random().toString(36).slice(2),rt="__reactFiber$"+Pt,ht="__reactProps$"+Pt,js="__reactContainer$"+Pt,ii="__reactEvents$"+Pt,Hm="__reactListeners$"+Pt,$m="__reactHandles$"+Pt,Kc="__reactResources$"+Pt,Rn="__reactMarker$"+Pt;function oi(e){delete e[rt],delete e[ht],delete e[ii],delete e[Hm],delete e[$m]}function _s(e){var t=e[rt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[js]||a[rt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hf(e);e!==null;){if(a=e[rt])return a;e=hf(e)}return t}e=a,a=e.parentNode}return null}function Ns(e){if(e=e[rt]||e[js]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Un(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Ss(e){var t=e[Kc];return t||(t=e[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[Rn]=!0}var Zc=new Set,Jc={};function Ia(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Jc[e]=t,e=0;e<t.length;e++)Zc.add(t[e])}var Ym=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wc={},Ic={};function Gm(e){return Nn.call(Ic,e)?!0:Nn.call(Wc,e)?!1:Ym.test(e)?Ic[e]=!0:(Wc[e]=!0,!1)}function $l(e,t,a){if(Gm(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Yl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ea(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var ci,Fc;function Es(e){if(ci===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ci=t&&t[1]||"",Fc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ci+e+Fc}var ui=!1;function di(e,t){if(!e||ui)return"";ui=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(z){var M=z}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(z){M=z}e.call(Y.prototype)}}else{try{throw Error()}catch(z){M=z}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(z){if(z&&M&&typeof z.stack=="string")return[z.stack,M.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),m=c[0],b=c[1];if(m&&b){var j=m.split(`
`),R=b.split(`
`);for(r=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;if(n===j.length||r===R.length)for(n=j.length-1,r=R.length-1;1<=n&&0<=r&&j[n]!==R[r];)r--;for(;1<=n&&0<=r;n--,r--)if(j[n]!==R[r]){if(n!==1||r!==1)do if(n--,r--,0>r||j[n]!==R[r]){var B=`
`+j[n].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=n&&0<=r);break}}}finally{ui=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Es(a):""}function Xm(e){switch(e.tag){case 26:case 27:case 5:return Es(e.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 15:return di(e.type,!1);case 11:return di(e.type.render,!1);case 1:return di(e.type,!0);case 31:return Es("Activity");default:return""}}function eu(e){try{var t="";do t+=Xm(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vm(e){var t=tu(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){n=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gl(e){e._valueTracker||(e._valueTracker=Vm(e))}function au(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=tu(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Xl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pm=/[\n"\\]/g;function At(e){return e.replace(Pm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function hi(e,t,a,n,r,c,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?fi(e,m,Tt(t)):a!=null?fi(e,m,Tt(a)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Tt(b):e.removeAttribute("name")}function su(e,t,a,n,r,c,m,b){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=b?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function fi(e,t,a){t==="number"&&Xl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ts(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function nu(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function lu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(i(92));if(V(n)){if(1<n.length)throw Error(i(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function As(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Qm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Qm.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function iu(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&ru(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&ru(e,c,t[c])}function mi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Km=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vl(e){return Zm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var gi=null;function xi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,Os=null;function ou(e){var t=Ns(e);if(t&&(e=t.stateNode)){var a=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(hi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[ht]||null;if(!r)throw Error(i(90));hi(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&au(n)}break e;case"textarea":nu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ts(e,!!a.multiple,t,!1)}}}var pi=!1;function cu(e,t,a){if(pi)return e(t,a);pi=!0;try{var n=e(t);return n}finally{if(pi=!1,(Cs!==null||Os!==null)&&(Cr(),Cs&&(t=Cs,e=Os,Os=Cs=null,ou(t),e)))for(t=0;t<e.length;t++)ou(e[t])}}function Mn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[ht]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bi=!1;if(ta)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){bi=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{bi=!1}var va=null,yi=null,Pl=null;function uu(){if(Pl)return Pl;var e,t=yi,a=t.length,n,r="value"in va?va.value:va.textContent,c=r.length;for(e=0;e<a&&t[e]===r[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===r[c-n];n++);return Pl=r.slice(e,1<n?1-n:void 0)}function Ql(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kl(){return!0}function du(){return!1}function ft(e){function t(a,n,r,c,m){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Kl:du,this.isPropagationStopped=du,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=ft(Fa),Ln=y({},Fa,{view:0,detail:0}),Jm=ft(Ln),vi,wi,qn,Jl=y({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_i,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(vi=e.screenX-qn.screenX,wi=e.screenY-qn.screenY):wi=vi=0,qn=e),vi)},movementY:function(e){return"movementY"in e?e.movementY:wi}}),hu=ft(Jl),Wm=y({},Jl,{dataTransfer:0}),Im=ft(Wm),Fm=y({},Ln,{relatedTarget:0}),ji=ft(Fm),e0=y({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),t0=ft(e0),a0=y({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s0=ft(a0),n0=y({},Fa,{data:0}),fu=ft(n0),l0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i0[e])?!!t[e]:!1}function _i(){return o0}var c0=y({},Ln,{key:function(e){if(e.key){var t=l0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ql(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?r0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_i,charCode:function(e){return e.type==="keypress"?Ql(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ql(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u0=ft(c0),d0=y({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=ft(d0),h0=y({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_i}),f0=ft(h0),m0=y({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),g0=ft(m0),x0=y({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p0=ft(x0),b0=y({},Fa,{newState:0,oldState:0}),y0=ft(b0),v0=[9,13,27,32],Ni=ta&&"CompositionEvent"in window,Bn=null;ta&&"documentMode"in document&&(Bn=document.documentMode);var w0=ta&&"TextEvent"in window&&!Bn,gu=ta&&(!Ni||Bn&&8<Bn&&11>=Bn),xu=" ",pu=!1;function bu(e,t){switch(e){case"keyup":return v0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ds=!1;function j0(e,t){switch(e){case"compositionend":return yu(t);case"keypress":return t.which!==32?null:(pu=!0,xu);case"textInput":return e=t.data,e===xu&&pu?null:e;default:return null}}function _0(e,t){if(Ds)return e==="compositionend"||!Ni&&bu(e,t)?(e=uu(),Pl=yi=va=null,Ds=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gu&&t.locale!=="ko"?null:t.data;default:return null}}var N0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!N0[e.type]:t==="textarea"}function wu(e,t,a,n){Cs?Os?Os.push(n):Os=[n]:Cs=n,t=zr(t,"onChange"),0<t.length&&(a=new Zl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Hn=null,$n=null;function S0(e){tf(e,0)}function Wl(e){var t=Un(e);if(au(t))return e}function ju(e,t){if(e==="change")return t}var _u=!1;if(ta){var Si;if(ta){var ki="oninput"in document;if(!ki){var Nu=document.createElement("div");Nu.setAttribute("oninput","return;"),ki=typeof Nu.oninput=="function"}Si=ki}else Si=!1;_u=Si&&(!document.documentMode||9<document.documentMode)}function Su(){Hn&&(Hn.detachEvent("onpropertychange",ku),$n=Hn=null)}function ku(e){if(e.propertyName==="value"&&Wl($n)){var t=[];wu(t,$n,e,xi(e)),cu(S0,t)}}function k0(e,t,a){e==="focusin"?(Su(),Hn=t,$n=a,Hn.attachEvent("onpropertychange",ku)):e==="focusout"&&Su()}function E0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl($n)}function T0(e,t){if(e==="click")return Wl(t)}function A0(e,t){if(e==="input"||e==="change")return Wl(t)}function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yt=typeof Object.is=="function"?Object.is:C0;function Yn(e,t){if(yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Nn.call(t,r)||!yt(e[r],t[r]))return!1}return!0}function Eu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tu(e,t){var a=Eu(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eu(a)}}function Au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Xl(e.document)}return t}function Ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var O0=ta&&"documentMode"in document&&11>=document.documentMode,Rs=null,Ti=null,Gn=null,Ai=!1;function Ou(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ai||Rs==null||Rs!==Xl(n)||(n=Rs,"selectionStart"in n&&Ei(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gn&&Yn(Gn,n)||(Gn=n,n=zr(Ti,"onSelect"),0<n.length&&(t=new Zl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Rs)))}function es(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Us={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Ci={},Du={};ta&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function ts(e){if(Ci[e])return Ci[e];if(!Us[e])return e;var t=Us[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Du)return Ci[e]=t[a];return e}var Ru=ts("animationend"),Uu=ts("animationiteration"),Mu=ts("animationstart"),D0=ts("transitionrun"),R0=ts("transitionstart"),U0=ts("transitioncancel"),zu=ts("transitionend"),Lu=new Map,Oi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oi.push("scrollEnd");function $t(e,t){Lu.set(e,t),Ia(t,[e])}var qu=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var a=qu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:eu(t)},qu.set(e,t),t)}return{value:e,source:t,stack:eu(t)}}var Ot=[],Ms=0,Di=0;function Il(){for(var e=Ms,t=Di=Ms=0;t<e;){var a=Ot[t];Ot[t++]=null;var n=Ot[t];Ot[t++]=null;var r=Ot[t];Ot[t++]=null;var c=Ot[t];if(Ot[t++]=null,n!==null&&r!==null){var m=n.pending;m===null?r.next=r:(r.next=m.next,m.next=r),n.pending=r}c!==0&&Bu(a,r,c)}}function Fl(e,t,a,n){Ot[Ms++]=e,Ot[Ms++]=t,Ot[Ms++]=a,Ot[Ms++]=n,Di|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Ri(e,t,a,n){return Fl(e,t,a,n),er(e)}function zs(e,t){return Fl(e,null,null,t),er(e)}function Bu(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-Qe(a),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),c):null}function er(e){if(50<ml)throw ml=0,Ho=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ls={};function M0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,a,n){return new M0(e,t,a,n)}function Ui(e){return e=e.prototype,!(!e||!e.isReactComponent)}function aa(e,t){var a=e.alternate;return a===null?(a=vt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function tr(e,t,a,n,r,c){var m=0;if(n=e,typeof e=="function")Ui(e)&&(m=1);else if(typeof e=="string")m=Lg(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=vt(31,a,t,r),e.elementType=we,e.lanes=c,e;case A:return as(a.children,r,c,t);case k:m=8,r|=24;break;case U:return e=vt(12,a,t,r|2),e.elementType=U,e.lanes=c,e;case X:return e=vt(13,a,t,r),e.elementType=X,e.lanes=c,e;case K:return e=vt(19,a,t,r),e.elementType=K,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:case E:m=10;break e;case S:m=9;break e;case $:m=11;break e;case te:m=14;break e;case ne:m=16,n=null;break e}m=29,a=Error(i(130,e===null?"null":typeof e,"")),n=null}return t=vt(m,a,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function as(e,t,a,n){return e=vt(7,e,n,t),e.lanes=a,e}function Mi(e,t,a){return e=vt(6,e,null,t),e.lanes=a,e}function zi(e,t,a){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qs=[],Bs=0,ar=null,sr=0,Dt=[],Rt=0,ss=null,sa=1,na="";function ns(e,t){qs[Bs++]=sr,qs[Bs++]=ar,ar=e,sr=t}function $u(e,t,a){Dt[Rt++]=sa,Dt[Rt++]=na,Dt[Rt++]=ss,ss=e;var n=sa;e=na;var r=32-Qe(n)-1;n&=~(1<<r),a+=1;var c=32-Qe(t)+r;if(30<c){var m=r-r%5;c=(n&(1<<m)-1).toString(32),n>>=m,r-=m,sa=1<<32-Qe(t)+r|a<<r|n,na=c+e}else sa=1<<c|a<<r|n,na=e}function Li(e){e.return!==null&&(ns(e,1),$u(e,1,0))}function qi(e){for(;e===ar;)ar=qs[--Bs],qs[Bs]=null,sr=qs[--Bs],qs[Bs]=null;for(;e===ss;)ss=Dt[--Rt],Dt[Rt]=null,na=Dt[--Rt],Dt[Rt]=null,sa=Dt[--Rt],Dt[Rt]=null}var ct=null,Be=null,Ne=!1,ls=null,Qt=!1,Bi=Error(i(519));function rs(e){var t=Error(i(418,""));throw Pn(Ct(t,e)),Bi}function Yu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[rt]=e,t[ht]=n,a){case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":case"embed":xe("load",t);break;case"video":case"audio":for(a=0;a<xl.length;a++)xe(xl[a],t);break;case"source":xe("error",t);break;case"img":case"image":case"link":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"input":xe("invalid",t),su(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Gl(t);break;case"select":xe("invalid",t);break;case"textarea":xe("invalid",t),lu(t,n.value,n.defaultValue,n.children),Gl(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||lf(t.textContent,a)?(n.popover!=null&&(xe("beforetoggle",t),xe("toggle",t)),n.onScroll!=null&&xe("scroll",t),n.onScrollEnd!=null&&xe("scrollend",t),n.onClick!=null&&(t.onclick=Lr),t=!0):t=!1,t||rs(e)}function Gu(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:ct=ct.return}}function Xn(e){if(e!==ct)return!1;if(!Ne)return Gu(e),Ne=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ac(e.type,e.memoizedProps)),a=!a),a&&Be&&rs(e),Gu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Be=Gt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Be=null}}else t===27?(t=Be,za(e.type)?(e=rc,rc=null,Be=e):Be=t):Be=ct?Gt(e.stateNode.nextSibling):null;return!0}function Vn(){Be=ct=null,Ne=!1}function Xu(){var e=ls;return e!==null&&(xt===null?xt=e:xt.push.apply(xt,e),ls=null),e}function Pn(e){ls===null?ls=[e]:ls.push(e)}var Hi=G(null),is=null,la=null;function wa(e,t,a){Z(Hi,t._currentValue),t._currentValue=a}function ra(e){e._currentValue=Hi.current,q(Hi)}function $i(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Yi(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var m=r.child;c=c.firstContext;e:for(;c!==null;){var b=c;c=r;for(var j=0;j<t.length;j++)if(b.context===t[j]){c.lanes|=a,b=c.alternate,b!==null&&(b.lanes|=a),$i(c.return,a,e),n||(m=null);break e}c=b.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(i(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),$i(m,a,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Qn(e,t,a,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var b=r.type;yt(r.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(r===at.current){if(m=r.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}r=r.return}e!==null&&Yi(t,e,a,n),t.flags|=262144}function nr(e){for(e=e.firstContext;e!==null;){if(!yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function os(e){is=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Vu(is,e)}function lr(e,t){return is===null&&os(e),Vu(e,t)}function Vu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},la===null){if(e===null)throw Error(i(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return a}var z0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},L0=d.unstable_scheduleCallback,q0=d.unstable_NormalPriority,Ke={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gi(){return{controller:new z0,data:new Map,refCount:0}}function Kn(e){e.refCount--,e.refCount===0&&L0(q0,function(){e.controller.abort()})}var Zn=null,Xi=0,Hs=0,$s=null;function B0(e,t){if(Zn===null){var a=Zn=[];Xi=0,Hs=Qo(),$s={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Xi++,t.then(Pu,Pu),t}function Pu(){if(--Xi===0&&Zn!==null){$s!==null&&($s.status="fulfilled");var e=Zn;Zn=null,Hs=0,$s=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function H0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var Qu=D.S;D.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&B0(e,t),Qu!==null&&Qu(e,t)};var cs=G(null);function Vi(){var e=cs.current;return e!==null?e:Me.pooledCache}function rr(e,t){t===null?Z(cs,cs.current):Z(cs,t.pool)}function Ku(){var e=Vi();return e===null?null:{parent:Ke._currentValue,pool:e}}var Jn=Error(i(460)),Zu=Error(i(474)),ir=Error(i(542)),Pi={then:function(){}};function Ju(e){return e=e.status,e==="fulfilled"||e==="rejected"}function or(){}function Wu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(or,or),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e;default:if(typeof t.status=="string")t.then(or,or);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Fu(e),e}throw Wn=t,Jn}}var Wn=null;function Iu(){if(Wn===null)throw Error(i(459));var e=Wn;return Wn=null,e}function Fu(e){if(e===Jn||e===ir)throw Error(i(483))}var ja=!1;function Qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ki(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Te&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=er(e),Bu(e,null,a),t}return Fl(e,n,t,a),er(e)}function In(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Et(e,a)}}function Zi(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ji=!1;function Fn(){if(Ji){var e=$s;if(e!==null)throw e}}function el(e,t,a,n){Ji=!1;var r=e.updateQueue;ja=!1;var c=r.firstBaseUpdate,m=r.lastBaseUpdate,b=r.shared.pending;if(b!==null){r.shared.pending=null;var j=b,R=j.next;j.next=null,m===null?c=R:m.next=R,m=j;var B=e.alternate;B!==null&&(B=B.updateQueue,b=B.lastBaseUpdate,b!==m&&(b===null?B.firstBaseUpdate=R:b.next=R,B.lastBaseUpdate=j))}if(c!==null){var Y=r.baseState;m=0,B=R=j=null,b=c;do{var M=b.lane&-536870913,z=M!==b.lane;if(z?(ve&M)===M:(n&M)===M){M!==0&&M===Hs&&(Ji=!0),B!==null&&(B=B.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var oe=e,re=b;M=t;var De=a;switch(re.tag){case 1:if(oe=re.payload,typeof oe=="function"){Y=oe.call(De,Y,M);break e}Y=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=re.payload,M=typeof oe=="function"?oe.call(De,Y,M):oe,M==null)break e;Y=y({},Y,M);break e;case 2:ja=!0}}M=b.callback,M!==null&&(e.flags|=64,z&&(e.flags|=8192),z=r.callbacks,z===null?r.callbacks=[M]:z.push(M))}else z={lane:M,tag:b.tag,payload:b.payload,callback:b.callback,next:null},B===null?(R=B=z,j=Y):B=B.next=z,m|=M;if(b=b.next,b===null){if(b=r.shared.pending,b===null)break;z=b,b=z.next,z.next=null,r.lastBaseUpdate=z,r.shared.pending=null}}while(!0);B===null&&(j=Y),r.baseState=j,r.firstBaseUpdate=R,r.lastBaseUpdate=B,c===null&&(r.shared.lanes=0),Da|=m,e.lanes=m,e.memoizedState=Y}}function ed(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function td(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ed(a[e],t)}var Ys=G(null),cr=G(0);function ad(e,t){e=fa,Z(cr,e),Z(Ys,t),fa=e|t.baseLanes}function Wi(){Z(cr,fa),Z(Ys,Ys.current)}function Ii(){fa=cr.current,q(Ys),q(cr)}var Sa=0,he=null,Ce=null,Ge=null,ur=!1,Gs=!1,us=!1,dr=0,tl=0,Xs=null,$0=0;function $e(){throw Error(i(321))}function Fi(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!yt(e[a],t[a]))return!1;return!0}function eo(e,t,a,n,r,c){return Sa=c,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Bd:Hd,us=!1,c=a(n,r),us=!1,Gs&&(c=nd(t,a,n,r)),sd(e),c}function sd(e){D.H=pr;var t=Ce!==null&&Ce.next!==null;if(Sa=0,Ge=Ce=he=null,ur=!1,tl=0,Xs=null,t)throw Error(i(300));e===null||Ie||(e=e.dependencies,e!==null&&nr(e)&&(Ie=!0))}function nd(e,t,a,n){he=e;var r=0;do{if(Gs&&(Xs=null),tl=0,Gs=!1,25<=r)throw Error(i(301));if(r+=1,Ge=Ce=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}D.H=K0,c=t(a,n)}while(Gs);return c}function Y0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?al(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(he.flags|=1024),t}function to(){var e=dr!==0;return dr=0,e}function ao(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function so(e){if(ur){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ur=!1}Sa=0,Ge=Ce=he=null,Gs=!1,tl=dr=0,Xs=null}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?he.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Xe(){if(Ce===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ge===null?he.memoizedState:Ge.next;if(t!==null)Ge=t,Ce=e;else{if(e===null)throw he.alternate===null?Error(i(467)):Error(i(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ge===null?he.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function no(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var t=tl;return tl+=1,Xs===null&&(Xs=[]),e=Wu(Xs,e,t),t=he,(Ge===null?t.memoizedState:Ge.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Bd:Hd),e}function hr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===E)return it(e)}throw Error(i(438,String(e)))}function lo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=he.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=no(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=W;return t.index++,a}function ia(e,t){return typeof t=="function"?t(e):t}function fr(e){var t=Xe();return ro(t,Ce,e)}function ro(e,t,a){var n=e.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=a;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var m=r.next;r.next=c.next,c.next=m}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var b=m=null,j=null,R=t,B=!1;do{var Y=R.lane&-536870913;if(Y!==R.lane?(ve&Y)===Y:(Sa&Y)===Y){var M=R.revertLane;if(M===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),Y===Hs&&(B=!0);else if((Sa&M)===M){R=R.next,M===Hs&&(B=!0);continue}else Y={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},j===null?(b=j=Y,m=c):j=j.next=Y,he.lanes|=M,Da|=M;Y=R.action,us&&a(c,Y),c=R.hasEagerState?R.eagerState:a(c,Y)}else M={lane:Y,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},j===null?(b=j=M,m=c):j=j.next=M,he.lanes|=Y,Da|=Y;R=R.next}while(R!==null&&R!==t);if(j===null?m=c:j.next=b,!yt(c,e.memoizedState)&&(Ie=!0,B&&(a=$s,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=j,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function io(e){var t=Xe(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var m=r=r.next;do c=e(c,m.action),m=m.next;while(m!==r);yt(c,t.memoizedState)||(Ie=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function ld(e,t,a){var n=he,r=Xe(),c=Ne;if(c){if(a===void 0)throw Error(i(407));a=a()}else a=t();var m=!yt((Ce||r).memoizedState,a);m&&(r.memoizedState=a,Ie=!0),r=r.queue;var b=od.bind(null,n,r,e);if(sl(2048,8,b,[e]),r.getSnapshot!==t||m||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,Vs(9,mr(),id.bind(null,n,r,a,t),null),Me===null)throw Error(i(349));c||(Sa&124)!==0||rd(n,t,a)}return a}function rd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=no(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function id(e,t,a,n){t.value=a,t.getSnapshot=n,cd(t)&&ud(e)}function od(e,t,a){return a(function(){cd(t)&&ud(e)})}function cd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!yt(e,a)}catch{return!0}}function ud(e){var t=zs(e,2);t!==null&&St(t,e,2)}function oo(e){var t=mt();if(typeof e=="function"){var a=e;if(e=a(),us){dt(!0);try{a()}finally{dt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function dd(e,t,a,n){return e.baseState=a,ro(e,Ce,typeof n=="function"?n:ia)}function G0(e,t,a,n,r){if(xr(e))throw Error(i(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};D.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,hd(t,c)):(c.next=a.next,t.pending=a.next=c)}}function hd(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=D.T,m={};D.T=m;try{var b=a(r,n),j=D.S;j!==null&&j(m,b),fd(e,t,b)}catch(R){co(e,t,R)}finally{D.T=c}}else try{c=a(r,n),fd(e,t,c)}catch(R){co(e,t,R)}}function fd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){md(e,t,n)},function(n){return co(e,t,n)}):md(e,t,a)}function md(e,t,a){t.status="fulfilled",t.value=a,gd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,hd(e,a)))}function co(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,gd(t),t=t.next;while(t!==n)}e.action=null}function gd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xd(e,t){return t}function pd(e,t){if(Ne){var a=Me.formState;if(a!==null){e:{var n=he;if(Ne){if(Be){t:{for(var r=Be,c=Qt;r.nodeType!==8;){if(!c){r=null;break t}if(r=Gt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){Be=Gt(r.nextSibling),n=r.data==="F!";break e}}rs(n)}n=!1}n&&(t=a[0])}}return a=mt(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:t},a.queue=n,a=zd.bind(null,he,n),n.dispatch=a,n=oo(!1),c=go.bind(null,he,!1,n.queue),n=mt(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=G0.bind(null,he,r,c,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function bd(e){var t=Xe();return yd(t,Ce,e)}function yd(e,t,a){if(t=ro(e,t,xd)[0],e=fr(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=al(t)}catch(m){throw m===Jn?ir:m}else n=t;t=Xe();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(he.flags|=2048,Vs(9,mr(),X0.bind(null,r,a),null)),[n,c,e]}function X0(e,t){e.action=t}function vd(e){var t=Xe(),a=Ce;if(a!==null)return yd(t,a,e);Xe(),t=t.memoizedState,a=Xe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Vs(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=he.updateQueue,t===null&&(t=no(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function mr(){return{destroy:void 0,resource:void 0}}function wd(){return Xe().memoizedState}function gr(e,t,a,n){var r=mt();n=n===void 0?null:n,he.flags|=e,r.memoizedState=Vs(1|t,mr(),a,n)}function sl(e,t,a,n){var r=Xe();n=n===void 0?null:n;var c=r.memoizedState.inst;Ce!==null&&n!==null&&Fi(n,Ce.memoizedState.deps)?r.memoizedState=Vs(t,c,a,n):(he.flags|=e,r.memoizedState=Vs(1|t,c,a,n))}function jd(e,t){gr(8390656,8,e,t)}function _d(e,t){sl(2048,8,e,t)}function Nd(e,t){return sl(4,2,e,t)}function Sd(e,t){return sl(4,4,e,t)}function kd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,a){a=a!=null?a.concat([e]):null,sl(4,4,kd.bind(null,t,e),a)}function uo(){}function Td(e,t){var a=Xe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Fi(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Ad(e,t){var a=Xe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Fi(t,n[1]))return n[0];if(n=e(),us){dt(!0);try{e()}finally{dt(!1)}}return a.memoizedState=[n,t],n}function ho(e,t,a){return a===void 0||(Sa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Dh(),he.lanes|=e,Da|=e,a)}function Cd(e,t,a,n){return yt(a,t)?a:Ys.current!==null?(e=ho(e,a,n),yt(e,t)||(Ie=!0),e):(Sa&42)===0?(Ie=!0,e.memoizedState=a):(e=Dh(),he.lanes|=e,Da|=e,t)}function Od(e,t,a,n,r){var c=Q.p;Q.p=c!==0&&8>c?c:8;var m=D.T,b={};D.T=b,go(e,!1,t,a);try{var j=r(),R=D.S;if(R!==null&&R(b,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var B=H0(j,n);nl(e,t,B,Nt(e))}else nl(e,t,n,Nt(e))}catch(Y){nl(e,t,{then:function(){},status:"rejected",reason:Y},Nt())}finally{Q.p=c,D.T=m}}function V0(){}function fo(e,t,a,n){if(e.tag!==5)throw Error(i(476));var r=Dd(e).queue;Od(e,r,t,I,a===null?V0:function(){return Rd(e),a(n)})}function Dd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:I},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rd(e){var t=Dd(e).next.queue;nl(e,t,{},Nt())}function mo(){return it(jl)}function Ud(){return Xe().memoizedState}function Md(){return Xe().memoizedState}function P0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Nt();e=_a(a);var n=Na(t,e,a);n!==null&&(St(n,t,a),In(n,t,a)),t={cache:Gi()},e.payload=t;return}t=t.return}}function Q0(e,t,a){var n=Nt();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xr(e)?Ld(t,a):(a=Ri(e,t,a,n),a!==null&&(St(a,e,n),qd(a,t,n)))}function zd(e,t,a){var n=Nt();nl(e,t,a,n)}function nl(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xr(e))Ld(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,b=c(m,a);if(r.hasEagerState=!0,r.eagerState=b,yt(b,m))return Fl(e,t,r,0),Me===null&&Il(),!1}catch{}finally{}if(a=Ri(e,t,r,n),a!==null)return St(a,e,n),qd(a,t,n),!0}return!1}function go(e,t,a,n){if(n={lane:2,revertLane:Qo(),action:n,hasEagerState:!1,eagerState:null,next:null},xr(e)){if(t)throw Error(i(479))}else t=Ri(e,a,n,2),t!==null&&St(t,e,2)}function xr(e){var t=e.alternate;return e===he||t!==null&&t===he}function Ld(e,t){Gs=ur=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function qd(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Et(e,a)}}var pr={readContext:it,use:hr,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e,useHostTransitionStatus:$e,useFormState:$e,useActionState:$e,useOptimistic:$e,useMemoCache:$e,useCacheRefresh:$e},Bd={readContext:it,use:hr,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:jd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,gr(4194308,4,kd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return gr(4194308,4,e,t)},useInsertionEffect:function(e,t){gr(4,2,e,t)},useMemo:function(e,t){var a=mt();t=t===void 0?null:t;var n=e();if(us){dt(!0);try{e()}finally{dt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=mt();if(a!==void 0){var r=a(t);if(us){dt(!0);try{a(t)}finally{dt(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=Q0.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:function(e){e=oo(e);var t=e.queue,a=zd.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:uo,useDeferredValue:function(e,t){var a=mt();return ho(a,e,t)},useTransition:function(){var e=oo(!1);return e=Od.bind(null,he,e.queue,!0,!1),mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=he,r=mt();if(Ne){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Me===null)throw Error(i(349));(ve&124)!==0||rd(n,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,jd(od.bind(null,n,c,e),[e]),n.flags|=2048,Vs(9,mr(),id.bind(null,n,c,a,t),null),a},useId:function(){var e=mt(),t=Me.identifierPrefix;if(Ne){var a=na,n=sa;a=(n&~(1<<32-Qe(n)-1)).toString(32)+a,t=""+t+"R"+a,a=dr++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=$0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:mo,useFormState:pd,useActionState:pd,useOptimistic:function(e){var t=mt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=go.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:lo,useCacheRefresh:function(){return mt().memoizedState=P0.bind(null,he)}},Hd={readContext:it,use:hr,useCallback:Td,useContext:it,useEffect:_d,useImperativeHandle:Ed,useInsertionEffect:Nd,useLayoutEffect:Sd,useMemo:Ad,useReducer:fr,useRef:wd,useState:function(){return fr(ia)},useDebugValue:uo,useDeferredValue:function(e,t){var a=Xe();return Cd(a,Ce.memoizedState,e,t)},useTransition:function(){var e=fr(ia)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:ld,useId:Ud,useHostTransitionStatus:mo,useFormState:bd,useActionState:bd,useOptimistic:function(e,t){var a=Xe();return dd(a,Ce,e,t)},useMemoCache:lo,useCacheRefresh:Md},K0={readContext:it,use:hr,useCallback:Td,useContext:it,useEffect:_d,useImperativeHandle:Ed,useInsertionEffect:Nd,useLayoutEffect:Sd,useMemo:Ad,useReducer:io,useRef:wd,useState:function(){return io(ia)},useDebugValue:uo,useDeferredValue:function(e,t){var a=Xe();return Ce===null?ho(a,e,t):Cd(a,Ce.memoizedState,e,t)},useTransition:function(){var e=io(ia)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:ld,useId:Ud,useHostTransitionStatus:mo,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var a=Xe();return Ce!==null?dd(a,Ce,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:lo,useCacheRefresh:Md},Ps=null,ll=0;function br(e){var t=ll;return ll+=1,Ps===null&&(Ps=[]),Wu(Ps,e,t)}function rl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function yr(e,t){throw t.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $d(e){var t=e._init;return t(e._payload)}function Yd(e){function t(T,N){if(e){var O=T.deletions;O===null?(T.deletions=[N],T.flags|=16):O.push(N)}}function a(T,N){if(!e)return null;for(;N!==null;)t(T,N),N=N.sibling;return null}function n(T){for(var N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function r(T,N){return T=aa(T,N),T.index=0,T.sibling=null,T}function c(T,N,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<N?(T.flags|=67108866,N):O):(T.flags|=67108866,N)):(T.flags|=1048576,N)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function b(T,N,O,H){return N===null||N.tag!==6?(N=Mi(O,T.mode,H),N.return=T,N):(N=r(N,O),N.return=T,N)}function j(T,N,O,H){var ee=O.type;return ee===A?B(T,N,O.props.children,H,O.key):N!==null&&(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ne&&$d(ee)===N.type)?(N=r(N,O.props),rl(N,O),N.return=T,N):(N=tr(O.type,O.key,O.props,null,T.mode,H),rl(N,O),N.return=T,N)}function R(T,N,O,H){return N===null||N.tag!==4||N.stateNode.containerInfo!==O.containerInfo||N.stateNode.implementation!==O.implementation?(N=zi(O,T.mode,H),N.return=T,N):(N=r(N,O.children||[]),N.return=T,N)}function B(T,N,O,H,ee){return N===null||N.tag!==7?(N=as(O,T.mode,H,ee),N.return=T,N):(N=r(N,O),N.return=T,N)}function Y(T,N,O){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Mi(""+N,T.mode,O),N.return=T,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return O=tr(N.type,N.key,N.props,null,T.mode,O),rl(O,N),O.return=T,O;case C:return N=zi(N,T.mode,O),N.return=T,N;case ne:var H=N._init;return N=H(N._payload),Y(T,N,O)}if(V(N)||be(N))return N=as(N,T.mode,O,null),N.return=T,N;if(typeof N.then=="function")return Y(T,br(N),O);if(N.$$typeof===E)return Y(T,lr(T,N),O);yr(T,N)}return null}function M(T,N,O,H){var ee=N!==null?N.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return ee!==null?null:b(T,N,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return O.key===ee?j(T,N,O,H):null;case C:return O.key===ee?R(T,N,O,H):null;case ne:return ee=O._init,O=ee(O._payload),M(T,N,O,H)}if(V(O)||be(O))return ee!==null?null:B(T,N,O,H,null);if(typeof O.then=="function")return M(T,N,br(O),H);if(O.$$typeof===E)return M(T,N,lr(T,O),H);yr(T,O)}return null}function z(T,N,O,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return T=T.get(O)||null,b(N,T,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return T=T.get(H.key===null?O:H.key)||null,j(N,T,H,ee);case C:return T=T.get(H.key===null?O:H.key)||null,R(N,T,H,ee);case ne:var fe=H._init;return H=fe(H._payload),z(T,N,O,H,ee)}if(V(H)||be(H))return T=T.get(O)||null,B(N,T,H,ee,null);if(typeof H.then=="function")return z(T,N,O,br(H),ee);if(H.$$typeof===E)return z(T,N,O,lr(N,H),ee);yr(N,H)}return null}function oe(T,N,O,H){for(var ee=null,fe=null,se=N,ie=N=0,et=null;se!==null&&ie<O.length;ie++){se.index>ie?(et=se,se=null):et=se.sibling;var _e=M(T,se,O[ie],H);if(_e===null){se===null&&(se=et);break}e&&se&&_e.alternate===null&&t(T,se),N=c(_e,N,ie),fe===null?ee=_e:fe.sibling=_e,fe=_e,se=et}if(ie===O.length)return a(T,se),Ne&&ns(T,ie),ee;if(se===null){for(;ie<O.length;ie++)se=Y(T,O[ie],H),se!==null&&(N=c(se,N,ie),fe===null?ee=se:fe.sibling=se,fe=se);return Ne&&ns(T,ie),ee}for(se=n(se);ie<O.length;ie++)et=z(se,T,ie,O[ie],H),et!==null&&(e&&et.alternate!==null&&se.delete(et.key===null?ie:et.key),N=c(et,N,ie),fe===null?ee=et:fe.sibling=et,fe=et);return e&&se.forEach(function($a){return t(T,$a)}),Ne&&ns(T,ie),ee}function re(T,N,O,H){if(O==null)throw Error(i(151));for(var ee=null,fe=null,se=N,ie=N=0,et=null,_e=O.next();se!==null&&!_e.done;ie++,_e=O.next()){se.index>ie?(et=se,se=null):et=se.sibling;var $a=M(T,se,_e.value,H);if($a===null){se===null&&(se=et);break}e&&se&&$a.alternate===null&&t(T,se),N=c($a,N,ie),fe===null?ee=$a:fe.sibling=$a,fe=$a,se=et}if(_e.done)return a(T,se),Ne&&ns(T,ie),ee;if(se===null){for(;!_e.done;ie++,_e=O.next())_e=Y(T,_e.value,H),_e!==null&&(N=c(_e,N,ie),fe===null?ee=_e:fe.sibling=_e,fe=_e);return Ne&&ns(T,ie),ee}for(se=n(se);!_e.done;ie++,_e=O.next())_e=z(se,T,ie,_e.value,H),_e!==null&&(e&&_e.alternate!==null&&se.delete(_e.key===null?ie:_e.key),N=c(_e,N,ie),fe===null?ee=_e:fe.sibling=_e,fe=_e);return e&&se.forEach(function(Zg){return t(T,Zg)}),Ne&&ns(T,ie),ee}function De(T,N,O,H){if(typeof O=="object"&&O!==null&&O.type===A&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case _:e:{for(var ee=O.key;N!==null;){if(N.key===ee){if(ee=O.type,ee===A){if(N.tag===7){a(T,N.sibling),H=r(N,O.props.children),H.return=T,T=H;break e}}else if(N.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===ne&&$d(ee)===N.type){a(T,N.sibling),H=r(N,O.props),rl(H,O),H.return=T,T=H;break e}a(T,N);break}else t(T,N);N=N.sibling}O.type===A?(H=as(O.props.children,T.mode,H,O.key),H.return=T,T=H):(H=tr(O.type,O.key,O.props,null,T.mode,H),rl(H,O),H.return=T,T=H)}return m(T);case C:e:{for(ee=O.key;N!==null;){if(N.key===ee)if(N.tag===4&&N.stateNode.containerInfo===O.containerInfo&&N.stateNode.implementation===O.implementation){a(T,N.sibling),H=r(N,O.children||[]),H.return=T,T=H;break e}else{a(T,N);break}else t(T,N);N=N.sibling}H=zi(O,T.mode,H),H.return=T,T=H}return m(T);case ne:return ee=O._init,O=ee(O._payload),De(T,N,O,H)}if(V(O))return oe(T,N,O,H);if(be(O)){if(ee=be(O),typeof ee!="function")throw Error(i(150));return O=ee.call(O),re(T,N,O,H)}if(typeof O.then=="function")return De(T,N,br(O),H);if(O.$$typeof===E)return De(T,N,lr(T,O),H);yr(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,N!==null&&N.tag===6?(a(T,N.sibling),H=r(N,O),H.return=T,T=H):(a(T,N),H=Mi(O,T.mode,H),H.return=T,T=H),m(T)):a(T,N)}return function(T,N,O,H){try{ll=0;var ee=De(T,N,O,H);return Ps=null,ee}catch(se){if(se===Jn||se===ir)throw se;var fe=vt(29,se,null,T.mode);return fe.lanes=H,fe.return=T,fe}finally{}}}var Qs=Yd(!0),Gd=Yd(!1),Ut=G(null),Kt=null;function ka(e){var t=e.alternate;Z(Ze,Ze.current&1),Z(Ut,e),Kt===null&&(t===null||Ys.current!==null||t.memoizedState!==null)&&(Kt=e)}function Xd(e){if(e.tag===22){if(Z(Ze,Ze.current),Z(Ut,e),Kt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Kt=e)}}else Ea()}function Ea(){Z(Ze,Ze.current),Z(Ut,Ut.current)}function oa(e){q(Ut),Kt===e&&(Kt=null),q(Ze)}var Ze=G(0);function vr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function xo(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var po={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Nt(),r=_a(n);r.payload=t,a!=null&&(r.callback=a),t=Na(e,r,n),t!==null&&(St(t,e,n),In(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Nt(),r=_a(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Na(e,r,n),t!==null&&(St(t,e,n),In(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Nt(),n=_a(a);n.tag=2,t!=null&&(n.callback=t),t=Na(e,n,a),t!==null&&(St(t,e,a),In(t,e,a))}};function Vd(e,t,a,n,r,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,m):t.prototype&&t.prototype.isPureReactComponent?!Yn(a,n)||!Yn(r,c):!0}function Pd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function ds(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var wr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Qd(e){wr(e)}function Kd(e){console.error(e)}function Zd(e){wr(e)}function jr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Jd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function bo(e,t,a){return a=_a(a),a.tag=3,a.payload={element:null},a.callback=function(){jr(e,t)},a}function Wd(e){return e=_a(e),e.tag=3,e}function Id(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){Jd(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Jd(t,a,n),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})})}function Z0(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,r,!0),a=Ut.current,a!==null){switch(a.tag){case 13:return Kt===null?Yo():a.alternate===null&&He===0&&(He=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===Pi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Xo(e,n,r)),!1;case 22:return a.flags|=65536,n===Pi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Xo(e,n,r)),!1}throw Error(i(435,a.tag))}return Xo(e,n,r),Yo(),!1}if(Ne)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Bi&&(e=Error(i(422),{cause:n}),Pn(Ct(e,a)))):(n!==Bi&&(t=Error(i(423),{cause:n}),Pn(Ct(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Ct(n,a),r=bo(e.stateNode,n,r),Zi(e,r),He!==4&&(He=2)),!1;var c=Error(i(520),{cause:n});if(c=Ct(c,a),fl===null?fl=[c]:fl.push(c),He!==4&&(He=2),t===null)return!0;n=Ct(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=bo(a.stateNode,n,e),Zi(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ra===null||!Ra.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Wd(r),Id(r,e,a,n),Zi(a,r),!1}a=a.return}while(a!==null);return!1}var Fd=Error(i(461)),Ie=!1;function st(e,t,a,n){t.child=e===null?Gd(t,null,a,n):Qs(t,e.child,a,n)}function eh(e,t,a,n,r){a=a.render;var c=t.ref;if("ref"in n){var m={};for(var b in n)b!=="ref"&&(m[b]=n[b])}else m=n;return os(t),n=eo(e,t,a,m,c,r),b=to(),e!==null&&!Ie?(ao(e,t,r),ca(e,t,r)):(Ne&&b&&Li(t),t.flags|=1,st(e,t,n,r),t.child)}function th(e,t,a,n,r){if(e===null){var c=a.type;return typeof c=="function"&&!Ui(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,ah(e,t,c,n,r)):(e=tr(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!ko(e,r)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:Yn,a(m,n)&&e.ref===t.ref)return ca(e,t,r)}return t.flags|=1,e=aa(c,n),e.ref=t.ref,e.return=t,t.child=e}function ah(e,t,a,n,r){if(e!==null){var c=e.memoizedProps;if(Yn(c,n)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=n=c,ko(e,r))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,ca(e,t,r)}return yo(e,t,a,n,r)}function sh(e,t,a){var n=t.pendingProps,r=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=c!==null?c.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;t.childLanes=c&~n}else t.childLanes=0,t.child=null;return nh(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rr(t,c!==null?c.cachePool:null),c!==null?ad(t,c):Wi(),Xd(t);else return t.lanes=t.childLanes=536870912,nh(e,t,c!==null?c.baseLanes|a:a,a)}else c!==null?(rr(t,c.cachePool),ad(t,c),Ea(),t.memoizedState=null):(e!==null&&rr(t,null),Wi(),Ea());return st(e,t,r,a),t.child}function nh(e,t,a,n){var r=Vi();return r=r===null?null:{parent:Ke._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&rr(t,null),Wi(),Xd(t),e!==null&&Qn(e,t,n,!0),null}function _r(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function yo(e,t,a,n,r){return os(t),a=eo(e,t,a,n,void 0,r),n=to(),e!==null&&!Ie?(ao(e,t,r),ca(e,t,r)):(Ne&&n&&Li(t),t.flags|=1,st(e,t,a,r),t.child)}function lh(e,t,a,n,r,c){return os(t),t.updateQueue=null,a=nd(t,n,a,r),sd(e),n=to(),e!==null&&!Ie?(ao(e,t,c),ca(e,t,c)):(Ne&&n&&Li(t),t.flags|=1,st(e,t,a,c),t.child)}function rh(e,t,a,n,r){if(os(t),t.stateNode===null){var c=Ls,m=a.contextType;typeof m=="object"&&m!==null&&(c=it(m)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=po,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},Qi(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?it(m):Ls,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(xo(t,a,m,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&po.enqueueReplaceState(c,c.state,null),el(t,n,c,r),Fn(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var b=t.memoizedProps,j=ds(a,b);c.props=j;var R=c.context,B=a.contextType;m=Ls,typeof B=="object"&&B!==null&&(m=it(B));var Y=a.getDerivedStateFromProps;B=typeof Y=="function"||typeof c.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,B||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b||R!==m)&&Pd(t,c,n,m),ja=!1;var M=t.memoizedState;c.state=M,el(t,n,c,r),Fn(),R=t.memoizedState,b||M!==R||ja?(typeof Y=="function"&&(xo(t,a,Y,n),R=t.memoizedState),(j=ja||Vd(t,a,j,n,M,R,m))?(B||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),c.props=n,c.state=R,c.context=m,n=j):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Ki(e,t),m=t.memoizedProps,B=ds(a,m),c.props=B,Y=t.pendingProps,M=c.context,R=a.contextType,j=Ls,typeof R=="object"&&R!==null&&(j=it(R)),b=a.getDerivedStateFromProps,(R=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==Y||M!==j)&&Pd(t,c,n,j),ja=!1,M=t.memoizedState,c.state=M,el(t,n,c,r),Fn();var z=t.memoizedState;m!==Y||M!==z||ja||e!==null&&e.dependencies!==null&&nr(e.dependencies)?(typeof b=="function"&&(xo(t,a,b,n),z=t.memoizedState),(B=ja||Vd(t,a,B,n,M,z,j)||e!==null&&e.dependencies!==null&&nr(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,z,j),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,z,j)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=z),c.props=n,c.state=z,c.context=j,n=B):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,_r(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=Qs(t,e.child,null,r),t.child=Qs(t,null,a,r)):st(e,t,a,r),t.memoizedState=c.state,e=t.child):e=ca(e,t,r),e}function ih(e,t,a,n){return Vn(),t.flags|=256,st(e,t,a,n),t.child}var vo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wo(e){return{baseLanes:e,cachePool:Ku()}}function jo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function oh(e,t,a){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ne){if(r?ka(t):Ea(),Ne){var b=Be,j;if(j=b){e:{for(j=b,b=Qt;j.nodeType!==8;){if(!b){b=null;break e}if(j=Gt(j.nextSibling),j===null){b=null;break e}}b=j}b!==null?(t.memoizedState={dehydrated:b,treeContext:ss!==null?{id:sa,overflow:na}:null,retryLane:536870912,hydrationErrors:null},j=vt(18,null,null,0),j.stateNode=b,j.return=t,t.child=j,ct=t,Be=null,j=!0):j=!1}j||rs(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return lc(b)?t.lanes=32:t.lanes=536870912,null;oa(t)}return b=n.children,n=n.fallback,r?(Ea(),r=t.mode,b=Nr({mode:"hidden",children:b},r),n=as(n,r,a,null),b.return=t,n.return=t,b.sibling=n,t.child=b,r=t.child,r.memoizedState=wo(a),r.childLanes=jo(e,m,a),t.memoizedState=vo,n):(ka(t),_o(t,b))}if(j=e.memoizedState,j!==null&&(b=j.dehydrated,b!==null)){if(c)t.flags&256?(ka(t),t.flags&=-257,t=No(e,t,a)):t.memoizedState!==null?(Ea(),t.child=e.child,t.flags|=128,t=null):(Ea(),r=n.fallback,b=t.mode,n=Nr({mode:"visible",children:n.children},b),r=as(r,b,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Qs(t,e.child,null,a),n=t.child,n.memoizedState=wo(a),n.childLanes=jo(e,m,a),t.memoizedState=vo,t=r);else if(ka(t),lc(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var R=m.dgst;m=R,n=Error(i(419)),n.stack="",n.digest=m,Pn({value:n,source:null,stack:null}),t=No(e,t,a)}else if(Ie||Qn(e,t,a,!1),m=(a&e.childLanes)!==0,Ie||m){if(m=Me,m!==null&&(n=a&-a,n=(n&42)!==0?1:Wa(n),n=(n&(m.suspendedLanes|a))!==0?0:n,n!==0&&n!==j.retryLane))throw j.retryLane=n,zs(e,n),St(m,e,n),Fd;b.data==="$?"||Yo(),t=No(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Be=Gt(b.nextSibling),ct=t,Ne=!0,ls=null,Qt=!1,e!==null&&(Dt[Rt++]=sa,Dt[Rt++]=na,Dt[Rt++]=ss,sa=e.id,na=e.overflow,ss=t),t=_o(t,n.children),t.flags|=4096);return t}return r?(Ea(),r=n.fallback,b=t.mode,j=e.child,R=j.sibling,n=aa(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,R!==null?r=aa(R,r):(r=as(r,b,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,b=e.child.memoizedState,b===null?b=wo(a):(j=b.cachePool,j!==null?(R=Ke._currentValue,j=j.parent!==R?{parent:R,pool:R}:j):j=Ku(),b={baseLanes:b.baseLanes|a,cachePool:j}),r.memoizedState=b,r.childLanes=jo(e,m,a),t.memoizedState=vo,n):(ka(t),a=e.child,e=a.sibling,a=aa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function _o(e,t){return t=Nr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nr(e,t){return e=vt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function No(e,t,a){return Qs(t,e.child,null,a),e=_o(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$i(e.return,t,a)}function So(e,t,a,n,r){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=r)}function uh(e,t,a){var n=t.pendingProps,r=n.revealOrder,c=n.tail;if(st(e,t,n.children,a),n=Ze.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ch(e,a,t);else if(e.tag===19)ch(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(Z(Ze,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&vr(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),So(t,!1,r,a,c);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&vr(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}So(t,!0,a,null,c);break;case"together":So(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ca(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Da|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=aa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=aa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nr(e)))}function J0(e,t,a){switch(t.tag){case 3:Se(t,t.stateNode.containerInfo),wa(t,Ke,e.memoizedState.cache),Vn();break;case 27:case 5:_n(t);break;case 4:Se(t,t.stateNode.containerInfo);break;case 10:wa(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ka(t),t.flags|=128,null):(a&t.child.childLanes)!==0?oh(e,t,a):(ka(t),e=ca(e,t,a),e!==null?e.sibling:null);ka(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Qn(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return uh(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Z(Ze,Ze.current),n)break;return null;case 22:case 23:return t.lanes=0,sh(e,t,a);case 24:wa(t,Ke,e.memoizedState.cache)}return ca(e,t,a)}function dh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!ko(e,a)&&(t.flags&128)===0)return Ie=!1,J0(e,t,a);Ie=(e.flags&131072)!==0}else Ie=!1,Ne&&(t.flags&1048576)!==0&&$u(t,sr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")Ui(n)?(e=ds(n,e),t.tag=1,t=rh(null,t,n,e,a)):(t.tag=0,t=yo(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===$){t.tag=11,t=eh(null,t,n,e,a);break e}else if(r===te){t.tag=14,t=th(null,t,n,e,a);break e}}throw t=Ue(n)||n,Error(i(306,t,""))}}return t;case 0:return yo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=ds(n,t.pendingProps),rh(e,t,n,r,a);case 3:e:{if(Se(t,t.stateNode.containerInfo),e===null)throw Error(i(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,Ki(e,t),el(t,n,null,a);var m=t.memoizedState;if(n=m.cache,wa(t,Ke,n),n!==c.cache&&Yi(t,[Ke],a,!0),Fn(),n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ih(e,t,n,a);break e}else if(n!==r){r=Ct(Error(i(424)),t),Pn(r),t=ih(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=Gt(e.firstChild),ct=t,Ne=!0,ls=null,Qt=!0,a=Gd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vn(),n===r){t=ca(e,t,a);break e}st(e,t,n,a)}t=t.child}return t;case 26:return _r(e,t),e===null?(a=xf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ne||(a=t.type,e=t.pendingProps,n=qr(le.current).createElement(a),n[rt]=t,n[ht]=e,lt(n,a,e),We(n),t.stateNode=n):t.memoizedState=xf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _n(t),e===null&&Ne&&(n=t.stateNode=ff(t.type,t.pendingProps,le.current),ct=t,Qt=!0,r=Be,za(t.type)?(rc=r,Be=Gt(n.firstChild)):Be=r),st(e,t,t.pendingProps.children,a),_r(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ne&&((r=n=Be)&&(n=Ng(n,t.type,t.pendingProps,Qt),n!==null?(t.stateNode=n,ct=t,Be=Gt(n.firstChild),Qt=!1,r=!0):r=!1),r||rs(t)),_n(t),r=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,n=c.children,ac(r,c)?n=null:m!==null&&ac(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=eo(e,t,Y0,null,null,a),jl._currentValue=r),_r(e,t),st(e,t,n,a),t.child;case 6:return e===null&&Ne&&((e=a=Be)&&(a=Sg(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,ct=t,Be=null,e=!0):e=!1),e||rs(t)),null;case 13:return oh(e,t,a);case 4:return Se(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qs(t,null,n,a):st(e,t,n,a),t.child;case 11:return eh(e,t,t.type,t.pendingProps,a);case 7:return st(e,t,t.pendingProps,a),t.child;case 8:return st(e,t,t.pendingProps.children,a),t.child;case 12:return st(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,wa(t,t.type,n.value),st(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,os(t),r=it(r),n=n(r),t.flags|=1,st(e,t,n,a),t.child;case 14:return th(e,t,t.type,t.pendingProps,a);case 15:return ah(e,t,t.type,t.pendingProps,a);case 19:return uh(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Nr(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=aa(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return sh(e,t,a);case 24:return os(t),n=it(Ke),e===null?(r=Vi(),r===null&&(r=Me,c=Gi(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:n,cache:r},Qi(t),wa(t,Ke,r)):((e.lanes&a)!==0&&(Ki(e,t),el(t,null,null,a),Fn()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wa(t,Ke,n)):(n=c.cache,wa(t,Ke,n),n!==r.cache&&Yi(t,[Ke],a,!0))),st(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ua(e){e.flags|=4}function hh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!wf(t)){if(t=Ut.current,t!==null&&((ve&4194048)===ve?Kt!==null:(ve&62914560)!==ve&&(ve&536870912)===0||t!==Kt))throw Wn=Pi,Zu;e.flags|=8192}}function Sr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cn():536870912,e.lanes|=t,Ws|=t)}function il(e,t){if(!Ne)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function W0(e,t,a){var n=t.pendingProps;switch(qi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ra(Ke),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?ua(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xu())),qe(t),null;case 26:return a=t.memoizedState,e===null?(ua(t),a!==null?(qe(t),hh(t,a)):(qe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ua(t),qe(t),hh(t,a)):(qe(t),t.flags&=-16777217):(e.memoizedProps!==n&&ua(t),qe(t),t.flags&=-16777217),null;case 27:vs(t),a=le.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return qe(t),null}e=F.current,Xn(t)?Yu(t):(e=ff(r,n,a),t.stateNode=e,ua(t))}return qe(t),null;case 5:if(vs(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return qe(t),null}if(e=F.current,Xn(t))Yu(t);else{switch(r=qr(le.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[rt]=t,e[ht]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(lt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ua(t)}}return qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ua(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(i(166));if(e=le.current,Xn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=ct,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[rt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||lf(e.nodeValue,a)),e||rs(t)}else e=qr(e).createTextNode(n),e[rt]=t,t.stateNode=e}return qe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Xn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(i(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));r[rt]=t}else Vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),r=!1}else r=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(oa(t),t):(oa(t),null)}if(oa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var c=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Sr(t,t.updateQueue),qe(t),null;case 4:return ut(),e===null&&Wo(t.stateNode.containerInfo),qe(t),null;case 10:return ra(t.type),qe(t),null;case 19:if(q(Ze),r=t.memoizedState,r===null)return qe(t),null;if(n=(t.flags&128)!==0,c=r.rendering,c===null)if(n)il(r,!1);else{if(He!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=vr(e),c!==null){for(t.flags|=128,il(r,!1),e=c.updateQueue,t.updateQueue=e,Sr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Hu(a,e),a=a.sibling;return Z(Ze,Ze.current&1|2),t.child}e=e.sibling}r.tail!==null&&kt()>Tr&&(t.flags|=128,n=!0,il(r,!1),t.lanes=4194304)}else{if(!n)if(e=vr(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Sr(t,e),il(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Ne)return qe(t),null}else 2*kt()-r.renderingStartTime>Tr&&a!==536870912&&(t.flags|=128,n=!0,il(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=kt(),t.sibling=null,e=Ze.current,Z(Ze,n?e&1|2:e&1),t):(qe(t),null);case 22:case 23:return oa(t),Ii(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),a=t.updateQueue,a!==null&&Sr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&q(cs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ra(Ke),qe(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function I0(e,t){switch(qi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ra(Ke),ut(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vs(t),null;case 13:if(oa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return q(Ze),null;case 4:return ut(),null;case 10:return ra(t.type),null;case 22:case 23:return oa(t),Ii(),e!==null&&q(cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ra(Ke),null;case 25:return null;default:return null}}function fh(e,t){switch(qi(t),t.tag){case 3:ra(Ke),ut();break;case 26:case 27:case 5:vs(t);break;case 4:ut();break;case 13:oa(t);break;case 19:q(Ze);break;case 10:ra(t.type);break;case 22:case 23:oa(t),Ii(),e!==null&&q(cs);break;case 24:ra(Ke)}}function ol(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var c=a.create,m=a.inst;n=c(),m.destroy=n}a=a.next}while(a!==r)}}catch(b){Re(t,t.return,b)}}function Ta(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var m=n.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,r=t;var j=a,R=b;try{R()}catch(B){Re(r,j,B)}}}n=n.next}while(n!==c)}}catch(B){Re(t,t.return,B)}}function mh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{td(t,a)}catch(n){Re(e,e.return,n)}}}function gh(e,t,a){a.props=ds(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Re(e,t,n)}}function cl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){Re(e,t,r)}}function Zt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){Re(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Re(e,t,r)}else a.current=null}function xh(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Re(e,e.return,r)}}function Eo(e,t,a){try{var n=e.stateNode;yg(n,e.type,a,t),n[ht]=t}catch(r){Re(e,e.return,r)}}function ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&za(e.type)||e.tag===4}function To(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&za(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ao(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Lr));else if(n!==4&&(n===27&&za(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ao(e,t,a),e=e.sibling;e!==null;)Ao(e,t,a),e=e.sibling}function kr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&za(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(kr(e,t,a),e=e.sibling;e!==null;)kr(e,t,a),e=e.sibling}function bh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);lt(t,n,a),t[rt]=e,t[ht]=a}catch(c){Re(e,e.return,c)}}var da=!1,Ye=!1,Co=!1,yh=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function F0(e,t){if(e=e.containerInfo,ec=Xr,e=Cu(e),Ei(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,b=-1,j=-1,R=0,B=0,Y=e,M=null;t:for(;;){for(var z;Y!==a||r!==0&&Y.nodeType!==3||(b=m+r),Y!==c||n!==0&&Y.nodeType!==3||(j=m+n),Y.nodeType===3&&(m+=Y.nodeValue.length),(z=Y.firstChild)!==null;)M=Y,Y=z;for(;;){if(Y===e)break t;if(M===a&&++R===r&&(b=m),M===c&&++B===n&&(j=m),(z=Y.nextSibling)!==null)break;Y=M,M=Y.parentNode}Y=z}a=b===-1||j===-1?null:{start:b,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(tc={focusedElem:e,selectionRange:a},Xr=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var oe=ds(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(oe,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(re){Re(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)nc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function vh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Aa(e,a),n&4&&ol(5,a);break;case 1:if(Aa(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Re(a,a.return,m)}else{var r=ds(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Re(a,a.return,m)}}n&64&&mh(a),n&512&&cl(a,a.return);break;case 3:if(Aa(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{td(e,t)}catch(m){Re(a,a.return,m)}}break;case 27:t===null&&n&4&&bh(a);case 26:case 5:Aa(e,a),t===null&&n&4&&xh(a),n&512&&cl(a,a.return);break;case 12:Aa(e,a);break;case 13:Aa(e,a),n&4&&_h(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=og.bind(null,a),kg(e,a))));break;case 22:if(n=a.memoizedState!==null||da,!n){t=t!==null&&t.memoizedState!==null||Ye,r=da;var c=Ye;da=n,(Ye=t)&&!c?Ca(e,a,(a.subtreeFlags&8772)!==0):Aa(e,a),da=r,Ye=c}break;case 30:break;default:Aa(e,a)}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Le=null,gt=!1;function ha(e,t,a){for(a=a.child;a!==null;)jh(e,t,a),a=a.sibling}function jh(e,t,a){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Bt,a)}catch{}switch(a.tag){case 26:Ye||Zt(a,t),ha(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ye||Zt(a,t);var n=Le,r=gt;za(a.type)&&(Le=a.stateNode,gt=!1),ha(e,t,a),bl(a.stateNode),Le=n,gt=r;break;case 5:Ye||Zt(a,t);case 6:if(n=Le,r=gt,Le=null,ha(e,t,a),Le=n,gt=r,Le!==null)if(gt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(c){Re(a,t,c)}else try{Le.removeChild(a.stateNode)}catch(c){Re(a,t,c)}break;case 18:Le!==null&&(gt?(e=Le,df(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),kl(e)):df(Le,a.stateNode));break;case 4:n=Le,r=gt,Le=a.stateNode.containerInfo,gt=!0,ha(e,t,a),Le=n,gt=r;break;case 0:case 11:case 14:case 15:Ye||Ta(2,a,t),Ye||Ta(4,a,t),ha(e,t,a);break;case 1:Ye||(Zt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&gh(a,t,n)),ha(e,t,a);break;case 21:ha(e,t,a);break;case 22:Ye=(n=Ye)||a.memoizedState!==null,ha(e,t,a),Ye=n;break;default:ha(e,t,a)}}function _h(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(a){Re(t,t.return,a)}}function eg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new yh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new yh),t;default:throw Error(i(435,e.tag))}}function Oo(e,t){var a=eg(e);t.forEach(function(n){var r=cg.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function wt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],c=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(za(b.type)){Le=b.stateNode,gt=!1;break e}break;case 5:Le=b.stateNode,gt=!1;break e;case 3:case 4:Le=b.stateNode.containerInfo,gt=!0;break e}b=b.return}if(Le===null)throw Error(i(160));jh(c,m,r),Le=null,gt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Nh(t,e),t=t.sibling}var Yt=null;function Nh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),jt(e),n&4&&(Ta(3,e,e.return),ol(3,e),Ta(5,e,e.return));break;case 1:wt(t,e),jt(e),n&512&&(Ye||a===null||Zt(a,a.return)),n&64&&da&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=Yt;if(wt(t,e),jt(e),n&512&&(Ye||a===null||Zt(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Rn]||c[rt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),lt(c,n,a),c[rt]=e,We(c),n=c;break e;case"link":var m=yf("link","href",r).get(n+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(c=m[b],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}c=r.createElement(n),lt(c,n,a),r.head.appendChild(c);break;case"meta":if(m=yf("meta","content",r).get(n+(a.content||""))){for(b=0;b<m.length;b++)if(c=m[b],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}c=r.createElement(n),lt(c,n,a),r.head.appendChild(c);break;default:throw Error(i(468,n))}c[rt]=e,We(c),n=c}e.stateNode=n}else vf(r,e.type,e.stateNode);else e.stateNode=bf(r,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?vf(r,e.type,e.stateNode):bf(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Eo(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),jt(e),n&512&&(Ye||a===null||Zt(a,a.return)),a!==null&&n&4&&Eo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),jt(e),n&512&&(Ye||a===null||Zt(a,a.return)),e.flags&32){r=e.stateNode;try{As(r,"")}catch(z){Re(e,e.return,z)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,Eo(e,r,a!==null?a.memoizedProps:r)),n&1024&&(Co=!0);break;case 6:if(wt(t,e),jt(e),n&4){if(e.stateNode===null)throw Error(i(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(z){Re(e,e.return,z)}}break;case 3:if($r=null,r=Yt,Yt=Br(t.containerInfo),wt(t,e),Yt=r,jt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(z){Re(e,e.return,z)}Co&&(Co=!1,Sh(e));break;case 4:n=Yt,Yt=Br(e.stateNode.containerInfo),wt(t,e),jt(e),Yt=n;break;case 12:wt(t,e),jt(e);break;case 13:wt(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lo=kt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Oo(e,n)));break;case 22:r=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,R=da,B=Ye;if(da=R||r,Ye=B||j,wt(t,e),Ye=B,da=R,jt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||j||da||Ye||hs(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(c=j.stateNode,r)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=j.stateNode;var Y=j.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(z){Re(j,j.return,z)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=r?"":j.memoizedProps}catch(z){Re(j,j.return,z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Oo(e,a))));break;case 19:wt(t,e),jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Oo(e,n)));break;case 30:break;case 21:break;default:wt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(ph(n)){a=n;break}n=n.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var r=a.stateNode,c=To(e);kr(e,c,r);break;case 5:var m=a.stateNode;a.flags&32&&(As(m,""),a.flags&=-33);var b=To(e);kr(e,b,m);break;case 3:case 4:var j=a.stateNode.containerInfo,R=To(e);Ao(e,R,j);break;default:throw Error(i(161))}}catch(B){Re(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Aa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)vh(e,t.alternate,t),t=t.sibling}function hs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ta(4,t,t.return),hs(t);break;case 1:Zt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&gh(t,t.return,a),hs(t);break;case 27:bl(t.stateNode);case 26:case 5:Zt(t,t.return),hs(t);break;case 22:t.memoizedState===null&&hs(t);break;case 30:hs(t);break;default:hs(t)}e=e.sibling}}function Ca(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Ca(r,c,a),ol(4,c);break;case 1:if(Ca(r,c,a),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(R){Re(n,n.return,R)}if(n=c,r=n.updateQueue,r!==null){var b=n.stateNode;try{var j=r.shared.hiddenCallbacks;if(j!==null)for(r.shared.hiddenCallbacks=null,r=0;r<j.length;r++)ed(j[r],b)}catch(R){Re(n,n.return,R)}}a&&m&64&&mh(c),cl(c,c.return);break;case 27:bh(c);case 26:case 5:Ca(r,c,a),a&&n===null&&m&4&&xh(c),cl(c,c.return);break;case 12:Ca(r,c,a);break;case 13:Ca(r,c,a),a&&m&4&&_h(r,c);break;case 22:c.memoizedState===null&&Ca(r,c,a),cl(c,c.return);break;case 30:break;default:Ca(r,c,a)}t=t.sibling}}function Do(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Kn(a))}function Ro(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e))}function Jt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kh(e,t,a,n),t=t.sibling}function kh(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,a,n),r&2048&&ol(9,t);break;case 1:Jt(e,t,a,n);break;case 3:Jt(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e)));break;case 12:if(r&2048){Jt(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,b=c.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Re(t,t.return,j)}}else Jt(e,t,a,n);break;case 13:Jt(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?Jt(e,t,a,n):ul(e,t):c._visibility&2?Jt(e,t,a,n):(c._visibility|=2,Ks(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&Do(m,t);break;case 24:Jt(e,t,a,n),r&2048&&Ro(t.alternate,t);break;default:Jt(e,t,a,n)}}function Ks(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,m=t,b=a,j=n,R=m.flags;switch(m.tag){case 0:case 11:case 15:Ks(c,m,b,j,r),ol(8,m);break;case 23:break;case 22:var B=m.stateNode;m.memoizedState!==null?B._visibility&2?Ks(c,m,b,j,r):ul(c,m):(B._visibility|=2,Ks(c,m,b,j,r)),r&&R&2048&&Do(m.alternate,m);break;case 24:Ks(c,m,b,j,r),r&&R&2048&&Ro(m.alternate,m);break;default:Ks(c,m,b,j,r)}t=t.sibling}}function ul(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:ul(a,n),r&2048&&Do(n.alternate,n);break;case 24:ul(a,n),r&2048&&Ro(n.alternate,n);break;default:ul(a,n)}t=t.sibling}}var dl=8192;function Zs(e){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)Eh(e),e=e.sibling}function Eh(e){switch(e.tag){case 26:Zs(e),e.flags&dl&&e.memoizedState!==null&&Bg(Yt,e.memoizedState,e.memoizedProps);break;case 5:Zs(e);break;case 3:case 4:var t=Yt;Yt=Br(e.stateNode.containerInfo),Zs(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=dl,dl=16777216,Zs(e),dl=t):Zs(e));break;default:Zs(e)}}function Th(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Fe=n,Ch(n,e)}Th(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ah(e),e=e.sibling}function Ah(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Ta(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Er(e)):hl(e);break;default:hl(e)}}function Er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Fe=n,Ch(n,e)}Th(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ta(8,t,t.return),Er(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Er(t));break;default:Er(t)}e=e.sibling}}function Ch(e,t){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Ta(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Kn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Fe=n;else e:for(a=e;Fe!==null;){n=Fe;var r=n.sibling,c=n.return;if(wh(n),n===a){Fe=null;break e}if(r!==null){r.return=c,Fe=r;break e}Fe=c}}}var tg={getCacheForType:function(e){var t=it(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},ag=typeof WeakMap=="function"?WeakMap:Map,Te=0,Me=null,ge=null,ve=0,Ae=0,_t=null,Oa=!1,Js=!1,Uo=!1,fa=0,He=0,Da=0,fs=0,Mo=0,Mt=0,Ws=0,fl=null,xt=null,zo=!1,Lo=0,Tr=1/0,Ar=null,Ra=null,nt=0,Ua=null,Is=null,Fs=0,qo=0,Bo=null,Oh=null,ml=0,Ho=null;function Nt(){if((Te&2)!==0&&ve!==0)return ve&-ve;if(D.T!==null){var e=Hs;return e!==0?e:Qo()}return Dn()}function Dh(){Mt===0&&(Mt=(ve&536870912)===0||Ne?An():536870912);var e=Ut.current;return e!==null&&(e.flags|=32),Mt}function St(e,t,a){(e===Me&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(en(e,0),Ma(e,ve,Mt,!1)),ba(e,a),((Te&2)===0||e!==Me)&&(e===Me&&((Te&2)===0&&(fs|=a),He===4&&Ma(e,ve,Mt,!1)),Wt(e))}function Rh(e,t,a){if((Te&6)!==0)throw Error(i(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||pa(e,t),r=n?lg(e,t):Go(e,t,!0),c=n;do{if(r===0){Js&&!n&&Ma(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!sg(a)){r=Go(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;r=fl;var j=b.current.memoizedState.isDehydrated;if(j&&(en(b,m).flags|=256),m=Go(b,m,!1),m!==2){if(Uo&&!j){b.errorRecoveryDisabledLanes|=c,fs|=c,r=4;break e}c=xt,xt=r,c!==null&&(xt===null?xt=c:xt.push.apply(xt,c))}r=m}if(c=!1,r!==2)continue}}if(r===1){en(e,0),Ma(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:Ma(n,t,Mt,!Oa);break e;case 2:xt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(r=Lo+300-kt(),10<r)){if(Ma(n,t,Mt,!Oa),Ja(n,0,!0)!==0)break e;n.timeoutHandle=cf(Uh.bind(null,n,a,xt,Ar,zo,t,Mt,fs,Ws,Oa,c,2,-0,0),r);break e}Uh(n,a,xt,Ar,zo,t,Mt,fs,Ws,Oa,c,0,-0,0)}}break}while(!0);Wt(e)}function Uh(e,t,a,n,r,c,m,b,j,R,B,Y,M,z){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:qg},Eh(t),Y=Hg(),Y!==null)){e.cancelPendingCommit=Y($h.bind(null,e,t,c,a,n,r,m,b,j,B,1,M,z)),Ma(e,c,m,!R);return}$h(e,t,c,a,n,r,m,b,j)}function sg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],c=r.getSnapshot;r=r.value;try{if(!yt(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t,a,n){t&=~Mo,t&=~fs,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-Qe(r),m=1<<c;n[c]=-1,r&=~m}a!==0&&On(e,a,t)}function Cr(){return(Te&6)===0?(gl(0),!1):!0}function $o(){if(ge!==null){if(Ae===0)var e=ge.return;else e=ge,la=is=null,so(e),Ps=null,ll=0,e=ge;for(;e!==null;)fh(e.alternate,e),e=e.return;ge=null}}function en(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,wg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$o(),Me=e,ge=a=aa(e.current,null),ve=t,Ae=0,_t=null,Oa=!1,Js=pa(e,t),Uo=!1,Ws=Mt=Mo=fs=Da=He=0,xt=fl=null,zo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-Qe(n),c=1<<r;t|=e[r],n&=~c}return fa=t,Il(),a}function Mh(e,t){he=null,D.H=pr,t===Jn||t===ir?(t=Iu(),Ae=3):t===Zu?(t=Iu(),Ae=4):Ae=t===Fd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,ge===null&&(He=1,jr(e,Ct(t,e.current)))}function zh(){var e=D.H;return D.H=pr,e===null?pr:e}function Lh(){var e=D.A;return D.A=tg,e}function Yo(){He=4,Oa||(ve&4194048)!==ve&&Ut.current!==null||(Js=!0),(Da&134217727)===0&&(fs&134217727)===0||Me===null||Ma(Me,ve,Mt,!1)}function Go(e,t,a){var n=Te;Te|=2;var r=zh(),c=Lh();(Me!==e||ve!==t)&&(Ar=null,en(e,t)),t=!1;var m=He;e:do try{if(Ae!==0&&ge!==null){var b=ge,j=_t;switch(Ae){case 8:$o(),m=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var R=Ae;if(Ae=0,_t=null,tn(e,b,j,R),a&&Js){m=0;break e}break;default:R=Ae,Ae=0,_t=null,tn(e,b,j,R)}}ng(),m=He;break}catch(B){Mh(e,B)}while(!0);return t&&e.shellSuspendCounter++,la=is=null,Te=n,D.H=r,D.A=c,ge===null&&(Me=null,ve=0,Il()),m}function ng(){for(;ge!==null;)qh(ge)}function lg(e,t){var a=Te;Te|=2;var n=zh(),r=Lh();Me!==e||ve!==t?(Ar=null,Tr=kt()+500,en(e,t)):Js=pa(e,t);e:do try{if(Ae!==0&&ge!==null){t=ge;var c=_t;t:switch(Ae){case 1:Ae=0,_t=null,tn(e,t,c,1);break;case 2:case 9:if(Ju(c)){Ae=0,_t=null,Bh(t);break}t=function(){Ae!==2&&Ae!==9||Me!==e||(Ae=7),Wt(e)},c.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Ju(c)?(Ae=0,_t=null,Bh(t)):(Ae=0,_t=null,tn(e,t,c,7));break;case 5:var m=null;switch(ge.tag){case 26:m=ge.memoizedState;case 5:case 27:var b=ge;if(!m||wf(m)){Ae=0,_t=null;var j=b.sibling;if(j!==null)ge=j;else{var R=b.return;R!==null?(ge=R,Or(R)):ge=null}break t}}Ae=0,_t=null,tn(e,t,c,5);break;case 6:Ae=0,_t=null,tn(e,t,c,6);break;case 8:$o(),He=6;break e;default:throw Error(i(462))}}rg();break}catch(B){Mh(e,B)}while(!0);return la=is=null,D.H=n,D.A=r,Te=a,ge!==null?0:(Me=null,ve=0,Il(),He)}function rg(){for(;ge!==null&&!ni();)qh(ge)}function qh(e){var t=dh(e.alternate,e,fa);e.memoizedProps=e.pendingProps,t===null?Or(e):ge=t}function Bh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=lh(a,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=lh(a,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:so(t);default:fh(a,t),t=ge=Hu(t,fa),t=dh(a,t,fa)}e.memoizedProps=e.pendingProps,t===null?Or(e):ge=t}function tn(e,t,a,n){la=is=null,so(t),Ps=null,ll=0;var r=t.return;try{if(Z0(e,r,t,a,ve)){He=1,jr(e,Ct(a,e.current)),ge=null;return}}catch(c){if(r!==null)throw ge=r,c;He=1,jr(e,Ct(a,e.current)),ge=null;return}t.flags&32768?(Ne||n===1?e=!0:Js||(ve&536870912)!==0?e=!1:(Oa=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ut.current,n!==null&&n.tag===13&&(n.flags|=16384))),Hh(t,e)):Or(t)}function Or(e){var t=e;do{if((t.flags&32768)!==0){Hh(t,Oa);return}e=t.return;var a=W0(t.alternate,t,fa);if(a!==null){ge=a;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);He===0&&(He=5)}function Hh(e,t){do{var a=I0(e.alternate,e);if(a!==null){a.flags&=32767,ge=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=a}while(e!==null);He=6,ge=null}function $h(e,t,a,n,r,c,m,b,j){e.cancelPendingCommit=null;do Dr();while(nt!==0);if((Te&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(c=t.lanes|t.childLanes,c|=Di,Hl(e,a,c,m,b,j),e===Me&&(ge=Me=null,ve=0),Is=t,Ua=e,Fs=a,qo=c,Bo=r,Oh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ug(J,function(){return Ph(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=D.T,D.T=null,r=Q.p,Q.p=2,m=Te,Te|=4;try{F0(e,t,a)}finally{Te=m,Q.p=r,D.T=n}}nt=1,Yh(),Gh(),Xh()}}function Yh(){if(nt===1){nt=0;var e=Ua,t=Is,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var n=Q.p;Q.p=2;var r=Te;Te|=4;try{Nh(t,e);var c=tc,m=Cu(e.containerInfo),b=c.focusedElem,j=c.selectionRange;if(m!==b&&b&&b.ownerDocument&&Au(b.ownerDocument.documentElement,b)){if(j!==null&&Ei(b)){var R=j.start,B=j.end;if(B===void 0&&(B=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(B,b.value.length);else{var Y=b.ownerDocument||document,M=Y&&Y.defaultView||window;if(M.getSelection){var z=M.getSelection(),oe=b.textContent.length,re=Math.min(j.start,oe),De=j.end===void 0?re:Math.min(j.end,oe);!z.extend&&re>De&&(m=De,De=re,re=m);var T=Tu(b,re),N=Tu(b,De);if(T&&N&&(z.rangeCount!==1||z.anchorNode!==T.node||z.anchorOffset!==T.offset||z.focusNode!==N.node||z.focusOffset!==N.offset)){var O=Y.createRange();O.setStart(T.node,T.offset),z.removeAllRanges(),re>De?(z.addRange(O),z.extend(N.node,N.offset)):(O.setEnd(N.node,N.offset),z.addRange(O))}}}}for(Y=[],z=b;z=z.parentNode;)z.nodeType===1&&Y.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var H=Y[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Xr=!!ec,tc=ec=null}finally{Te=r,Q.p=n,D.T=a}}e.current=t,nt=2}}function Gh(){if(nt===2){nt=0;var e=Ua,t=Is,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var n=Q.p;Q.p=2;var r=Te;Te|=4;try{vh(e,t.alternate,t)}finally{Te=r,Q.p=n,D.T=a}}nt=3}}function Xh(){if(nt===4||nt===3){nt=0,li();var e=Ua,t=Is,a=Fs,n=Oh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,Is=Ua=null,Vh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ra=null),ya(a),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Bt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=D.T,r=Q.p,Q.p=2,D.T=null;try{for(var c=e.onRecoverableError,m=0;m<n.length;m++){var b=n[m];c(b.value,{componentStack:b.stack})}}finally{D.T=t,Q.p=r}}(Fs&3)!==0&&Dr(),Wt(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===Ho?ml++:(ml=0,Ho=e):ml=0,gl(0)}}function Vh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kn(t)))}function Dr(e){return Yh(),Gh(),Xh(),Ph()}function Ph(){if(nt!==5)return!1;var e=Ua,t=qo;qo=0;var a=ya(Fs),n=D.T,r=Q.p;try{Q.p=32>a?32:a,D.T=null,a=Bo,Bo=null;var c=Ua,m=Fs;if(nt=0,Is=Ua=null,Fs=0,(Te&6)!==0)throw Error(i(331));var b=Te;if(Te|=4,Ah(c.current),kh(c,c.current,m,a),Te=b,gl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Bt,c)}catch{}return!0}finally{Q.p=r,D.T=n,Vh(e,t)}}function Qh(e,t,a){t=Ct(a,t),t=bo(e.stateNode,t,2),e=Na(e,t,2),e!==null&&(ba(e,2),Wt(e))}function Re(e,t,a){if(e.tag===3)Qh(e,e,a);else for(;t!==null;){if(t.tag===3){Qh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ra===null||!Ra.has(n))){e=Ct(a,e),a=Wd(2),n=Na(t,a,2),n!==null&&(Id(a,n,t,e),ba(n,2),Wt(n));break}}t=t.return}}function Xo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new ag;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(Uo=!0,r.add(a),e=ig.bind(null,e,t,a),t.then(e,e))}function ig(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(ve&a)===a&&(He===4||He===3&&(ve&62914560)===ve&&300>kt()-Lo?(Te&2)===0&&en(e,0):Mo|=a,Ws===ve&&(Ws=0)),Wt(e)}function Kh(e,t){t===0&&(t=Cn()),e=zs(e,t),e!==null&&(ba(e,t),Wt(e))}function og(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Kh(e,a)}function cg(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}n!==null&&n.delete(t),Kh(e,a)}function ug(e,t){return Sn(e,t)}var Rr=null,an=null,Vo=!1,Ur=!1,Po=!1,ms=0;function Wt(e){e!==an&&e.next===null&&(an===null?Rr=an=e:an=an.next=e),Ur=!0,Vo||(Vo=!0,hg())}function gl(e,t){if(!Po&&Ur){Po=!0;do for(var a=!1,n=Rr;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var m=n.suspendedLanes,b=n.pingedLanes;c=(1<<31-Qe(42|e)+1)-1,c&=r&~(m&~b),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,Ih(n,c))}else c=ve,c=Ja(n,n===Me?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||pa(n,c)||(a=!0,Ih(n,c));n=n.next}while(a);Po=!1}}function dg(){Zh()}function Zh(){Ur=Vo=!1;var e=0;ms!==0&&(vg()&&(e=ms),ms=0);for(var t=kt(),a=null,n=Rr;n!==null;){var r=n.next,c=Jh(n,t);c===0?(n.next=null,a===null?Rr=r:a.next=r,r===null&&(an=a)):(a=n,(e!==0||(c&3)!==0)&&(Ur=!0)),n=r}gl(e)}function Jh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Qe(c),b=1<<m,j=r[m];j===-1?((b&a)===0||(b&n)!==0)&&(r[m]=Bl(b,t)):j<=t&&(e.expiredLanes|=b),c&=~b}if(t=Me,a=ve,a=Ja(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&xa(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||pa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&xa(n),ya(a)){case 2:case 8:a=En;break;case 32:a=J;break;case 268435456:a=bt;break;default:a=J}return n=Wh.bind(null,e),a=Sn(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&xa(n),e.callbackPriority=2,e.callbackNode=null,2}function Wh(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Dr()&&e.callbackNode!==a)return null;var n=ve;return n=Ja(e,e===Me?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Rh(e,n,t),Jh(e,kt()),e.callbackNode!=null&&e.callbackNode===a?Wh.bind(null,e):null)}function Ih(e,t){if(Dr())return null;Rh(e,t,!0)}function hg(){jg(function(){(Te&6)!==0?Sn(kn,dg):Zh()})}function Qo(){return ms===0&&(ms=An()),ms}function Fh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vl(""+e)}function ef(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function fg(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var c=Fh((r[ht]||null).action),m=n.submitter;m&&(t=(t=m[ht]||null)?Fh(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var b=new Zl("action","action",null,n,r);e.push({event:b,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(ms!==0){var j=m?ef(r,m):new FormData(r);fo(a,{pending:!0,data:j,method:r.method,action:c},null,j)}}else typeof c=="function"&&(b.preventDefault(),j=m?ef(r,m):new FormData(r),fo(a,{pending:!0,data:j,method:r.method,action:c},c,j))},currentTarget:r}]})}}for(var Ko=0;Ko<Oi.length;Ko++){var Zo=Oi[Ko],mg=Zo.toLowerCase(),gg=Zo[0].toUpperCase()+Zo.slice(1);$t(mg,"on"+gg)}$t(Ru,"onAnimationEnd"),$t(Uu,"onAnimationIteration"),$t(Mu,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(D0,"onTransitionRun"),$t(R0,"onTransitionStart"),$t(U0,"onTransitionCancel"),$t(zu,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function tf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var m=n.length-1;0<=m;m--){var b=n[m],j=b.instance,R=b.currentTarget;if(b=b.listener,j!==c&&r.isPropagationStopped())break e;c=b,r.currentTarget=R;try{c(r)}catch(B){wr(B)}r.currentTarget=null,c=j}else for(m=0;m<n.length;m++){if(b=n[m],j=b.instance,R=b.currentTarget,b=b.listener,j!==c&&r.isPropagationStopped())break e;c=b,r.currentTarget=R;try{c(r)}catch(B){wr(B)}r.currentTarget=null,c=j}}}}function xe(e,t){var a=t[ii];a===void 0&&(a=t[ii]=new Set);var n=e+"__bubble";a.has(n)||(af(t,e,2,!1),a.add(n))}function Jo(e,t,a){var n=0;t&&(n|=4),af(a,e,n,t)}var Mr="_reactListening"+Math.random().toString(36).slice(2);function Wo(e){if(!e[Mr]){e[Mr]=!0,Zc.forEach(function(a){a!=="selectionchange"&&(xg.has(a)||Jo(a,!1,e),Jo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mr]||(t[Mr]=!0,Jo("selectionchange",!1,t))}}function af(e,t,a,n){switch(Ef(t)){case 2:var r=Gg;break;case 8:r=Xg;break;default:r=dc}a=r.bind(null,t,a,e),r=void 0,!bi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Io(e,t,a,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var b=n.stateNode.containerInfo;if(b===r)break;if(m===4)for(m=n.return;m!==null;){var j=m.tag;if((j===3||j===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;b!==null;){if(m=_s(b),m===null)return;if(j=m.tag,j===5||j===6||j===26||j===27){n=c=m;continue e}b=b.parentNode}}n=n.return}cu(function(){var R=c,B=xi(a),Y=[];e:{var M=Lu.get(e);if(M!==void 0){var z=Zl,oe=e;switch(e){case"keypress":if(Ql(a)===0)break e;case"keydown":case"keyup":z=u0;break;case"focusin":oe="focus",z=ji;break;case"focusout":oe="blur",z=ji;break;case"beforeblur":case"afterblur":z=ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Im;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=f0;break;case Ru:case Uu:case Mu:z=t0;break;case zu:z=g0;break;case"scroll":case"scrollend":z=Jm;break;case"wheel":z=p0;break;case"copy":case"cut":case"paste":z=s0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=mu;break;case"toggle":case"beforetoggle":z=y0}var re=(t&4)!==0,De=!re&&(e==="scroll"||e==="scrollend"),T=re?M!==null?M+"Capture":null:M;re=[];for(var N=R,O;N!==null;){var H=N;if(O=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||O===null||T===null||(H=Mn(N,T),H!=null&&re.push(pl(N,H,O))),De)break;N=N.return}0<re.length&&(M=new z(M,oe,null,a,B),Y.push({event:M,listeners:re}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",M&&a!==gi&&(oe=a.relatedTarget||a.fromElement)&&(_s(oe)||oe[js]))break e;if((z||M)&&(M=B.window===B?B:(M=B.ownerDocument)?M.defaultView||M.parentWindow:window,z?(oe=a.relatedTarget||a.toElement,z=R,oe=oe?_s(oe):null,oe!==null&&(De=h(oe),re=oe.tag,oe!==De||re!==5&&re!==27&&re!==6)&&(oe=null)):(z=null,oe=R),z!==oe)){if(re=hu,H="onMouseLeave",T="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(re=mu,H="onPointerLeave",T="onPointerEnter",N="pointer"),De=z==null?M:Un(z),O=oe==null?M:Un(oe),M=new re(H,N+"leave",z,a,B),M.target=De,M.relatedTarget=O,H=null,_s(B)===R&&(re=new re(T,N+"enter",oe,a,B),re.target=O,re.relatedTarget=De,H=re),De=H,z&&oe)t:{for(re=z,T=oe,N=0,O=re;O;O=sn(O))N++;for(O=0,H=T;H;H=sn(H))O++;for(;0<N-O;)re=sn(re),N--;for(;0<O-N;)T=sn(T),O--;for(;N--;){if(re===T||T!==null&&re===T.alternate)break t;re=sn(re),T=sn(T)}re=null}else re=null;z!==null&&sf(Y,M,z,re,!1),oe!==null&&De!==null&&sf(Y,De,oe,re,!0)}}e:{if(M=R?Un(R):window,z=M.nodeName&&M.nodeName.toLowerCase(),z==="select"||z==="input"&&M.type==="file")var ee=ju;else if(vu(M))if(_u)ee=A0;else{ee=E0;var fe=k0}else z=M.nodeName,!z||z.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?R&&mi(R.elementType)&&(ee=ju):ee=T0;if(ee&&(ee=ee(e,R))){wu(Y,ee,a,B);break e}fe&&fe(e,M,R),e==="focusout"&&R&&M.type==="number"&&R.memoizedProps.value!=null&&fi(M,"number",M.value)}switch(fe=R?Un(R):window,e){case"focusin":(vu(fe)||fe.contentEditable==="true")&&(Rs=fe,Ti=R,Gn=null);break;case"focusout":Gn=Ti=Rs=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,Ou(Y,a,B);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":Ou(Y,a,B)}var se;if(Ni)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Ds?bu(e,a)&&(ie="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ie="onCompositionStart");ie&&(gu&&a.locale!=="ko"&&(Ds||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Ds&&(se=uu()):(va=B,yi="value"in va?va.value:va.textContent,Ds=!0)),fe=zr(R,ie),0<fe.length&&(ie=new fu(ie,e,null,a,B),Y.push({event:ie,listeners:fe}),se?ie.data=se:(se=yu(a),se!==null&&(ie.data=se)))),(se=w0?j0(e,a):_0(e,a))&&(ie=zr(R,"onBeforeInput"),0<ie.length&&(fe=new fu("onBeforeInput","beforeinput",null,a,B),Y.push({event:fe,listeners:ie}),fe.data=se)),fg(Y,e,R,a,B)}tf(Y,t)})}function pl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function zr(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Mn(e,a),r!=null&&n.unshift(pl(e,r,c)),r=Mn(e,t),r!=null&&n.push(pl(e,r,c))),e.tag===3)return n;e=e.return}return[]}function sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sf(e,t,a,n,r){for(var c=t._reactName,m=[];a!==null&&a!==n;){var b=a,j=b.alternate,R=b.stateNode;if(b=b.tag,j!==null&&j===n)break;b!==5&&b!==26&&b!==27||R===null||(j=R,r?(R=Mn(a,c),R!=null&&m.unshift(pl(a,R,j))):r||(R=Mn(a,c),R!=null&&m.push(pl(a,R,j)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var pg=/\r\n?/g,bg=/\u0000|\uFFFD/g;function nf(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(bg,"")}function lf(e,t){return t=nf(t),nf(e)===t}function Lr(){}function Oe(e,t,a,n,r,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||As(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&As(e,""+n);break;case"className":Yl(e,"class",n);break;case"tabIndex":Yl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(e,a,n);break;case"style":iu(e,n,c);break;case"data":if(t!=="object"){Yl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Vl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Oe(e,t,"name",r.name,r,null),Oe(e,t,"formEncType",r.formEncType,r,null),Oe(e,t,"formMethod",r.formMethod,r,null),Oe(e,t,"formTarget",r.formTarget,r,null)):(Oe(e,t,"encType",r.encType,r,null),Oe(e,t,"method",r.method,r,null),Oe(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Vl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Lr);break;case"onScroll":n!=null&&xe("scroll",e);break;case"onScrollEnd":n!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Vl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":xe("beforetoggle",e),xe("toggle",e),$l(e,"popover",n);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":$l(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Km.get(a)||a,$l(e,a,n))}}function Fo(e,t,a,n,r,c){switch(a){case"style":iu(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof n=="string"?As(e,n):(typeof n=="number"||typeof n=="bigint")&&As(e,""+n);break;case"onScroll":n!=null&&xe("scroll",e);break;case"onScrollEnd":n!=null&&xe("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Lr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=e[ht]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):$l(e,a,n)}}}function lt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var n=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Oe(e,t,c,m,a,null)}}r&&Oe(e,t,"srcSet",a.srcSet,a,null),n&&Oe(e,t,"src",a.src,a,null);return;case"input":xe("invalid",e);var b=c=m=r=null,j=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var B=a[n];if(B!=null)switch(n){case"name":r=B;break;case"type":m=B;break;case"checked":j=B;break;case"defaultChecked":R=B;break;case"value":c=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:Oe(e,t,n,B,a,null)}}su(e,c,b,j,R,m,r,!1),Gl(e);return;case"select":xe("invalid",e),n=m=c=null;for(r in a)if(a.hasOwnProperty(r)&&(b=a[r],b!=null))switch(r){case"value":c=b;break;case"defaultValue":m=b;break;case"multiple":n=b;default:Oe(e,t,r,b,a,null)}t=c,a=m,e.multiple=!!n,t!=null?Ts(e,!!n,t,!1):a!=null&&Ts(e,!!n,a,!0);return;case"textarea":xe("invalid",e),c=r=n=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":n=b;break;case"defaultValue":r=b;break;case"children":c=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:Oe(e,t,m,b,a,null)}lu(e,n,r,c),Gl(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Oe(e,t,j,n,a,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(n=0;n<xl.length;n++)xe(xl[n],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Oe(e,t,R,n,a,null)}return;default:if(mi(t)){for(B in a)a.hasOwnProperty(B)&&(n=a[B],n!==void 0&&Fo(e,t,B,n,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(n=a[b],n!=null&&Oe(e,t,b,n,a,null))}function yg(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,m=null,b=null,j=null,R=null,B=null;for(z in a){var Y=a[z];if(a.hasOwnProperty(z)&&Y!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":j=Y;default:n.hasOwnProperty(z)||Oe(e,t,z,null,n,Y)}}for(var M in n){var z=n[M];if(Y=a[M],n.hasOwnProperty(M)&&(z!=null||Y!=null))switch(M){case"type":c=z;break;case"name":r=z;break;case"checked":R=z;break;case"defaultChecked":B=z;break;case"value":m=z;break;case"defaultValue":b=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:z!==Y&&Oe(e,t,M,z,n,Y)}}hi(e,m,b,j,R,B,c,r);return;case"select":z=m=b=M=null;for(c in a)if(j=a[c],a.hasOwnProperty(c)&&j!=null)switch(c){case"value":break;case"multiple":z=j;default:n.hasOwnProperty(c)||Oe(e,t,c,null,n,j)}for(r in n)if(c=n[r],j=a[r],n.hasOwnProperty(r)&&(c!=null||j!=null))switch(r){case"value":M=c;break;case"defaultValue":b=c;break;case"multiple":m=c;default:c!==j&&Oe(e,t,r,c,n,j)}t=b,a=m,n=z,M!=null?Ts(e,!!a,M,!1):!!n!=!!a&&(t!=null?Ts(e,!!a,t,!0):Ts(e,!!a,a?[]:"",!1));return;case"textarea":z=M=null;for(b in a)if(r=a[b],a.hasOwnProperty(b)&&r!=null&&!n.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Oe(e,t,b,null,n,r)}for(m in n)if(r=n[m],c=a[m],n.hasOwnProperty(m)&&(r!=null||c!=null))switch(m){case"value":M=r;break;case"defaultValue":z=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(i(91));break;default:r!==c&&Oe(e,t,m,r,n,c)}nu(e,M,z);return;case"option":for(var oe in a)if(M=a[oe],a.hasOwnProperty(oe)&&M!=null&&!n.hasOwnProperty(oe))switch(oe){case"selected":e.selected=!1;break;default:Oe(e,t,oe,null,n,M)}for(j in n)if(M=n[j],z=a[j],n.hasOwnProperty(j)&&M!==z&&(M!=null||z!=null))switch(j){case"selected":e.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Oe(e,t,j,M,n,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)M=a[re],a.hasOwnProperty(re)&&M!=null&&!n.hasOwnProperty(re)&&Oe(e,t,re,null,n,M);for(R in n)if(M=n[R],z=a[R],n.hasOwnProperty(R)&&M!==z&&(M!=null||z!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:Oe(e,t,R,M,n,z)}return;default:if(mi(t)){for(var De in a)M=a[De],a.hasOwnProperty(De)&&M!==void 0&&!n.hasOwnProperty(De)&&Fo(e,t,De,void 0,n,M);for(B in n)M=n[B],z=a[B],!n.hasOwnProperty(B)||M===z||M===void 0&&z===void 0||Fo(e,t,B,M,n,z);return}}for(var T in a)M=a[T],a.hasOwnProperty(T)&&M!=null&&!n.hasOwnProperty(T)&&Oe(e,t,T,null,n,M);for(Y in n)M=n[Y],z=a[Y],!n.hasOwnProperty(Y)||M===z||M==null&&z==null||Oe(e,t,Y,M,n,z)}var ec=null,tc=null;function qr(e){return e.nodeType===9?e:e.ownerDocument}function rf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function of(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ac(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sc=null;function vg(){var e=window.event;return e&&e.type==="popstate"?e===sc?!1:(sc=e,!0):(sc=null,!1)}var cf=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,uf=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof uf<"u"?function(e){return uf.resolve(null).then(e).catch(_g)}:cf;function _g(e){setTimeout(function(){throw e})}function za(e){return e==="head"}function df(e,t){var a=t,n=0,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(0<n&&8>n){a=n;var m=e.ownerDocument;if(a&1&&bl(m.documentElement),a&2&&bl(m.body),a&4)for(a=m.head,bl(a),m=a.firstChild;m;){var b=m.nextSibling,j=m.nodeName;m[Rn]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}if(r===0){e.removeChild(c),kl(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=c}while(a);kl(t)}function nc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nc(a),oi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ng(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Rn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Sg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function lc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function kg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var rc=null;function hf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function ff(e,t,a){switch(t=qr(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function bl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oi(e)}var zt=new Map,mf=new Set;function Br(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ma=Q.d;Q.d={f:Eg,r:Tg,D:Ag,C:Cg,L:Og,m:Dg,X:Ug,S:Rg,M:Mg};function Eg(){var e=ma.f(),t=Cr();return e||t}function Tg(e){var t=Ns(e);t!==null&&t.tag===5&&t.type==="form"?Rd(t):ma.r(e)}var nn=typeof document>"u"?null:document;function gf(e,t,a){var n=nn;if(n&&typeof t=="string"&&t){var r=At(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),mf.has(r)||(mf.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),lt(t,"link",e),We(t),n.head.appendChild(t)))}}function Ag(e){ma.D(e),gf("dns-prefetch",e,null)}function Cg(e,t){ma.C(e,t),gf("preconnect",e,t)}function Og(e,t,a){ma.L(e,t,a);var n=nn;if(n&&e&&t){var r='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+At(a.imageSizes)+'"]')):r+='[href="'+At(e)+'"]';var c=r;switch(t){case"style":c=ln(e);break;case"script":c=rn(e)}zt.has(c)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),zt.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(yl(c))||t==="script"&&n.querySelector(vl(c))||(t=n.createElement("link"),lt(t,"link",e),We(t),n.head.appendChild(t)))}}function Dg(e,t){ma.m(e,t);var a=nn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+At(n)+'"][href="'+At(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=rn(e)}if(!zt.has(c)&&(e=y({rel:"modulepreload",href:e},t),zt.set(c,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(c)))return}n=a.createElement("link"),lt(n,"link",e),We(n),a.head.appendChild(n)}}}function Rg(e,t,a){ma.S(e,t,a);var n=nn;if(n&&e){var r=Ss(n).hoistableStyles,c=ln(e);t=t||"default";var m=r.get(c);if(!m){var b={loading:0,preload:null};if(m=n.querySelector(yl(c)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=zt.get(c))&&ic(e,a);var j=m=n.createElement("link");We(j),lt(j,"link",e),j._p=new Promise(function(R,B){j.onload=R,j.onerror=B}),j.addEventListener("load",function(){b.loading|=1}),j.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Hr(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:b},r.set(c,m)}}}function Ug(e,t){ma.X(e,t);var a=nn;if(a&&e){var n=Ss(a).hoistableScripts,r=rn(e),c=n.get(r);c||(c=a.querySelector(vl(r)),c||(e=y({src:e,async:!0},t),(t=zt.get(r))&&oc(e,t),c=a.createElement("script"),We(c),lt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function Mg(e,t){ma.M(e,t);var a=nn;if(a&&e){var n=Ss(a).hoistableScripts,r=rn(e),c=n.get(r);c||(c=a.querySelector(vl(r)),c||(e=y({src:e,async:!0,type:"module"},t),(t=zt.get(r))&&oc(e,t),c=a.createElement("script"),We(c),lt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function xf(e,t,a,n){var r=(r=le.current)?Br(r):null;if(!r)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ln(a.href),a=Ss(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ln(a.href);var c=Ss(r).hoistableStyles,m=c.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=r.querySelector(yl(e)))&&!c._p&&(m.instance=c,m.state.loading=5),zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zt.set(e,a),c||zg(r,e,a,m.state))),t&&n===null)throw Error(i(528,""));return m}if(t&&n!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=rn(a),a=Ss(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function ln(e){return'href="'+At(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function pf(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function zg(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),lt(t,"link",a),We(t),e.head.appendChild(t))}function rn(e){return'[src="'+At(e)+'"]'}function vl(e){return"script[async]"+e}function bf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+At(a.href)+'"]');if(n)return t.instance=n,We(n),n;var r=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),We(n),lt(n,"style",r),Hr(n,a.precedence,e),t.instance=n;case"stylesheet":r=ln(a.href);var c=e.querySelector(yl(r));if(c)return t.state.loading|=4,t.instance=c,We(c),c;n=pf(a),(r=zt.get(r))&&ic(n,r),c=(e.ownerDocument||e).createElement("link"),We(c);var m=c;return m._p=new Promise(function(b,j){m.onload=b,m.onerror=j}),lt(c,"link",n),t.state.loading|=4,Hr(c,a.precedence,e),t.instance=c;case"script":return c=rn(a.src),(r=e.querySelector(vl(c)))?(t.instance=r,We(r),r):(n=a,(r=zt.get(c))&&(n=y({},a),oc(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),We(r),lt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Hr(n,a.precedence,e));return t.instance}function Hr(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,m=0;m<n.length;m++){var b=n[m];if(b.dataset.precedence===t)c=b;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $r=null;function yf(e,t,a){if($r===null){var n=new Map,r=$r=new Map;r.set(a,n)}else r=$r,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var c=a[r];if(!(c[Rn]||c[rt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var b=n.get(m);b?b.push(c):n.set(m,[c])}}return n}function vf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Lg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function wf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var wl=null;function qg(){}function Bg(e,t,a){if(wl===null)throw Error(i(475));var n=wl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=ln(a.href),c=e.querySelector(yl(r));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Yr.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=c,We(c);return}c=e.ownerDocument||e,a=pf(a),(r=zt.get(r))&&ic(a,r),c=c.createElement("link"),We(c);var m=c;m._p=new Promise(function(b,j){m.onload=b,m.onerror=j}),lt(c,"link",a),t.instance=c}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Yr.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Hg(){if(wl===null)throw Error(i(475));var e=wl;return e.stylesheets&&e.count===0&&cc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&cc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Yr(){if(this.count--,this.count===0){if(this.stylesheets)cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gr=null;function cc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gr=new Map,t.forEach($g,e),Gr=null,Yr.call(e))}function $g(e,t){if(!(t.state.loading&4)){var a=Gr.get(e);if(a)var n=a.get(null);else{a=new Map,Gr.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var m=r[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}r=t.instance,m=r.getAttribute("data-precedence"),c=a.get(m)||n,c===n&&a.set(null,r),a.set(m,r),this.count++,n=Yr.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var jl={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Yg(e,t,a,n,r,c,m,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function jf(e,t,a,n,r,c,m,b,j,R,B,Y){return e=new Yg(e,t,a,m,b,j,R,Y),t=1,c===!0&&(t|=24),c=vt(3,null,null,t),e.current=c,c.stateNode=e,t=Gi(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},Qi(c),e}function _f(e){return e?(e=Ls,e):Ls}function Nf(e,t,a,n,r,c){r=_f(r),n.context===null?n.context=r:n.pendingContext=r,n=_a(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=Na(e,n,t),a!==null&&(St(a,e,t),In(a,e,t))}function Sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function uc(e,t){Sf(e,t),(e=e.alternate)&&Sf(e,t)}function kf(e){if(e.tag===13){var t=zs(e,67108864);t!==null&&St(t,e,67108864),uc(e,67108864)}}var Xr=!0;function Gg(e,t,a,n){var r=D.T;D.T=null;var c=Q.p;try{Q.p=2,dc(e,t,a,n)}finally{Q.p=c,D.T=r}}function Xg(e,t,a,n){var r=D.T;D.T=null;var c=Q.p;try{Q.p=8,dc(e,t,a,n)}finally{Q.p=c,D.T=r}}function dc(e,t,a,n){if(Xr){var r=hc(n);if(r===null)Io(e,t,n,Vr,a),Tf(e,n);else if(Pg(r,e,t,a,n))n.stopPropagation();else if(Tf(e,n),t&4&&-1<Vg.indexOf(e)){for(;r!==null;){var c=Ns(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=Vt(c.pendingLanes);if(m!==0){var b=c;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var j=1<<31-Qe(m);b.entanglements[1]|=j,m&=~j}Wt(c),(Te&6)===0&&(Tr=kt()+500,gl(0))}}break;case 13:b=zs(c,2),b!==null&&St(b,c,2),Cr(),uc(c,2)}if(c=hc(n),c===null&&Io(e,t,n,Vr,a),c===r)break;r=c}r!==null&&n.stopPropagation()}else Io(e,t,n,null,a)}}function hc(e){return e=xi(e),fc(e)}var Vr=null;function fc(e){if(Vr=null,e=_s(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vr=e,null}function Ef(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case kn:return 2;case En:return 8;case J:case je:return 32;case bt:return 268435456;default:return 32}default:return 32}}var mc=!1,La=null,qa=null,Ba=null,_l=new Map,Nl=new Map,Ha=[],Vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tf(e,t){switch(e){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Sl(e,t,a,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Ns(t),t!==null&&kf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Pg(e,t,a,n,r){switch(t){case"focusin":return La=Sl(La,e,t,a,n,r),!0;case"dragenter":return qa=Sl(qa,e,t,a,n,r),!0;case"mouseover":return Ba=Sl(Ba,e,t,a,n,r),!0;case"pointerover":var c=r.pointerId;return _l.set(c,Sl(_l.get(c)||null,e,t,a,n,r)),!0;case"gotpointercapture":return c=r.pointerId,Nl.set(c,Sl(Nl.get(c)||null,e,t,a,n,r)),!0}return!1}function Af(e){var t=_s(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Ht(e.priority,function(){if(a.tag===13){var n=Nt();n=Wa(n);var r=zs(a,n);r!==null&&St(r,a,n),uc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=hc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);gi=n,a.target.dispatchEvent(n),gi=null}else return t=Ns(a),t!==null&&kf(t),e.blockedOn=a,!1;t.shift()}return!0}function Cf(e,t,a){Pr(e)&&a.delete(t)}function Qg(){mc=!1,La!==null&&Pr(La)&&(La=null),qa!==null&&Pr(qa)&&(qa=null),Ba!==null&&Pr(Ba)&&(Ba=null),_l.forEach(Cf),Nl.forEach(Cf)}function Qr(e,t){e.blockedOn===t&&(e.blockedOn=null,mc||(mc=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Qg)))}var Kr=null;function Of(e){Kr!==e&&(Kr=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Kr===e&&(Kr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(fc(n||a)===null)continue;break}var c=Ns(a);c!==null&&(e.splice(t,3),t-=3,fo(c,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function kl(e){function t(j){return Qr(j,e)}La!==null&&Qr(La,e),qa!==null&&Qr(qa,e),Ba!==null&&Qr(Ba,e),_l.forEach(t),Nl.forEach(t);for(var a=0;a<Ha.length;a++){var n=Ha[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ha.length&&(a=Ha[0],a.blockedOn===null);)Af(a),a.blockedOn===null&&Ha.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],c=a[n+1],m=r[ht]||null;if(typeof c=="function")m||Of(a);else if(m){var b=null;if(c&&c.hasAttribute("formAction")){if(r=c,m=c[ht]||null)b=m.formAction;else if(fc(r)!==null)continue}else b=m.action;typeof b=="function"?a[n+1]=b:(a.splice(n,3),n-=3),Of(a)}}}function gc(e){this._internalRoot=e}Zr.prototype.render=gc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,n=Nt();Nf(a,n,e,t,null,null)},Zr.prototype.unmount=gc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nf(e.current,2,null,e,null,null),Cr(),t[js]=null}};function Zr(e){this._internalRoot=e}Zr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ha.length&&t!==0&&t<Ha[a].priority;a++);Ha.splice(a,0,e),a===0&&Af(e)}};var Df=l.version;if(Df!=="19.1.1")throw Error(i(527,Df,"19.1.1"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Kg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{Bt=Jr.inject(Kg),Pe=Jr}catch{}}return Tl.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,n="",r=Qd,c=Kd,m=Zd,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=jf(e,1,!1,null,null,a,n,r,c,m,b,null),e[js]=t.current,Wo(e),new gc(t)},Tl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var n=!1,r="",c=Qd,m=Kd,b=Zd,j=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),t=jf(e,1,!0,t,a??null,n,r,c,m,b,j,R),t.context=_f(null),a=t.current,n=Nt(),n=Wa(n),r=_a(n),r.callback=null,Na(a,r,n),a=n,t.current.lanes=a,ba(t,a),Wt(t),e[js]=t.current,Wo(e),new Zr(t)},Tl.version="19.1.1",Tl}var Yf;function lx(){if(Yf)return bc.exports;Yf=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(l){console.error(l)}}return d(),bc.exports=nx(),bc.exports}var rx=lx();const ix=$c(rx),ox="modulepreload",cx=function(d){return"/NYX/"+d},Gf={},Ml=function(l,o,i){let u=Promise.resolve();if(o&&o.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));u=f(o.map(g=>{if(g=cx(g),g in Gf)return;Gf[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":ox,y||(_.as="script"),_.crossOrigin="",_.href=g,x&&_.setAttribute("nonce",x),document.head.appendChild(_),y)return new Promise((C,A)=>{_.addEventListener("load",C),_.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return u.then(f=>{for(const p of f||[])p.status==="rejected"&&h(p.reason);return l().catch(h)})},ux=d=>{let l;return d?l=d:typeof fetch>"u"?l=(...o)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>wn);return{default:i}},void 0).then(({default:i})=>i(...o)):l=fetch,(...o)=>l(...o)};class Gc extends Error{constructor(l,o="FunctionsError",i){super(l),this.name=o,this.context=i}}class Xf extends Gc{constructor(l){super("Failed to send a request to the Edge Function","FunctionsFetchError",l)}}class Vf extends Gc{constructor(l){super("Relay Error invoking the Edge Function","FunctionsRelayError",l)}}class Pf extends Gc{constructor(l){super("Edge Function returned a non-2xx status code","FunctionsHttpError",l)}}var Cc;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(Cc||(Cc={}));var dx=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class hx{constructor(l,{headers:o={},customFetch:i,region:u=Cc.Any}={}){this.url=l,this.headers=o,this.region=u,this.fetch=ux(i)}setAuth(l){this.headers.Authorization=`Bearer ${l}`}invoke(l,o={}){var i;return dx(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:f,signal:p}=o;let x={},{region:g}=o;g||(g=this.region);const y=new URL(`${this.url}/${l}`);g&&g!=="any"&&(x["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(x["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(x["Content-Type"]="application/json",v=JSON.stringify(f)));const _=yield this.fetch(y.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:v,signal:p}).catch(U=>{throw U.name==="AbortError"?U:new Xf(U)}),C=_.headers.get("x-relay-error");if(C&&C==="true")throw new Vf(_);if(!_.ok)throw new Pf(_);let A=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return A==="application/json"?k=yield _.json():A==="application/octet-stream"?k=yield _.blob():A==="text/event-stream"?k=_:A==="multipart/form-data"?k=yield _.formData():k=yield _.text(),{data:k,error:null,response:_}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new Xf(u)}:{data:null,error:u,response:u instanceof Pf||u instanceof Vf?u.context:void 0}}})}}var tt={},on={},cn={},un={},dn={},hn={},fx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vn=fx();const mx=vn.fetch,xm=vn.fetch.bind(vn),pm=vn.Headers,gx=vn.Request,xx=vn.Response,wn=Object.freeze(Object.defineProperty({__proto__:null,Headers:pm,Request:gx,Response:xx,default:xm,fetch:mx},Symbol.toStringTag,{value:"Module"})),px=Jg(wn);var Wr={},Qf;function bm(){if(Qf)return Wr;Qf=1,Object.defineProperty(Wr,"__esModule",{value:!0});class d extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return Wr.default=d,Wr}var Kf;function ym(){if(Kf)return hn;Kf=1;var d=hn&&hn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(hn,"__esModule",{value:!0});const l=d(px),o=d(bm());class i{constructor(h){var f,p;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(f=h.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=h.signal,this.isMaybeSingle=(p=h.isMaybeSingle)!==null&&p!==void 0?p:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=l.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=new Headers(this.headers),this.headers.set(h,f),this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let x=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,_,C;let A=null,k=null,U=null,P=g.status,S=g.statusText;if(g.ok){if(this.method!=="HEAD"){const K=await g.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?k=K:k=JSON.parse(K))}const $=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),X=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");$&&X&&X.length>1&&(U=parseInt(X[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(A={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,U=null,P=406,S="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const $=await g.text();try{A=JSON.parse($),Array.isArray(A)&&g.status===404&&(k=[],A=null,P=200,S="OK")}catch{g.status===404&&$===""?(P=204,S="No Content"):A={message:$}}if(A&&this.isMaybeSingle&&(!((C=A==null?void 0:A.details)===null||C===void 0)&&C.includes("0 rows"))&&(A=null,P=200,S="OK"),A&&this.shouldThrowOnError)throw new o.default(A)}return{error:A,data:k,count:U,status:P,statusText:S}});return this.shouldThrowOnError||(x=x.catch(g=>{var y,v,_;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(v=g==null?void 0:g.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=g==null?void 0:g.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),x.then(h,f)}returns(){return this}overrideTypes(){return this}}return hn.default=i,hn}var Zf;function vm(){if(Zf)return dn;Zf=1;var d=dn&&dn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(dn,"__esModule",{value:!0});const l=d(ym());class o extends l.default{select(u){let h=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:h=!0,nullsFirst:f,foreignTable:p,referencedTable:x=p}={}){const g=x?`${x}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${u}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:f=h}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,h,{foreignTable:f,referencedTable:p=f}={}){const x=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(x,`${u}`),this.url.searchParams.set(g,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:h=!1,settings:f=!1,buffers:p=!1,wal:x=!1,format:g="text"}={}){var y;const v=[u?"analyze":null,h?"verbose":null,f?"settings":null,p?"buffers":null,x?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${_}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return dn.default=o,dn}var Jf;function Xc(){if(Jf)return un;Jf=1;var d=un&&un.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(un,"__esModule",{value:!0});const l=d(vm());class o extends l.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const f=Array.from(new Set(h)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:f,type:p}={}){let x="";p==="plain"?x="pl":p==="phrase"?x="ph":p==="websearch"&&(x="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${x}fts${g}.${h}`),this}match(u){return Object.entries(u).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(u,h,f){return this.url.searchParams.append(u,`not.${h}.${f}`),this}or(u,{foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,h,f){return this.url.searchParams.append(u,`${h}.${f}`),this}}return un.default=o,un}var Wf;function wm(){if(Wf)return cn;Wf=1;var d=cn&&cn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(cn,"__esModule",{value:!0});const l=d(Xc());class o{constructor(u,{headers:h={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(h),this.schema=f,this.fetch=p}select(u,{head:h=!1,count:f}={}){const p=h?"HEAD":"GET";let x=!1;const g=(u??"*").split("").map(y=>/\s/.test(y)&&!x?"":(y==='"'&&(x=!x),y)).join("");return this.url.searchParams.set("select",g),f&&this.headers.append("Prefer",`count=${f}`),new l.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:h,defaultToNull:f=!0}={}){var p;const x="POST";if(h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new l.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:h,ignoreDuplicates:f=!1,count:p,defaultToNull:x=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),p&&this.headers.append("Prefer",`count=${p}`),x||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((_,C)=>_.concat(Object.keys(C)),[]);if(v.length>0){const _=[...new Set(v)].map(C=>`"${C}"`);this.url.searchParams.set("columns",_.join(","))}}return new l.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:h}={}){var f;const p="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new l.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var h;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new l.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return cn.default=o,cn}var If;function bx(){if(If)return on;If=1;var d=on&&on.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(on,"__esModule",{value:!0});const l=d(wm()),o=d(Xc());class i{constructor(h,{headers:f={},schema:p,fetch:x}={}){this.url=h,this.headers=new Headers(f),this.schemaName=p,this.fetch=x}from(h){const f=new URL(`${this.url}/${h}`);return new l.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new i(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:p=!1,get:x=!1,count:g}={}){var y;let v;const _=new URL(`${this.url}/rpc/${h}`);let C;p||x?(v=p?"HEAD":"GET",Object.entries(f).filter(([k,U])=>U!==void 0).map(([k,U])=>[k,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([k,U])=>{_.searchParams.append(k,U)})):(v="POST",C=f);const A=new Headers(this.headers);return g&&A.set("Prefer",`count=${g}`),new o.default({method:v,url:_,headers:A,schema:this.schemaName,body:C,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return on.default=i,on}var Ff;function yx(){if(Ff)return tt;Ff=1;var d=tt&&tt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const l=d(bx());tt.PostgrestClient=l.default;const o=d(wm());tt.PostgrestQueryBuilder=o.default;const i=d(Xc());tt.PostgrestFilterBuilder=i.default;const u=d(vm());tt.PostgrestTransformBuilder=u.default;const h=d(ym());tt.PostgrestBuilder=h.default;const f=d(bm());return tt.PostgrestError=f.default,tt.default={PostgrestClient:l.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:f.default},tt}var vx=yx();const wx=$c(vx),{PostgrestClient:jx,PostgrestQueryBuilder:ry,PostgrestFilterBuilder:iy,PostgrestTransformBuilder:oy,PostgrestBuilder:cy,PostgrestError:uy}=wx;class _x{static detectEnvironment(){var l;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((l=navigator.userAgent)===null||l===void 0)&&l.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const i=o.node,u=parseInt(i.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const l=this.detectEnvironment();if(l.constructor)return l.constructor;let o=l.error||"WebSocket not supported in this environment.";throw l.workaround&&(o+=`

Suggested solution: ${l.workaround}`),new Error(o)}static createWebSocket(l,o){const i=this.getWebSocketConstructor();return new i(l,o)}static isWebSocketSupported(){try{const l=this.detectEnvironment();return l.type==="native"||l.type==="ws"}catch{return!1}}}const Nx="2.15.5",Sx=`realtime-js/${Nx}`,kx="1.0.0",Oc=1e4,Ex=1e3,Tx=100;var Ol;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(Ol||(Ol={}));var Je;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(Je||(Je={}));var Xt;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(Xt||(Xt={}));var Dc;(function(d){d.websocket="websocket"})(Dc||(Dc={}));var bs;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(bs||(bs={}));class Ax{constructor(){this.HEADER_LENGTH=1}decode(l,o){return l.constructor===ArrayBuffer?o(this._binaryDecode(l)):o(typeof l=="string"?JSON.parse(l):{})}_binaryDecode(l){const o=new DataView(l),i=new TextDecoder;return this._decodeBroadcast(l,o,i)}_decodeBroadcast(l,o,i){const u=o.getUint8(1),h=o.getUint8(2);let f=this.HEADER_LENGTH+2;const p=i.decode(l.slice(f,f+u));f=f+u;const x=i.decode(l.slice(f,f+h));f=f+h;const g=JSON.parse(i.decode(l.slice(f,l.byteLength)));return{ref:null,topic:p,event:x,payload:g}}}class jm{constructor(l,o){this.callback=l,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=l,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(ze||(ze={}));const em=(d,l,o={})=>{var i;const u=(i=o.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(l).reduce((h,f)=>(h[f]=Cx(f,d,l,u),h),{})},Cx=(d,l,o,i)=>{const u=l.find(p=>p.name===d),h=u==null?void 0:u.type,f=o[d];return h&&!i.includes(h)?_m(h,f):Rc(f)},_m=(d,l)=>{if(d.charAt(0)==="_"){const o=d.slice(1,d.length);return Ux(l,o)}switch(d){case ze.bool:return Ox(l);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Dx(l);case ze.json:case ze.jsonb:return Rx(l);case ze.timestamp:return Mx(l);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Rc(l);default:return Rc(l)}},Rc=d=>d,Ox=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},Dx=d=>{if(typeof d=="string"){const l=parseFloat(d);if(!Number.isNaN(l))return l}return d},Rx=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(l){return console.log(`JSON parse error: ${l}`),d}return d},Ux=(d,l)=>{if(typeof d!="string")return d;const o=d.length-1,i=d[o];if(d[0]==="{"&&i==="}"){let h;const f=d.slice(1,o);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>_m(l,p))}return d},Mx=d=>typeof d=="string"?d.replace(" ","T"):d,Nm=d=>{let l=d;return l=l.replace(/^ws/i,"http"),l=l.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),l.replace(/\/+$/,"")+"/api/broadcast"};class jc{constructor(l,o,i={},u=Oc){this.channel=l,this.event=o,this.payload=i,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(l){this.timeout=l,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(l){this.payload=Object.assign(Object.assign({},this.payload),l)}receive(l,o){var i;return this._hasReceived(l)&&o((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:l,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const l=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},l),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(l,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:l,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:l,response:o}){this.recHooks.filter(i=>i.status===l).forEach(i=>i.callback(o))}_hasReceived(l){return this.receivedResp&&this.receivedResp.status===l}}var tm;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(tm||(tm={}));class Dl{constructor(l,o){this.channel=l,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dl.syncState(this.state,u,h,f),this.pendingDiffs.forEach(x=>{this.state=Dl.syncDiff(this.state,x,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Dl.syncDiff(this.state,u,h,f),p())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(l,o,i,u){const h=this.cloneDeep(l),f=this.transformState(o),p={},x={};return this.map(h,(g,y)=>{f[g]||(x[g]=y)}),this.map(f,(g,y)=>{const v=h[g];if(v){const _=y.map(U=>U.presence_ref),C=v.map(U=>U.presence_ref),A=y.filter(U=>C.indexOf(U.presence_ref)<0),k=v.filter(U=>_.indexOf(U.presence_ref)<0);A.length>0&&(p[g]=A),k.length>0&&(x[g]=k)}else p[g]=y}),this.syncDiff(h,{joins:p,leaves:x},i,u)}static syncDiff(l,o,i,u){const{joins:h,leaves:f}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return i||(i=()=>{}),u||(u=()=>{}),this.map(h,(p,x)=>{var g;const y=(g=l[p])!==null&&g!==void 0?g:[];if(l[p]=this.cloneDeep(x),y.length>0){const v=l[p].map(C=>C.presence_ref),_=y.filter(C=>v.indexOf(C.presence_ref)<0);l[p].unshift(..._)}i(p,y,x)}),this.map(f,(p,x)=>{let g=l[p];if(!g)return;const y=x.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),l[p]=g,u(p,g,x),g.length===0&&delete l[p]}),l}static map(l,o){return Object.getOwnPropertyNames(l).map(i=>o(i,l[i]))}static transformState(l){return l=this.cloneDeep(l),Object.getOwnPropertyNames(l).reduce((o,i)=>{const u=l[i];return"metas"in u?o[i]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[i]=u,o},{})}static cloneDeep(l){return JSON.parse(JSON.stringify(l))}onJoin(l){this.caller.onJoin=l}onLeave(l){this.caller.onLeave=l}onSync(l){this.caller.onSync=l}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var am;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(am||(am={}));var Rl;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(Rl||(Rl={}));var ga;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(ga||(ga={}));class Vc{constructor(l,o={config:{}},i){this.topic=l,this.params=o,this.socket=i,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=l.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new jc(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new jm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Dl(this),this.broadcastEndpointURL=Nm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(l,o=this.timeout){var i,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:f,presence:p,private:x}}=this.params,g=(u=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(C=>C.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Rl.PRESENCE]&&this.bindings[Rl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,v={},_={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:x};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(C=>l==null?void 0:l(ga.CHANNEL_ERROR,C)),this._onClose(()=>l==null?void 0:l(ga.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:C})=>{var A;if(this.socket.setAuth(),C===void 0){l==null||l(ga.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,U=(A=k==null?void 0:k.length)!==null&&A!==void 0?A:0,P=[];for(let S=0;S<U;S++){const E=k[S],{filter:{event:$,schema:X,table:K,filter:te}}=E,ne=C&&C[S];if(ne&&ne.event===$&&ne.schema===X&&ne.table===K&&ne.filter===te)P.push(Object.assign(Object.assign({},E),{id:ne.id}));else{this.unsubscribe(),this.state=Je.errored,l==null||l(ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,l&&l(ga.SUBSCRIBED);return}}).receive("error",C=>{this.state=Je.errored,l==null||l(ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{l==null||l(ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(l,o={}){return await this.send({type:"presence",event:"track",payload:l},o.timeout||this.timeout)}async untrack(l={}){return await this.send({type:"presence",event:"untrack"},l)}on(l,o,i){return this.state===Je.joined&&l===Rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(l,o,i)}async send(l,o={}){var i,u;if(!this._canPush()&&l.type==="broadcast"){const{event:h,payload:f}=l,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,x;const g=this._push(l.type,l,o.timeout||this.timeout);l.type==="broadcast"&&!(!((x=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||x===void 0)&&x.ack)&&h("ok"),g.receive("ok",()=>h("ok")),g.receive("error",()=>h("error")),g.receive("timeout",()=>h("timed out"))})}updateJoinPayload(l){this.joinPush.updatePayload(l)}unsubscribe(l=this.timeout){this.state=Je.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(u=>{i=new jc(this,Xt.leave,{},l),i.receive("ok",()=>{o(),u("ok")}).receive("timeout",()=>{o(),u("timed out")}).receive("error",()=>{u("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(l=>l.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(l,o,i){const u=new AbortController,h=setTimeout(()=>u.abort(),i),f=await this.socket.fetch(l,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),f}_push(l,o,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${l}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new jc(this,l,o,i);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(l){if(l.startTimeout(),this.pushBuffer.push(l),this.pushBuffer.length>Tx){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(l,o,i){return o}_isMember(l){return this.topic===l}_joinRef(){return this.joinPush.ref}_trigger(l,o,i){var u,h;const f=l.toLocaleLowerCase(),{close:p,error:x,leave:g,join:y}=Xt;if(i&&[p,x,g,y].indexOf(f)>=0&&i!==this._joinRef())return;let _=this._onMessage(f,o,i);if(o&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(C=>{var A,k,U;return((A=C.filter)===null||A===void 0?void 0:A.event)==="*"||((U=(k=C.filter)===null||k===void 0?void 0:k.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(C=>C.callback(_,i)):(h=this.bindings[f])===null||h===void 0||h.filter(C=>{var A,k,U,P,S,E;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in C){const $=C.id,X=(A=C.filter)===null||A===void 0?void 0:A.event;return $&&((k=o.ids)===null||k===void 0?void 0:k.includes($))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((U=o.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const $=(S=(P=C==null?void 0:C.filter)===null||P===void 0?void 0:P.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return $==="*"||$===((E=o==null?void 0:o.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===f}).map(C=>{if(typeof _=="object"&&"ids"in _){const A=_.data,{schema:k,table:U,commit_timestamp:P,type:S,errors:E}=A;_=Object.assign(Object.assign({},{schema:k,table:U,commit_timestamp:P,eventType:S,new:{},old:{},errors:E}),this._getPayloadRecords(A))}C.callback(_,i)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(l){return`chan_reply_${l}`}_on(l,o,i){const u=l.toLocaleLowerCase(),h={type:u,filter:o,callback:i};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(l,o){const i=l.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===i&&Vc.isEqual(u.filter,o))})),this}static isEqual(l,o){if(Object.keys(l).length!==Object.keys(o).length)return!1;for(const i in l)if(l[i]!==o[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(l){this._on(Xt.close,{},l)}_onError(l){this._on(Xt.error,{},o=>l(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(l=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(l))}_getPayloadRecords(l){const o={new:{},old:{}};return(l.type==="INSERT"||l.type==="UPDATE")&&(o.new=em(l.columns,l.record)),(l.type==="UPDATE"||l.type==="DELETE")&&(o.old=em(l.columns,l.old_record)),o}}const _c=()=>{},Ir={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},zx=[1e3,2e3,5e3,1e4],Lx=1e4,qx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bx{constructor(l,o){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oc,this.transport=null,this.heartbeatIntervalMs=Ir.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_c,this.ref=0,this.reconnectTimer=null,this.logger=_c,this.conn=null,this.sendBuffer=[],this.serializer=new Ax,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...f)=>Ml(async()=>{const{default:p}=await Promise.resolve().then(()=>wn);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):h=fetch,(...f)=>h(...f)},!(!((i=o==null?void 0:o.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${l}/${Dc.websocket}`,this.httpEndpoint=Nm(l),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_x.createWebSocket(this.endpointURL())}catch(l){this._setConnectionState("disconnected");const o=l.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kx}))}disconnect(l,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},l?this.conn.close(l,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(l){const o=await l.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const l=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),l}log(l,o,i){this.logger(l,o,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ol.connecting:return bs.Connecting;case Ol.open:return bs.Open;case Ol.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(l,o={config:{}}){const i=`realtime:${l}`,u=this.getChannels().find(h=>h.topic===i);if(u)return u;{const h=new Vc(`realtime:${l}`,o,this);return this.channels.push(h),h}}push(l){const{topic:o,event:i,payload:u,ref:h}=l,f=()=>{this.encode(l,p=>{var x;(x=this.conn)===null||x===void 0||x.send(p)})};this.log("push",`${o} ${i} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(l=null){this._authPromise=this._performAuth(l);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var l;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(l=this.conn)===null||l===void 0||l.close(Ex,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Ir.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(l){this.heartbeatCallback=l}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(l=>l()),this.sendBuffer=[])}_makeRef(){let l=this.ref+1;return l===this.ref?this.ref=0:this.ref=l,this.ref.toString()}_leaveOpenTopic(l){let o=this.channels.find(i=>i.topic===l&&(i._isJoined()||i._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${l}"`),o.unsubscribe())}_remove(l){this.channels=this.channels.filter(o=>o.topic!==l.topic)}_onConnMessage(l){this.decode(l.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply")try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:u,payload:h,ref:f}=o,p=f?`(${f})`:"",x=h.status||"";this.log("receive",`${x} ${i} ${u} ${p}`.trim(),h),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(u,h,f)),this._triggerStateCallbacks("message",o)})}_clearTimer(l){var o;l==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):l==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=l=>this._onConnError(l),this.conn.onmessage=l=>this._onConnMessage(l),this.conn.onclose=l=>this._onConnClose(l))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(l=>l.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const l=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(l),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(l){var o;this._setConnectionState("disconnected"),this.log("transport","close",l),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",l)}_onConnError(l){this._setConnectionState("disconnected"),this.log("transport",`${l}`),this._triggerChanError(),this._triggerStateCallbacks("error",l)}_triggerChanError(){this.channels.forEach(l=>l._trigger(Xt.error))}_appendParams(l,o){if(Object.keys(o).length===0)return l;const i=l.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${l}${i}${u}`}_workerObjectUrl(l){let o;if(l)o=l;else{const i=new Blob([qx],{type:"application/javascript"});o=URL.createObjectURL(i)}return o}_setConnectionState(l,o=!1){this._connectionState=l,l==="connecting"?this._wasManualDisconnect=!1:l==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(l=null){let o;l?o=l:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(i=>{const u={access_token:o,version:Sx};o&&i.updateJoinPayload(u),i.joinedOnce&&i._isJoined()&&i._push(Xt.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(l="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${l}`,o)})}_triggerStateCallbacks(l,o){try{this.stateChangeCallbacks[l].forEach(i=>{try{i(o)}catch(u){this.log("error",`error in ${l} callback`,u)}})}catch(i){this.log("error",`error triggering ${l} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new jm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ir.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(l){var o,i,u,h,f,p,x,g,y;if(this.transport=(o=l==null?void 0:l.transport)!==null&&o!==void 0?o:null,this.timeout=(i=l==null?void 0:l.timeout)!==null&&i!==void 0?i:Oc,this.heartbeatIntervalMs=(u=l==null?void 0:l.heartbeatIntervalMs)!==null&&u!==void 0?u:Ir.HEARTBEAT_INTERVAL,this.worker=(h=l==null?void 0:l.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=l==null?void 0:l.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=l==null?void 0:l.heartbeatCallback)!==null&&p!==void 0?p:_c,l!=null&&l.params&&(this.params=l.params),l!=null&&l.logger&&(this.logger=l.logger),(l!=null&&l.logLevel||l!=null&&l.log_level)&&(this.logLevel=l.logLevel||l.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=l==null?void 0:l.reconnectAfterMs)!==null&&x!==void 0?x:(v=>zx[v-1]||Lx),this.encode=(g=l==null?void 0:l.encode)!==null&&g!==void 0?g:((v,_)=>_(JSON.stringify(v))),this.decode=(y=l==null?void 0:l.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=l==null?void 0:l.workerUrl}}}class Pc extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}}function Ve(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class Hx extends Pc{constructor(l,o,i){super(l),this.name="StorageApiError",this.status=o,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uc extends Pc{constructor(l,o){super(l),this.name="StorageUnknownError",this.originalError=o}}var $x=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const Sm=d=>{let l;return d?l=d:typeof fetch>"u"?l=(...o)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>wn);return{default:i}},void 0).then(({default:i})=>i(...o)):l=fetch,(...o)=>l(...o)},Yx=()=>$x(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ml(()=>Promise.resolve().then(()=>wn),void 0)).Response:Response}),Mc=d=>{if(Array.isArray(d))return d.map(o=>Mc(o));if(typeof d=="function"||d!==Object(d))return d;const l={};return Object.entries(d).forEach(([o,i])=>{const u=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));l[u]=Mc(i)}),l},Gx=d=>{if(typeof d!="object"||d===null)return!1;const l=Object.getPrototypeOf(d);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)};var ys=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const Nc=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Xx=(d,l,o)=>ys(void 0,void 0,void 0,function*(){const i=yield Yx();d instanceof i&&!(o!=null&&o.noResolveJson)?d.json().then(u=>{const h=d.status||500,f=(u==null?void 0:u.statusCode)||h+"";l(new Hx(Nc(u),h,f))}).catch(u=>{l(new Uc(Nc(u),u))}):l(new Uc(Nc(d),d))}),Vx=(d,l,o,i)=>{const u={method:d,headers:(l==null?void 0:l.headers)||{}};return d==="GET"||!i?u:(Gx(i)?(u.headers=Object.assign({"Content-Type":"application/json"},l==null?void 0:l.headers),u.body=JSON.stringify(i)):u.body=i,l!=null&&l.duplex&&(u.duplex=l.duplex),Object.assign(Object.assign({},u),o))};function zl(d,l,o,i,u,h){return ys(this,void 0,void 0,function*(){return new Promise((f,p)=>{d(o,Vx(l,i,u,h)).then(x=>{if(!x.ok)throw x;return i!=null&&i.noResolveJson?x:x.json()}).then(x=>f(x)).catch(x=>Xx(x,p,i))})})}function ti(d,l,o,i){return ys(this,void 0,void 0,function*(){return zl(d,"GET",l,o,i)})}function Ft(d,l,o,i,u){return ys(this,void 0,void 0,function*(){return zl(d,"POST",l,i,u,o)})}function zc(d,l,o,i,u){return ys(this,void 0,void 0,function*(){return zl(d,"PUT",l,i,u,o)})}function Px(d,l,o,i){return ys(this,void 0,void 0,function*(){return zl(d,"HEAD",l,Object.assign(Object.assign({},o),{noResolveJson:!0}),i)})}function km(d,l,o,i,u){return ys(this,void 0,void 0,function*(){return zl(d,"DELETE",l,i,u,o)})}var Qx=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class Kx{constructor(l,o){this.downloadFn=l,this.shouldThrowOnError=o}then(l,o){return this.execute().then(l,o)}execute(){return Qx(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}}var Zx=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class Jx{constructor(l,o){this.downloadFn=l,this.shouldThrowOnError=o}asStream(){return new Kx(this.downloadFn,this.shouldThrowOnError)}then(l,o){return this.execute().then(l,o)}execute(){return Zx(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}}var pt=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const Wx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ix{constructor(l,o={},i,u){this.shouldThrowOnError=!1,this.url=l,this.headers=o,this.bucketId=i,this.fetch=Sm(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(l,o,i,u){return pt(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},sm),u);let p=Object.assign(Object.assign({},this.headers),l==="POST"&&{"x-upsert":String(f.upsert)});const x=f.metadata;typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),x&&h.append("metadata",this.encodeMetadata(x)),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl),x&&h.append("metadata",this.encodeMetadata(x))):(h=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,x&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),u!=null&&u.headers&&(p=Object.assign(Object.assign({},p),u.headers));const g=this._removeEmptyFolders(o),y=this._getFinalPath(g),v=yield(l=="PUT"?zc:Ft)(this.fetch,`${this.url}/object/${y}`,h,Object.assign({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Ve(h))return{data:null,error:h};throw h}})}upload(l,o,i){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",l,o,i)})}uploadToSignedUrl(l,o,i,u){return pt(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(l),f=this._getFinalPath(h),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",o);try{let x;const g=Object.assign({upsert:sm.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(x=new FormData,x.append("cacheControl",g.cacheControl),x.append("",i)):typeof FormData<"u"&&i instanceof FormData?(x=i,x.append("cacheControl",g.cacheControl)):(x=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield zc(this.fetch,p.toString(),x,{headers:y});return{data:{path:h,fullPath:v.Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Ve(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(l,o){return pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(l);const u=Object.assign({},this.headers);o!=null&&o.upsert&&(u["x-upsert"]="true");const h=yield Ft(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:u}),f=new URL(this.url+h.url),p=f.searchParams.get("token");if(!p)throw new Pc("No token returned by API");return{data:{signedUrl:f.toString(),path:l,token:p},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}update(l,o,i){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",l,o,i)})}move(l,o,i){return pt(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:l,destinationKey:o,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}copy(l,o,i){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:l,destinationKey:o,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}createSignedUrl(l,o,i){return pt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(l),h=yield Ft(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}createSignedUrls(l,o,i){return pt(this,void 0,void 0,function*(){try{const u=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:l},{headers:this.headers}),h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}download(l,o){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),f=h?`?${h}`:"",p=this._getFinalPath(l),x=()=>ti(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new Jx(x,this.shouldThrowOnError)}info(l){return pt(this,void 0,void 0,function*(){const o=this._getFinalPath(l);try{const i=yield ti(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:Mc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}exists(l){return pt(this,void 0,void 0,function*(){const o=this._getFinalPath(l);try{return yield Px(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i)&&i instanceof Uc){const u=i.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:i}}throw i}})}getPublicUrl(l,o){const i=this._getFinalPath(l),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const p=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});x!==""&&u.push(x);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${g}`)}}}remove(l){return pt(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:l},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}list(l,o,i){return pt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},Wx),o),{prefix:l||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},i),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}listV2(l,o){return pt(this,void 0,void 0,function*(){try{const i=Object.assign({},l);return{data:yield Ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const o=[];return l.width&&o.push(`width=${l.width}`),l.height&&o.push(`height=${l.height}`),l.resize&&o.push(`resize=${l.resize}`),l.format&&o.push(`format=${l.format}`),l.quality&&o.push(`quality=${l.quality}`),o.join("&")}}const Fx="2.12.2",ep={"X-Client-Info":`storage-js/${Fx}`};var fn=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class tp{constructor(l,o={},i,u){this.shouldThrowOnError=!1;const h=new URL(l);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href,this.headers=Object.assign(Object.assign({},ep),o),this.fetch=Sm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return fn(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}})}getBucket(l){return fn(this,void 0,void 0,function*(){try{return{data:yield ti(this.fetch,`${this.url}/bucket/${l}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}createBucket(l,o={public:!1}){return fn(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}updateBucket(l,o){return fn(this,void 0,void 0,function*(){try{return{data:yield zc(this.fetch,`${this.url}/bucket/${l}`,{id:l,name:l,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ve(i))return{data:null,error:i};throw i}})}emptyBucket(l){return fn(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${l}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}deleteBucket(l){return fn(this,void 0,void 0,function*(){try{return{data:yield km(this.fetch,`${this.url}/bucket/${l}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ve(o))return{data:null,error:o};throw o}})}}class ap extends tp{constructor(l,o={},i,u){super(l,o,i,u)}from(l){return new Ix(this.url,this.headers,l,this.fetch)}}const sp="2.58.0";let Cl="";typeof Deno<"u"?Cl="deno":typeof document<"u"?Cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cl="react-native":Cl="node";const np={"X-Client-Info":`supabase-js-${Cl}/${sp}`},lp={headers:np},rp={schema:"public"},ip={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},op={};var cp=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const up=d=>{let l;return d?l=d:typeof fetch>"u"?l=xm:l=fetch,(...o)=>l(...o)},dp=()=>typeof Headers>"u"?pm:Headers,hp=(d,l,o)=>{const i=up(o),u=dp();return(h,f)=>cp(void 0,void 0,void 0,function*(){var p;const x=(p=yield l())!==null&&p!==void 0?p:d;let g=new u(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",d),g.has("Authorization")||g.set("Authorization",`Bearer ${x}`),i(h,Object.assign(Object.assign({},f),{headers:g}))})};var fp=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};function mp(d){return d.endsWith("/")?d:d+"/"}function gp(d,l){var o,i;const{db:u,auth:h,realtime:f,global:p}=d,{db:x,auth:g,realtime:y,global:v}=l,_={db:Object.assign(Object.assign({},x),u),auth:Object.assign(Object.assign({},g),h),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},v),p),{headers:Object.assign(Object.assign({},(o=v==null?void 0:v.headers)!==null&&o!==void 0?o:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>fp(this,void 0,void 0,function*(){return""})};return d.accessToken?_.accessToken=d.accessToken:delete _.accessToken,_}function xp(d){const l=d==null?void 0:d.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(mp(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Em="2.72.0",bn=30*1e3,Lc=3,Sc=Lc*bn,pp="http://localhost:9999",bp="supabase.auth.token",yp={"X-Client-Info":`gotrue-js/${Em}`},qc="X-Supabase-Api-Version",Tm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wp=600*1e3;class Qc extends Error{constructor(l,o,i){super(l),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=i}}function ce(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}class jp extends Qc{constructor(l,o,i){super(l,o,i),this.name="AuthApiError",this.status=o,this.code=i}}function _p(d){return ce(d)&&d.name==="AuthApiError"}class Am extends Qc{constructor(l,o){super(l),this.name="AuthUnknownError",this.originalError=o}}class Va extends Qc{constructor(l,o,i,u){super(l,i,u),this.name=o,this.status=i}}class Ga extends Va{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Np(d){return ce(d)&&d.name==="AuthSessionMissingError"}class Al extends Va{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fr extends Va{constructor(l){super(l,"AuthInvalidCredentialsError",400,void 0)}}class ei extends Va{constructor(l,o=null){super(l,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sp(d){return ce(d)&&d.name==="AuthImplicitGrantRedirectError"}class nm extends Va{constructor(l,o=null){super(l,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bc extends Va{constructor(l,o){super(l,"AuthRetryableFetchError",o,void 0)}}function kc(d){return ce(d)&&d.name==="AuthRetryableFetchError"}class lm extends Va{constructor(l,o,i){super(l,"AuthWeakPasswordError",o,"weak_password"),this.reasons=i}}class Hc extends Va{constructor(l){super(l,"AuthInvalidJwtError",400,"invalid_jwt")}}const ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rm=` 	
\r=`.split(""),kp=(()=>{const d=new Array(128);for(let l=0;l<d.length;l+=1)d[l]=-1;for(let l=0;l<rm.length;l+=1)d[rm[l].charCodeAt(0)]=-2;for(let l=0;l<ai.length;l+=1)d[ai[l].charCodeAt(0)]=l;return d})();function im(d,l,o){if(d!==null)for(l.queue=l.queue<<8|d,l.queuedBits+=8;l.queuedBits>=6;){const i=l.queue>>l.queuedBits-6&63;o(ai[i]),l.queuedBits-=6}else if(l.queuedBits>0)for(l.queue=l.queue<<6-l.queuedBits,l.queuedBits=6;l.queuedBits>=6;){const i=l.queue>>l.queuedBits-6&63;o(ai[i]),l.queuedBits-=6}}function Cm(d,l,o){const i=kp[d];if(i>-1)for(l.queue=l.queue<<6|i,l.queuedBits+=6;l.queuedBits>=8;)o(l.queue>>l.queuedBits-8&255),l.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function om(d){const l=[],o=f=>{l.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{Ap(f,i,o)};for(let f=0;f<d.length;f+=1)Cm(d.charCodeAt(f),u,h);return l.join("")}function Ep(d,l){if(d<=127){l(d);return}else if(d<=2047){l(192|d>>6),l(128|d&63);return}else if(d<=65535){l(224|d>>12),l(128|d>>6&63),l(128|d&63);return}else if(d<=1114111){l(240|d>>18),l(128|d>>12&63),l(128|d>>6&63),l(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function Tp(d,l){for(let o=0;o<d.length;o+=1){let i=d.charCodeAt(o);if(i>55295&&i<=56319){const u=(i-55296)*1024&65535;i=(d.charCodeAt(o+1)-56320&65535|u)+65536,o+=1}Ep(i,l)}}function Ap(d,l,o){if(l.utf8seq===0){if(d<=127){o(d);return}for(let i=1;i<6;i+=1)if((d>>7-i&1)===0){l.utf8seq=i;break}if(l.utf8seq===2)l.codepoint=d&31;else if(l.utf8seq===3)l.codepoint=d&15;else if(l.utf8seq===4)l.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");l.utf8seq-=1}else if(l.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");l.codepoint=l.codepoint<<6|d&63,l.utf8seq-=1,l.utf8seq===0&&o(l.codepoint)}}function Cp(d){const l=[],o={queue:0,queuedBits:0},i=u=>{l.push(u)};for(let u=0;u<d.length;u+=1)Cm(d.charCodeAt(u),o,i);return new Uint8Array(l)}function Op(d){const l=[];return Tp(d,o=>l.push(o)),new Uint8Array(l)}function Dp(d){const l=[],o={queue:0,queuedBits:0},i=u=>{l.push(u)};return d.forEach(u=>im(u,o,i)),im(null,o,i),l.join("")}function Rp(d){return Math.round(Date.now()/1e3)+d}function Up(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const l=Math.random()*16|0;return(d=="x"?l:l&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",gs={tested:!1,writable:!1},Om=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gs.tested)return gs.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),gs.tested=!0,gs.writable=!0}catch{gs.tested=!0,gs.writable=!1}return gs.writable};function Mp(d){const l={},o=new URL(d);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{l[h]=u})}catch{}return o.searchParams.forEach((i,u)=>{l[u]=i}),l}const Dm=d=>{let l;return d?l=d:typeof fetch>"u"?l=(...o)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>wn);return{default:i}},void 0).then(({default:i})=>i(...o)):l=fetch,(...o)=>l(...o)},zp=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",yn=async(d,l,o)=>{await d.setItem(l,JSON.stringify(o))},xs=async(d,l)=>{const o=await d.getItem(l);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Ya=async(d,l)=>{await d.removeItem(l)};class si{constructor(){this.promise=new si.promiseConstructor((l,o)=>{this.resolve=l,this.reject=o})}}si.promiseConstructor=Promise;function Ec(d){const l=d.split(".");if(l.length!==3)throw new Hc("Invalid JWT structure");for(let i=0;i<l.length;i++)if(!vp.test(l[i]))throw new Hc("JWT not in base64url format");return{header:JSON.parse(om(l[0])),payload:JSON.parse(om(l[1])),signature:Cp(l[2]),raw:{header:l[0],payload:l[1]}}}async function Lp(d){return await new Promise(l=>{setTimeout(()=>l(null),d)})}function qp(d,l){return new Promise((i,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await d(h);if(!l(h,null,f)){i(f);return}}catch(f){if(!l(h,f)){u(f);return}}})()})}function Bp(d){return("0"+d.toString(16)).substr(-2)}function Hp(){const l=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*i));return u}return crypto.getRandomValues(l),Array.from(l,Bp).join("")}async function $p(d){const o=new TextEncoder().encode(d),i=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(i);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function Yp(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const o=await $p(d);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mn(d,l,o=!1){const i=Hp();let u=i;o&&(u+="/PASSWORD_RECOVERY"),await yn(d,`${l}-code-verifier`,u);const h=await Yp(i);return[h,i===h?"plain":"s256"]}const Gp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xp(d){const l=d.headers.get(qc);if(!l||!l.match(Gp))return null;try{return new Date(`${l}T00:00:00.0Z`)}catch{return null}}function Vp(d){if(!d)throw new Error("Missing exp claim");const l=Math.floor(Date.now()/1e3);if(d<=l)throw new Error("JWT has expired")}function Pp(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Qp=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gn(d){if(!Qp.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tc(){const d={};return new Proxy(d,{get:(l,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const i=o.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(l,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(l,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cm(d){return JSON.parse(JSON.stringify(d))}var Kp=function(d,l){var o={};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&l.indexOf(i)<0&&(o[i]=d[i]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(d);u<i.length;u++)l.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(d,i[u])&&(o[i[u]]=d[i[u]]);return o};const ps=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Zp=[502,503,504];async function um(d){var l;if(!zp(d))throw new Bc(ps(d),0);if(Zp.includes(d.status))throw new Bc(ps(d),d.status);let o;try{o=await d.json()}catch(h){throw new Am(ps(h),h)}let i;const u=Xp(d);if(u&&u.getTime()>=Tm["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?i=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(i=o.error_code),i){if(i==="weak_password")throw new lm(ps(o),d.status,((l=o.weak_password)===null||l===void 0?void 0:l.reasons)||[]);if(i==="session_not_found")throw new Ga}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new lm(ps(o),d.status,o.weak_password.reasons);throw new jp(ps(o),d.status||500,i)}const Jp=(d,l,o,i)=>{const u={method:d,headers:(l==null?void 0:l.headers)||{}};return d==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},l==null?void 0:l.headers),u.body=JSON.stringify(i),Object.assign(Object.assign({},u),o))};async function me(d,l,o,i){var u;const h=Object.assign({},i==null?void 0:i.headers);h[qc]||(h[qc]=Tm["2024-01-01"].name),i!=null&&i.jwt&&(h.Authorization=`Bearer ${i.jwt}`);const f=(u=i==null?void 0:i.query)!==null&&u!==void 0?u:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",x=await Wp(d,l,o+p,{headers:h,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(x):{data:Object.assign({},x),error:null}}async function Wp(d,l,o,i,u,h){const f=Jp(l,i,u,h);let p;try{p=await d(o,Object.assign({},f))}catch(x){throw console.error(x),new Bc(ps(x),0)}if(p.ok||await um(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(x){await um(x)}}function It(d){var l;let o=null;tb(d)&&(o=Object.assign({},d),d.expires_at||(o.expires_at=Rp(d.expires_in)));const i=(l=d.user)!==null&&l!==void 0?l:d;return{data:{session:o,user:i},error:null}}function dm(d){const l=It(d);return!l.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0)&&(l.data.weak_password=d.weak_password),l}function Xa(d){var l;return{data:{user:(l=d.user)!==null&&l!==void 0?l:d},error:null}}function Ip(d){return{data:d,error:null}}function Fp(d){const{action_link:l,email_otp:o,hashed_token:i,redirect_to:u,verification_type:h}=d,f=Kp(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:l,email_otp:o,hashed_token:i,redirect_to:u,verification_type:h},x=Object.assign({},f);return{data:{properties:p,user:x},error:null}}function eb(d){return d}function tb(d){return d.access_token&&d.refresh_token&&d.expires_in}const Ac=["global","local","others"];var ab=function(d,l){var o={};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&l.indexOf(i)<0&&(o[i]=d[i]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(d);u<i.length;u++)l.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(d,i[u])&&(o[i[u]]=d[i[u]]);return o};class sb{constructor({url:l="",headers:o={},fetch:i}){this.url=l,this.headers=o,this.fetch=Dm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(l,o=Ac[0]){if(Ac.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ac.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}async inviteUserByEmail(l,o={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:l,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Xa})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async generateLink(l){try{const{options:o}=l,i=ab(l,["options"]),u=Object.assign(Object.assign({},i),o);return"newEmail"in i&&(u.new_email=i==null?void 0:i.newEmail,delete u.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:Fp,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(ce(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(l){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:l,headers:this.headers,xform:Xa})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async listUsers(l){var o,i,u,h,f,p,x;try{const g={nextPage:null,lastPage:0,total:0},y=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(o=l==null?void 0:l.page)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:"",per_page:(h=(u=l==null?void 0:l.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:eb});if(y.error)throw y.error;const v=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,C=(x=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&x!==void 0?x:[];return C.length>0&&(C.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(A.split(";")[1].split("=")[1]);g[`${U}Page`]=k}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ce(g))return{data:{users:[]},error:g};throw g}}async getUserById(l){gn(l);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${l}`,{headers:this.headers,xform:Xa})}catch(o){if(ce(o))return{data:{user:null},error:o};throw o}}async updateUserById(l,o){gn(l);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${l}`,{body:o,headers:this.headers,xform:Xa})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async deleteUser(l,o=!1){gn(l);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${l}`,{headers:this.headers,body:{should_soft_delete:o},xform:Xa})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async _listFactors(l){gn(l.userId);try{const{data:o,error:i}=await me(this.fetch,"GET",`${this.url}/admin/users/${l.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:i}}catch(o){if(ce(o))return{data:null,error:o};throw o}}async _deleteFactor(l){gn(l.userId),gn(l.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${l.userId}/factors/${l.id}`,{headers:this.headers}),error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}}}function hm(d={}){return{getItem:l=>d[l]||null,setItem:(l,o)=>{d[l]=o},removeItem:l=>{delete d[l]}}}function nb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xn={debug:!!(globalThis&&Om()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rm extends Error{constructor(l){super(l),this.isAcquireTimeout=!0}}class lb extends Rm{}async function rb(d,l,o){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,l);const i=new globalThis.AbortController;return l>0&&setTimeout(()=>{i.abort(),xn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},l),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,l===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async u=>{if(u){xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,u.name);try{return await o()}finally{xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,u.name)}}else{if(l===0)throw xn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new lb(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(xn.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function Um(d){if(!/^0x[a-fA-F0-9]{40}$/.test(d))throw new Error(`@supabase/auth-js: Address "${d}" is invalid.`);return d.toLowerCase()}function ib(d){return parseInt(d,16)}function ob(d){const l=new TextEncoder().encode(d);return"0x"+Array.from(l,i=>i.toString(16).padStart(2,"0")).join("")}function cb(d){var l;const{chainId:o,domain:i,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:x,resources:g,scheme:y,uri:v,version:_}=d;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((l=d.statement)===null||l===void 0)&&l.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${d.statement}`)}const C=Um(d.address),A=y?`${y}://${i}`:i,k=d.statement?`${d.statement}
`:"",U=`${A} wants you to sign in with your Ethereum account:
${C}

${k}`;let P=`URI: ${v}
Version: ${_}
Chain ID: ${o}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(P+=`
Expiration Time: ${u.toISOString()}`),p&&(P+=`
Not Before: ${p.toISOString()}`),x&&(P+=`
Request ID: ${x}`),g){let S=`
Resources:`;for(const E of g){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);S+=`
- ${E}`}P+=S}return`${U}
${P}`}nb();const ub={url:pp,storageKey:bp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:yp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fm(d,l,o){return await o()}const pn={};class Ul{constructor(l){var o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ul.nextInstanceID,Ul.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},ub),l);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new sb({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Dm(u.fetch),this.lock=u.lock||fm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Lt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=rb:this.lock=fm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Om()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hm(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=hm(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var l,o;return(o=(l=pn[this.storageKey])===null||l===void 0?void 0:l.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(l){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:l})}get jwks_cached_at(){var l,o;return(o=(l=pn[this.storageKey])===null||l===void 0?void 0:l.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(l){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:l})}_debug(...l){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Em}) ${new Date().toISOString()}`,...l),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var l;try{const o=Mp(window.location.href);let i="none";if(this._isImplicitGrantCallback(o)?i="implicit":await this._isPKCECallback(o)&&(i="pkce"),Lt()&&this.detectSessionInUrl&&i!=="none"){const{data:u,error:h}=await this._getSessionFromURL(o,i);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Sp(h)){const x=(l=h.details)===null||l===void 0?void 0:l.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return ce(o)?{error:o}:{error:new Am("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(l){var o,i,u;try{const h=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(o=l==null?void 0:l.options)===null||o===void 0?void 0:o.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(u=l==null?void 0:l.options)===null||u===void 0?void 0:u.captchaToken}},xform:It}),{data:f,error:p}=h;if(p||!f)return{data:{user:null,session:null},error:p};const x=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(h){if(ce(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(l){var o,i,u;try{let h;if("email"in l){const{email:y,password:v,options:_}=l;let C=null,A=null;this.flowType==="pkce"&&([C,A]=await mn(this.storage,this.storageKey)),h=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:v,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:C,code_challenge_method:A},xform:It})}else if("phone"in l){const{phone:y,password:v,options:_}=l;h=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(u=_==null?void 0:_.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:It})}else throw new Fr("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return{data:{user:null,session:null},error:p};const x=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(h){if(ce(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(l){try{let o;if("email"in l){const{email:h,password:f,options:p}=l;o=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dm})}else if("phone"in l){const{phone:h,password:f,options:p}=l;o=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:dm})}else throw new Fr("You must provide either an email or phone number and a password");const{data:i,error:u}=o;return u?{data:{user:null,session:null},error:u}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Al}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:u})}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(l){var o,i,u,h;return await this._handleProviderSignIn(l.provider,{redirectTo:(o=l.options)===null||o===void 0?void 0:o.redirectTo,scopes:(i=l.options)===null||i===void 0?void 0:i.scopes,queryParams:(u=l.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=l.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(l){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(l))}async signInWithWeb3(l){const{chain:o}=l;switch(o){case"ethereum":return await this.signInWithEthereum(l);case"solana":return await this.signInWithSolana(l);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(l){var o,i,u,h,f,p,x,g,y,v,_;let C,A;if("message"in l)C=l.message,A=l.signature;else{const{chain:k,wallet:U,statement:P,options:S}=l;let E;if(Lt())if(typeof U=="object")E=U;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")E=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=U}const $=new URL((o=S==null?void 0:S.url)!==null&&o!==void 0?o:window.location.href),X=await E.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Um(X[0]);let te=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!te){const we=await E.request({method:"eth_chainId"});te=ib(we)}const ne={domain:$.host,address:K,statement:P,uri:$.href,version:"1",chainId:te,nonce:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(g=S==null?void 0:S.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=S==null?void 0:S.signInWithEthereum)===null||y===void 0?void 0:y.resources};C=cb(ne),A=await E.request({method:"personal_sign",params:[ob(C),K]})}try{const{data:k,error:U}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:C,signature:A},!((v=l.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=l.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:It});if(U)throw U;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Al}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:U})}catch(k){if(ce(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(l){var o,i,u,h,f,p,x,g,y,v,_,C;let A,k;if("message"in l)A=l.message,k=l.signature;else{const{chain:U,wallet:P,statement:S,options:E}=l;let $;if(Lt())if(typeof P=="object")$=P;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))$=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=P}const X=new URL((o=E==null?void 0:E.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in $&&$.signIn){const K=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),S?{statement:S}:null));let te;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")te=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)te=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)A=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),k=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${X.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(u=(i=E==null?void 0:E.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((x=E==null?void 0:E.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(y=E==null?void 0:E.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const K=await $.signMessage(new TextEncoder().encode(A),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=K}}try{const{data:U,error:P}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Dp(k)},!((_=l.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(C=l.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:It});if(P)throw P;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new Al}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:P})}catch(U){if(ce(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(l){const o=await xs(this.storage,`${this.storageKey}-code-verifier`),[i,u]=(o??"").split("/");try{const{data:h,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:l,code_verifier:i},xform:It});if(await Ya(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new Al}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(ce(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(l){try{const{options:o,provider:i,token:u,access_token:h,nonce:f}=l,p=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:It}),{data:x,error:g}=p;return g?{data:{user:null,session:null},error:g}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Al}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:g})}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(l){var o,i,u,h,f;try{if("email"in l){const{email:p,options:x}=l;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await mn(this.storage,this.storageKey));const{error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},create_user:(i=x==null?void 0:x.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in l){const{phone:p,options:x}=l,{data:g,error:y}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=x==null?void 0:x.data)!==null&&u!==void 0?u:{},create_user:(h=x==null?void 0:x.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(f=x==null?void 0:x.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Fr("You must provide either an email or phone number.")}catch(p){if(ce(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(l){var o,i;try{let u,h;"options"in l&&(u=(o=l.options)===null||o===void 0?void 0:o.redirectTo,h=(i=l.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:p}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},l),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:It});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const x=f.session,g=f.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(l.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(u){if(ce(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(l){var o,i,u;try{let h=null,f=null;return this.flowType==="pkce"&&([h,f]=await mn(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in l?{provider_id:l.providerId}:null),"domain"in l?{domain:l.domain}:null),{redirect_to:(i=(o=l.options)===null||o===void 0?void 0:o.redirectTo)!==null&&i!==void 0?i:void 0}),!((u=l==null?void 0:l.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:l.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:Ip})}catch(h){if(ce(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async l=>{const{data:{session:o},error:i}=l;if(i)throw i;if(!o)throw new Ga;const{error:u}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(l){if(ce(l))return{data:{user:null,session:null},error:l};throw l}}async resend(l){try{const o=`${this.url}/resend`;if("email"in l){const{email:i,type:u,options:h}=l,{error:f}=await me(this.fetch,"POST",o,{headers:this.headers,body:{email:i,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in l){const{phone:i,type:u,options:h}=l,{data:f,error:p}=await me(this.fetch,"POST",o,{headers:this.headers,body:{phone:i,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new Fr("You must provide either an email or phone number and a type")}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(l,o){this._debug("#_acquireLock","begin",l);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await i,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,l,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=o();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(l){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await l(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let l=null;const o=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?l=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!l)return{data:{session:null},error:null};const i=l.expires_at?l.expires_at*1e3-Date.now()<Sc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",l.expires_at),!i){if(this.userStorage){const f=await xs(this.userStorage,this.storageKey+"-user");f!=null&&f.user?l.user=f.user:l.user=Tc()}if(this.storage.isServer&&l.user){let f=this.suppressGetSessionWarning;l=new Proxy(l,{get:(x,g,y)=>(!f&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,g,y))})}return{data:{session:l},error:null}}const{session:u,error:h}=await this._callRefreshToken(l.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(l){return l?await this._getUser(l):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(l){try{return l?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:l,xform:Xa}):await this._useSession(async o=>{var i,u,h;const{data:f,error:p}=o;if(p)throw p;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ga}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Xa})})}catch(o){if(ce(o))return Np(o)&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(l,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(l,o))}async _updateUser(l,o={}){try{return await this._useSession(async i=>{const{data:u,error:h}=i;if(h)throw h;if(!u.session)throw new Ga;const f=u.session;let p=null,x=null;this.flowType==="pkce"&&l.email!=null&&([p,x]=await mn(this.storage,this.storageKey));const{data:g,error:y}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},l),{code_challenge:p,code_challenge_method:x}),jwt:f.access_token,xform:Xa});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(ce(i))return{data:{user:null},error:i};throw i}}async setSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(l))}async _setSession(l){try{if(!l.access_token||!l.refresh_token)throw new Ga;const o=Date.now()/1e3;let i=o,u=!0,h=null;const{payload:f}=Ec(l.access_token);if(f.exp&&(i=f.exp,u=i<=o),u){const{session:p,error:x}=await this._callRefreshToken(l.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:x}=await this._getUser(l.access_token);if(x)throw x;h={access_token:l.access_token,refresh_token:l.refresh_token,user:p.user,token_type:"bearer",expires_in:i-o,expires_at:i},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(ce(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(l))}async _refreshSession(l){try{return await this._useSession(async o=>{var i;if(!l){const{data:f,error:p}=o;if(p)throw p;l=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(l!=null&&l.refresh_token))throw new Ga;const{session:u,error:h}=await this._callRefreshToken(l.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(ce(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(l,o){try{if(!Lt())throw new ei("No browser detected.");if(l.error||l.error_description||l.error_code)throw new ei(l.error_description||"Error in URL with unspecified error_description",{error:l.error||"unspecified_error",code:l.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new nm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ei("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!l.code)throw new nm("No code detected.");const{data:S,error:E}=await this._exchangeCodeForSession(l.code);if(E)throw E;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:p,expires_at:x,token_type:g}=l;if(!h||!p||!f||!g)throw new ei("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(p);let _=y+v;x&&(_=parseInt(x));const C=_-y;C*1e3<=bn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${v}s`);const A=_-v;y-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,_,y):y-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,_,y);const{data:k,error:U}=await this._getUser(h);if(U)throw U;const P={provider_token:i,provider_refresh_token:u,access_token:h,expires_in:v,expires_at:_,refresh_token:f,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:l.type},error:null}}catch(i){if(ce(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(l){return!!(l.access_token||l.error_description)}async _isPKCECallback(l){const o=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(l.code&&o)}async signOut(l={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(l))}async _signOut({scope:l}={scope:"global"}){return await this._useSession(async o=>{var i;const{data:u,error:h}=o;if(h)return{error:h};const f=(i=u.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:p}=await this.admin.signOut(f,l);if(p&&!(_p(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return l!=="others"&&(await this._removeSession(),await Ya(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(l){const o=Up(),i={id:o,callback:l,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:i}}}async _emitInitialSession(l){return await this._useSession(async o=>{var i,u;try{const{data:{session:h},error:f}=o;if(f)throw f;await((i=this.stateChangeEmitters.get(l))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",l,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(l))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",l,"error",h),console.error(h)}})}async resetPasswordForEmail(l,o={}){let i=null,u=null;this.flowType==="pkce"&&([i,u]=await mn(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:l,code_challenge:i,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(ce(h))return{data:null,error:h};throw h}}async getUserIdentities(){var l;try{const{data:o,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(l=o.user.identities)!==null&&l!==void 0?l:[]},error:null}}catch(o){if(ce(o))return{data:null,error:o};throw o}}async linkIdentity(l){var o;try{const{data:i,error:u}=await this._useSession(async h=>{var f,p,x,g,y;const{data:v,error:_}=h;if(_)throw _;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,l.provider,{redirectTo:(f=l.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=l.options)===null||p===void 0?void 0:p.scopes,queryParams:(x=l.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",C,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return Lt()&&!(!((o=l.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:l.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ce(i))return{data:{provider:l.provider,url:null},error:i};throw i}}async unlinkIdentity(l){try{return await this._useSession(async o=>{var i,u;const{data:h,error:f}=o;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${l.identity_id}`,{headers:this.headers,jwt:(u=(i=h.session)===null||i===void 0?void 0:i.access_token)!==null&&u!==void 0?u:void 0})})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async _refreshAccessToken(l){const o=`#_refreshAccessToken(${l.substring(0,5)}...)`;this._debug(o,"begin");try{const i=Date.now();return await qp(async u=>(u>0&&await Lp(200*Math.pow(2,u-1)),this._debug(o,"refreshing attempt",u),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:l},headers:this.headers,xform:It})),(u,h)=>{const f=200*Math.pow(2,u);return h&&kc(h)&&Date.now()+f-i<bn})}catch(i){if(this._debug(o,"error",i),ce(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(o,"end")}}_isValidSession(l){return typeof l=="object"&&l!==null&&"access_token"in l&&"refresh_token"in l&&"expires_at"in l}async _handleProviderSignIn(l,o){const i=await this._getUrlForProvider(`${this.url}/authorize`,l,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",l,"options",o,"url",i),Lt()&&!o.skipBrowserRedirect&&window.location.assign(i),{data:{provider:l,url:i},error:null}}async _recoverAndRefresh(){var l,o;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const u=await xs(this.storage,this.storageKey);if(u&&this.userStorage){let f=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await yn(this.userStorage,this.storageKey+"-user",f)),u.user=(l=f==null?void 0:f.user)!==null&&l!==void 0?l:Tc()}else if(u&&!u.user&&!u.user){const f=await xs(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await Ya(this.storage,this.storageKey+"-user"),await yn(this.storage,this.storageKey,u)):u.user=Tc()}if(this._debug(i,"session from storage",u),!this._isValidSession(u)){this._debug(i,"session is not valid"),u!==null&&await this._removeSession();return}const h=((o=u.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<Sc;if(this._debug(i,`session has${h?"":" not"} expired with margin of ${Sc}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),kc(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(i,"error",u),console.error(u);return}finally{this._debug(i,"end")}}async _callRefreshToken(l){var o,i;if(!l)throw new Ga;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${l.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new si;const{data:h,error:f}=await this._refreshAccessToken(l);if(f)throw f;if(!h.session)throw new Ga;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={session:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(u,"error",h),ce(h)){const f={session:null,error:h};return kc(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(l,o,i=!0){const u=`#_notifyAllSubscribers(${l})`;this._debug(u,"begin",o,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:l,session:o});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(l,o)}catch(x){h.push(x)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(l){this._debug("#_saveSession()",l),this.suppressGetSessionWarning=!0;const o=Object.assign({},l),i=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&o.user&&await yn(this.userStorage,this.storageKey+"-user",{user:o.user});const u=Object.assign({},o);delete u.user;const h=cm(u);await yn(this.storage,this.storageKey,h)}else{const u=cm(o);await yn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Ya(this.storage,this.storageKey),await Ya(this.storage,this.storageKey+"-code-verifier"),await Ya(this.storage,this.storageKey+"-user"),this.userStorage&&await Ya(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const l=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{l&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",l)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const l=setInterval(()=>this._autoRefreshTokenTick(),bn);this.autoRefreshTicker=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const l=this.autoRefreshTicker;this.autoRefreshTicker=null,l&&clearInterval(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const l=Date.now();try{return await this._useSession(async o=>{const{data:{session:i}}=o;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((i.expires_at*1e3-l)/bn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${bn}ms, refresh threshold is ${Lc} ticks`),u<=Lc&&await this._callRefreshToken(i.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(l){if(l.isAcquireTimeout||l instanceof Rm)this._debug("auto refresh token tick lock not available");else throw l}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}}async _onVisibilityChanged(l){const o=`#_onVisibilityChanged(${l})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),l||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(l,o,i){const u=[`provider=${encodeURIComponent(o)}`];if(i!=null&&i.redirectTo&&u.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&u.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[h,f]=await mn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(i!=null&&i.queryParams){const h=new URLSearchParams(i.queryParams);u.push(h.toString())}return i!=null&&i.skipBrowserRedirect&&u.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${l}?${u.join("&")}`}async _unenroll(l){try{return await this._useSession(async o=>{var i;const{data:u,error:h}=o;return h?{data:null,error:h}:await me(this.fetch,"DELETE",`${this.url}/factors/${l.factorId}`,{headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token})})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async _enroll(l){try{return await this._useSession(async o=>{var i,u;const{data:h,error:f}=o;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:l.friendlyName,factor_type:l.factorType},l.factorType==="phone"?{phone:l.phone}:{issuer:l.issuer}),{data:x,error:g}=await me(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=h==null?void 0:h.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(l.factorType==="totp"&&(!((u=x==null?void 0:x.totp)===null||u===void 0)&&u.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(o){if(ce(o))return{data:null,error:o};throw o}}async _verify(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var i;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:f,error:p}=await me(this.fetch,"POST",`${this.url}/factors/${l.factorId}/verify`,{body:{code:l.code,challenge_id:l.challengeId},headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(o){if(ce(o))return{data:null,error:o};throw o}})}async _challenge(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var i;const{data:u,error:h}=o;return h?{data:null,error:h}:await me(this.fetch,"POST",`${this.url}/factors/${l.factorId}/challenge`,{body:{channel:l.channel},headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token})})}catch(o){if(ce(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(l){const{data:o,error:i}=await this._challenge({factorId:l.factorId});return i?{data:null,error:i}:await this._verify({factorId:l.factorId,challengeId:o.id,code:l.code})}async _listFactors(){const{data:{user:l},error:o}=await this.getUser();if(o)return{data:null,error:o};const i=(l==null?void 0:l.factors)||[],u=i.filter(f=>f.factor_type==="totp"&&f.status==="verified"),h=i.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:i,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async l=>{var o,i;const{data:{session:u},error:h}=l;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Ec(u.access_token);let p=null;f.aal&&(p=f.aal);let x=p;((i=(o=u.user.factors)===null||o===void 0?void 0:o.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(x="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:x,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(l,o={keys:[]}){let i=o.keys.find(p=>p.kid===l);if(i)return i;const u=Date.now();if(i=this.jwks.keys.find(p=>p.kid===l),i&&this.jwks_cached_at+wp>u)return i;const{data:h,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,i=h.keys.find(p=>p.kid===l),!i)?null:i}async getClaims(l,o={}){try{let i=l;if(!i){const{data:C,error:A}=await this.getSession();if(A||!C.session)return{data:null,error:A};i=C.session.access_token}const{header:u,payload:h,signature:f,raw:{header:p,payload:x}}=Ec(i);o!=null&&o.allowExpired||Vp(h.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!g){const{error:C}=await this.getUser(i);if(C)throw C;return{data:{claims:h,header:u,signature:f},error:null}}const y=Pp(u.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,f,Op(`${p}.${x}`)))throw new Hc("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(i){if(ce(i))return{data:null,error:i};throw i}}}Ul.nextInstanceID=0;const db=Ul;class hb extends db{constructor(l){super(l)}}var fb=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class mb{constructor(l,o,i){var u,h,f;this.supabaseUrl=l,this.supabaseKey=o;const p=xp(l);if(!o)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const x=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:rp,realtime:op,auth:Object.assign(Object.assign({},ip),{storageKey:x}),global:lp},y=gp(i??{},g);this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=y.global.headers)!==null&&h!==void 0?h:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=hp(o,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new jx(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new ap(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new hx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,o={},i={}){return this.rest.rpc(l,o,i)}channel(l,o={config:{}}){return this.realtime.channel(l,o)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var l,o;return fb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(o=(l=i.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:o,detectSessionInUrl:i,storage:u,userStorage:h,storageKey:f,flowType:p,lock:x,debug:g},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hb({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:f,autoRefreshToken:l,persistSession:o,detectSessionInUrl:i,storage:u,userStorage:h,flowType:p,lock:x,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Bx(this.realtimeUrl.href,Object.assign(Object.assign({},l),{params:Object.assign({apikey:this.supabaseKey},l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,i)=>{this._handleTokenChanged(o,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(l,o,i){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const gb=(d,l,o)=>new mb(d,l,o);function xb(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const l=d.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}xb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mm="https://dpbyrvnvxjlhvtooyuru.supabase.co",zm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYnlydm52eGpsaHZ0b295dXJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMTExODAsImV4cCI6MjA3MzY4NzE4MH0.txkD2Awid_RJhWhFJb0I13QBseIHdrDqHfeGgXrG0EE";console.log(" Supabase URL:",Mm);console.log(" Supabase Key:",zm.substring(0,20)+"...");const pe=gb(Mm,zm,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),pb=L.createContext(void 0),qt=()=>{const d=L.useContext(pb);if(d===void 0)throw new Error("useAuth must be used within an AuthProvider");return d},bb=L.createContext(void 0),jn=()=>{const d=L.useContext(bb);if(d===void 0)throw new Error("useCart must be used within a CartProvider");return d},yb=({navigateTo:d})=>{var y,v,_,C,A,k;const{user:l,logout:o}=qt(),{getCartTotalQuantity:i,openCart:u}=jn(),[h,f]=L.useState(!1),[p,x]=L.useState(!1),g=async()=>{try{await o(),d("home")}catch(U){console.error("Logout error:",U)}};return s.jsxs("header",{className:"relative bg-nyx-black/90 backdrop-blur-xl border-b border-white/20 sticky top-0 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-nyx-black via-purple-900/5 to-nyx-black"}),s.jsx("div",{className:"absolute top-0 left-1/4 w-32 h-32 bg-gradient-to-r from-brand-purple/10 to-brand-pink/10 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"absolute top-0 right-1/4 w-24 h-24 bg-gradient-to-r from-nyx-blue/10 to-cyan-400/10 rounded-full blur-2xl animate-pulse delay-1000"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("button",{onClick:()=>d("home"),className:"group relative text-2xl font-bold text-white hover:text-blue-400 transition-all duration-300",children:[s.jsx("span",{className:"relative z-10 bg-gradient-to-r from-blue-400 via-blue-500 to-purple-600 bg-clip-text text-transparent group-hover:from-blue-500 group-hover:via-purple-500 group-hover:to-purple-700 transition-all duration-300",children:"NYX"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-600 rounded-lg blur opacity-0 group-hover:opacity-20 transition-all duration-300"})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-2",children:[{name:"Home",page:"home"},{name:"Products",page:"products"},{name:"Blog",page:"blog"},{name:"Contact",page:"contact"}].map(U=>s.jsxs("button",{onClick:()=>d(U.page),className:"group relative px-4 py-2 text-white hover:text-blue-400 transition-colors duration-300 rounded-lg",children:[s.jsx("span",{className:"relative z-10 font-medium",children:U.name}),s.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-400 group-hover:w-full transition-all duration-300"})]},U.name))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:u,className:"relative p-2 text-white hover:text-blue-400 transition-colors duration-300",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5"})}),i()>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:i()})]}),l?s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("button",{onMouseEnter:()=>{window.dispatchEvent(new CustomEvent("profileClick"))},onMouseLeave:()=>{},style:{display:"flex",alignItems:"center",gap:"8px",color:"white",padding:"8px",borderRadius:"12px",border:"none",background:"rgba(255, 255, 255, 0.05)",cursor:"pointer",zIndex:1e3,transition:"all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)",backdropFilter:"blur(10px)",transform:"scale(1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[s.jsxs("div",{style:{width:"32px",height:"32px",background:"linear-gradient(45deg, #3b82f6, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.16, 1, 0.3, 1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",position:"relative",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent)",animation:"shimmer 2s infinite",opacity:.6}}),s.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"12px",position:"relative",zIndex:1,transition:"all 0.3s ease"},children:((y=l==null?void 0:l.nickname)==null?void 0:y.substring(0,2).toUpperCase())||((_=(v=l==null?void 0:l.user_metadata)==null?void 0:v.full_name)==null?void 0:_.split(" ").map(U=>U[0]).join(""))||((C=l==null?void 0:l.email)==null?void 0:C.split("@")[0].substring(0,2).toUpperCase())||"U"})]}),s.jsx("span",{style:{fontWeight:"500"},children:(l==null?void 0:l.nickname)||((A=l==null?void 0:l.user_metadata)==null?void 0:A.full_name)||((k=l==null?void 0:l.email)==null?void 0:k.split("@")[0])||"User"}),s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&s.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",backgroundColor:"#1f2937",border:"4px solid #10b981",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0,0,0,0.8)",zIndex:1e3},children:[s.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #4b5563"},children:[s.jsx("p",{style:{color:"white",fontWeight:"600",fontSize:"14px",margin:"0 0 4px 0"},children:"Test User"}),s.jsx("p",{style:{color:"#9ca3af",fontSize:"12px",margin:"0"},children:"test@nyx.com"}),s.jsx("p",{style:{color:"#10b981",fontSize:"12px",margin:"4px 0 0 0"},children:" MENU AILDI!"})]}),s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("button",{onClick:()=>{d("profile"),x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",color:"white",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px"},onMouseEnter:U=>U.target.style.backgroundColor="#374151",onMouseLeave:U=>U.target.style.backgroundColor="transparent",children:[s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]}),s.jsxs("button",{onClick:()=>{d("admin"),x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",color:"white",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px"},onMouseEnter:U=>U.target.style.backgroundColor="#374151",onMouseLeave:U=>U.target.style.backgroundColor="transparent",children:[s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Admin Dashboard"]}),s.jsxs("button",{onClick:async()=>{try{await g()}catch(U){console.error(" Logout failed:",U)}x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",color:"#ef4444",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px"},onMouseEnter:U=>U.target.style.backgroundColor="#7f1d1d",onMouseLeave:U=>U.target.style.backgroundColor="transparent",children:[s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]}):s.jsx("button",{onClick:()=>{d("login")},className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Login"}),s.jsx("button",{onClick:()=>f(!h),className:"md:hidden p-2 text-white hover:text-blue-400 transition-colors duration-300 rounded-lg",children:s.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[s.jsx("span",{className:`block w-5 h-0.5 bg-current transition-all duration-300 ${h?"rotate-45 translate-y-1":""}`}),s.jsx("span",{className:`block w-5 h-0.5 bg-current transition-all duration-300 mt-1 ${h?"opacity-0":""}`}),s.jsx("span",{className:`block w-5 h-0.5 bg-current transition-all duration-300 mt-1 ${h?"-rotate-45 -translate-y-1":""}`})]})})]})]}),h&&s.jsx("div",{className:"md:hidden border-t border-white/10 py-4 animate-slide-up",children:s.jsx("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-2xl p-4 border border-white/10",children:s.jsx("nav",{className:"flex flex-col space-y-2",children:[{name:"Home",page:"home"},{name:"Products",page:"products"},{name:"Blog",page:"blog"},{name:"Contact",page:"contact"}].map(U=>s.jsxs("button",{onClick:()=>{d(U.page),f(!1)},className:"flex items-center space-x-3 px-4 py-3 text-white hover:text-blue-400 transition-colors duration-200 rounded-lg hover:bg-white/10",children:[s.jsx("span",{className:"font-medium",children:U.name}),s.jsx("svg",{className:"w-4 h-4 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},U.name))})})})]})]})},vb=({navigateTo:d})=>s.jsx("footer",{className:"bg-nyx-black border-t border-nyx-gray/50",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"NYX"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Revolutionizing smart home technology with beautiful, intuitive devices that make life simpler."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.746-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Products"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"All Products"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products",{category:"sensors"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Smart Sensors"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products",{category:"lighting"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Smart Lighting"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products",{category:"security"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Security Cameras"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("how-it-works"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"How it Works"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("setup-videos"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Setup Videos"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("faq"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"FAQ"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("contact"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("our-story"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Our Story"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("why-us"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Why Us"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("blog"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Blog"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("legal",{slug:"privacy-policy",title:"Privacy Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("legal",{slug:"terms-of-service",title:"Terms of Service"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-nyx-gray/50 mt-8 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 NYX. All rights reserved."}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsx("button",{onClick:()=>d("legal",{slug:"privacy-policy",title:"Privacy Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Privacy"}),s.jsx("button",{onClick:()=>d("legal",{slug:"terms-of-service",title:"Terms of Service"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Terms"}),s.jsx("button",{onClick:()=>d("legal",{slug:"shipping-policy",title:"Shipping Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Shipping"}),s.jsx("button",{onClick:()=>d("legal",{slug:"return-policy",title:"Return Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Returns"})]})]})})]})}),wb=d=>ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},ke.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),ke.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}),ke.createElement("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),ke.createElement("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),ke.createElement("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),ke.createElement("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),ke.createElement("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),ke.createElement("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),ke.createElement("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),ke.createElement("line",{x1:"1",y1:"14",x2:"4",y2:"14"})),jb=d=>ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},ke.createElement("rect",{x:"1",y:"6",width:"18",height:"12",rx:"2",ry:"2"}),ke.createElement("line",{x1:"23",y1:"13",x2:"23",y2:"11"})),_b=d=>ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},ke.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),ke.createElement("path",{d:"M2 17l10 5 10-5"}),ke.createElement("path",{d:"M2 12l10 5 10-5"})),Nb=d=>ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},ke.createElement("path",{d:"M5 12.55a8 8 0 0 1 14.08 0"}),ke.createElement("path",{d:"M1.42 9a12 12 0 0 1 21.16 0"}),ke.createElement("path",{d:"M8.53 16.11a4 4 0 0 1 6.95 0"}),ke.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"20"})),Sb=[{icon:wb,title:"Adaptive AI Learning",description:"Our onboard AI learns your habits to reduce false triggers and anticipate your needs, providing smarter, more intuitive lighting."},{icon:jb,title:"Extended Battery Life",description:"Engineered for efficiency, the NYX sensor boasts an industry-leading 24-month battery life on a single charge."},{icon:_b,title:"Minimalist Aesthetics",description:"Crafted from a single piece of bead-blasted aluminum, its sleek, unobtrusive design complements any modern interior."},{icon:Nb,title:"Seamless Integration",description:"Connects effortlessly with all major smart home ecosystems, including Apple HomeKit, Google Home, and Amazon Alexa."}],kb=[{question:"How long does the battery last on the NYX-1 Sensor?",answer:"The NYX-1 Smart PIR Motion Sensor is engineered for maximum efficiency. It features an industry-leading 24-month battery life on a single charge under typical usage conditions."},{question:"Are NYX products compatible with Apple HomeKit, Google Home, and Amazon Alexa?",answer:"Yes, absolutely. Seamless integration is a core principle of our design philosophy. All NYX devices connect effortlessly with all major smart home ecosystems, including Apple HomeKit, Google Home, and Amazon Alexa, providing you with a unified control experience."},{question:"What is Adaptive AI Learning?",answer:"Our proprietary Adaptive AI Learning is an onboard intelligence system within the NYX-1 Sensor. It learns your household's patterns and habits over time to significantly reduce false motion triggers and eventually anticipate your needs, such as adjusting lighting before you enter a room."},{question:"What is the warranty period for NYX devices?",answer:"All NYX products come with a comprehensive 2-year limited warranty covering any manufacturing defects. We stand by the quality and durability of our devices."},{question:"Can I control the NYX-Bulb's color and brightness?",answer:"Yes. The NYX-Bulb offers a palette of 16 million colors (RGBW) and full dimming capabilities. You can control the color, brightness, and set dynamic scenes directly from the NYX app or through your connected voice assistant."},{question:"Do I need a separate hub for NYX products to work?",answer:"No, you do not. Our devices are designed to be simple and accessible. Each NYX product connects directly to your home's 2.4GHz Wi-Fi network, eliminating the need for an extra hub or bridge."}],mm=({navigateTo:d})=>{const{addToCart:l}=jn(),[o,i]=L.useState([]),[u,h]=L.useState(!1);L.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:x,error:g}=await pe.from("products").select("*").eq("is_featured",!0).eq("is_visible",!0).limit(4);if(g){console.error(" HomePage: Supabase error:",g),i([]);return}const y=(x==null?void 0:x.map(v=>{var _,C;return{id:v.id,name:v.name,price:v.price,original_price:v.original_price,imageUrl:((_=v.images)==null?void 0:_[0])||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",images:v.images||["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center"],description:v.description,tagline:((C=v.description)==null?void 0:C.substring(0,50))+"..."||"Smart home device",category:v.category,isVisible:v.is_visible,stock:v.stock,created_at:v.created_at}}))||[];setTimeout(()=>{i(y),h(!1)},0)}catch(x){console.error("Error fetching featured products:",x),i([]),h(!1)}},p=x=>{l(x,1)};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("section",{className:"relative pt-0 pb-0 md:pt-0 md:pb-0 overflow-hidden min-h-screen flex items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-purple-900/30 to-nyx-black"}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-brand-pink/20 to-nyx-blue/20 rounded-full blur-3xl animate-pulse delay-2000"})]}),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(139,92,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(139,92,246,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 -mt-16 md:-mt-20",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 border border-brand-purple/30 mb-4",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Next-Gen Smart Home Technology"})]})}),s.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tight mb-3 leading-tight",children:["The Future of",s.jsx("span",{className:"block bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue text-transparent bg-clip-text animate-pulse",children:"Smart Living"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-6 max-w-4xl mx-auto leading-relaxed",children:["Experience the perfect blend of ",s.jsx("span",{className:"text-nyx-blue font-semibold",children:"intelligent technology"})," and",s.jsx("span",{className:"text-brand-purple font-semibold",children:" elegant design"}),". NYX devices learn your habits to create a truly personalized smart home."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[s.jsxs("button",{onClick:()=>d("products"),className:"group relative bg-gradient-to-r from-nyx-blue to-cyan-400 text-nyx-black font-bold py-5 px-10 rounded-full hover:from-cyan-400 hover:to-nyx-blue transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-nyx-blue/25",children:[s.jsx("span",{className:"relative z-10",children:"Explore Products"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-nyx-blue to-cyan-400 rounded-full blur opacity-0 group-hover:opacity-75 transition-opacity duration-500"})]}),s.jsx("button",{onClick:()=>d("how-it-works"),className:"group border-2 border-white/30 text-white font-semibold py-5 px-10 rounded-full hover:border-brand-purple/50 hover:bg-brand-purple/10 transition-all duration-300 backdrop-blur-sm",children:"See How It Works"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-nyx-blue mb-2",children:"24"}),s.jsx("div",{className:"text-gray-400",children:"Months Battery Life"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-brand-purple mb-2",children:"16M"}),s.jsx("div",{className:"text-gray-400",children:"Color Options"})]})]})]})}),s.jsx("div",{className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-white/70 rounded-full flex justify-center hover:border-white/90 transition-colors cursor-pointer",children:s.jsx("div",{className:"w-1 h-3 bg-white/90 rounded-full mt-2 animate-pulse"})})})]}),s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/20 to-nyx-black"}),s.jsx("div",{className:"absolute top-1/4 right-0 w-72 h-72 bg-gradient-to-l from-nyx-blue/20 to-transparent rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-gradient-to-r from-brand-pink/20 to-transparent rounded-full blur-3xl"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 border border-nyx-blue/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-brand-pink rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Premium Collection"})]}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6",children:["Featured",s.jsx("span",{className:"block bg-gradient-to-r from-nyx-blue via-brand-purple to-brand-pink text-transparent bg-clip-text",children:"Products"})]}),s.jsxs("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["Discover our most popular smart home devices, designed to work together",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" seamlessly"}),"."]})]}),u?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"text-gray-400",children:"Loading products..."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map(x=>{var g,y;return s.jsxs("div",{className:"product-card cursor-pointer",onClick:()=>d("product-detail",{product:x}),children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:((g=x.images)==null?void 0:g[0])||x.imageUrl||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",alt:x.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 hover:text-nyx-blue transition-colors",children:x.name}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:x.tagline||((y=x.description)==null?void 0:y.substring(0,50))+"..."||"Smart home device"}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:x.original_price&&x.original_price>x.price?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-lg text-gray-400 line-through",children:["",x.original_price]}),s.jsxs("span",{className:"text-2xl font-bold text-white",children:["",x.price]})]}):s.jsxs("span",{className:"text-2xl font-bold text-white",children:["",x.price]})})}),s.jsx("button",{onClick:v=>{v.stopPropagation(),p(x)},disabled:x.stock===0,className:`w-full py-2 rounded-lg font-semibold transition-colors ${x.stock>0?"bg-nyx-blue text-nyx-black hover:bg-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:x.stock>0?"Add to Cart":"Out of Stock"})]})]},x.id)})}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("button",{onClick:()=>d("products"),className:"bg-transparent border border-nyx-blue text-nyx-blue font-semibold py-3 px-8 rounded-full hover:bg-nyx-blue hover:text-nyx-black transition-all duration-300",children:"View All Products"})})]})]}),s.jsxs("section",{className:"relative py-24 md:py-32 bg-dark-accent overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-purple-900/10 to-nyx-black"}),s.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-r from-brand-purple/10 to-brand-pink/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-to-r from-nyx-blue/10 to-brand-purple/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 border border-brand-purple/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Advanced Features"})]}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6",children:["Why Choose",s.jsx("span",{className:"block bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue text-transparent bg-clip-text",children:"NYX?"})]}),s.jsxs("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["We've reimagined smart home technology with a focus on",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" simplicity"}),",",s.jsx("span",{className:"text-brand-purple font-semibold",children:" beauty"}),", and",s.jsx("span",{className:"text-brand-pink font-semibold",children:" intelligence"}),"."]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Sb.map((x,g)=>s.jsx("div",{className:"group relative",children:s.jsxs("div",{className:"bg-nyx-gray/50 backdrop-blur-sm rounded-3xl p-8 border border-white/10 hover:border-brand-purple/30 transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-brand-purple/10",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-brand-purple to-brand-pink rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 animate-glow",children:s.jsx(x.icon,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-white group-hover:text-nyx-blue transition-colors",children:x.title}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:x.description})]})},g))})]})]}),s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-purple via-brand-pink to-nyx-blue"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nyx-black/50 to-transparent"}),s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-1/4 w-80 h-80 bg-nyx-blue/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-72 h-72 bg-brand-pink/20 rounded-full blur-3xl"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-white",children:"Ready to Start?"})]}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6 text-white",children:["Ready to Transform",s.jsx("span",{className:"block bg-gradient-to-r from-white via-cyan-200 to-white text-transparent bg-clip-text",children:"Your Home?"})]}),s.jsxs("p",{className:"text-xl text-white/90 mb-12 max-w-3xl mx-auto leading-relaxed",children:["Join the smart home revolution. Start with one device and build your",s.jsx("span",{className:"text-cyan-200 font-semibold",children:" perfect ecosystem"}),"."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[s.jsxs("button",{onClick:()=>d("products"),className:"group relative bg-white text-brand-purple font-bold py-5 px-10 rounded-full hover:bg-gray-100 transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-white/25",children:[s.jsx("span",{className:"relative z-10",children:"Shop Now"}),s.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur opacity-0 group-hover:opacity-50 transition-opacity duration-500"})]}),s.jsx("button",{onClick:()=>d("contact"),className:"group border-2 border-white/50 text-white font-semibold py-5 px-10 rounded-full hover:border-white hover:bg-white/10 transition-all duration-300 backdrop-blur-sm",children:"Get in Touch"})]})]})})]})]})},Eb=({navigateTo:d})=>{var kn,En;const{user:l,signOut:o,deleteUserAccount:i}=qt(),[u,h]=L.useState(!1),[f,p]=L.useState(null),[x,g]=L.useState({}),[y,v]=L.useState(!0),[_,C]=L.useState(!1),[A,k]=L.useState(!1),[U,P]=L.useState({orders:0,favorites:0}),[S,E]=L.useState([]),[$,X]=L.useState("profile"),[K,te]=L.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[ne,we]=L.useState({currentEmail:"",newEmail:""}),[W,Ee]=L.useState(!1),[be,ye]=L.useState(null),[Ue,V]=L.useState(null),[D,Q]=L.useState(null),[I,ae]=L.useState("+90"),[w,G]=L.useState(""),[q,Z]=L.useState(!0),[F,de]=L.useState(!1),[le,at]=L.useState(!0),[Se,ut]=L.useState(!0),_n=[{code:"+90",country:"Turkey",flag:""},{code:"+1",country:"United States",flag:""},{code:"+44",country:"United Kingdom",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+33",country:"France",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+31",country:"Netherlands",flag:""},{code:"+46",country:"Sweden",flag:""},{code:"+47",country:"Norway",flag:""},{code:"+45",country:"Denmark",flag:""},{code:"+41",country:"Switzerland",flag:""},{code:"+43",country:"Austria",flag:""},{code:"+32",country:"Belgium",flag:""},{code:"+351",country:"Portugal",flag:""},{code:"+30",country:"Greece",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+91",country:"India",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+52",country:"Mexico",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""}];L.useEffect(()=>{(async()=>{var je,bt,Pa,Tn,Bt,Pe,dt,Qe,Qa,Ll,ql,Ka,Za,Vt,Ja,pa,Bl,An,Cn,ws,ba,Hl,On;if(!l){v(!1);return}try{v(!0);const{data:Et,error:Wa}=await pe.from("profiles").select("*").eq("id",l.id).single();if(Wa&&Wa.code!=="PGRST116"){console.error("Error loading profile:",Wa);const Ht={id:l.id,first_name:((bt=(je=l.user_metadata)==null?void 0:je.full_name)==null?void 0:bt.split(" ")[0])||((Pa=l.email)==null?void 0:Pa.split("@")[0])||"User",last_name:((Bt=(Tn=l.user_metadata)==null?void 0:Tn.full_name)==null?void 0:Bt.split(" ")[1])||"",nickname:((Pe=l.user_metadata)==null?void 0:Pe.nickname)||((dt=l.email)==null?void 0:dt.split("@")[0])||"user",email:l.email||"",created_at:l.created_at,role:((Qe=l.user_metadata)==null?void 0:Qe.role)||"user"};p(Ht)}else if(Et){const Ht={...Et,first_name:Et.first_name||((Ll=(Qa=l.user_metadata)==null?void 0:Qa.full_name)==null?void 0:Ll.split(" ")[0])||((ql=l.email)==null?void 0:ql.split("@")[0])||"User",last_name:Et.last_name||((Za=(Ka=l.user_metadata)==null?void 0:Ka.full_name)==null?void 0:Za.split(" ")[1])||"",nickname:Et.nickname||((Vt=l.user_metadata)==null?void 0:Vt.nickname)||((Ja=l.email)==null?void 0:Ja.split("@")[0])||"user",email:Et.email||l.email||"",created_at:Et.created_at||l.created_at};p(Ht)}else{const Ht={id:l.id,first_name:((Bl=(pa=l.user_metadata)==null?void 0:pa.full_name)==null?void 0:Bl.split(" ")[0])||((An=l.email)==null?void 0:An.split("@")[0])||"User",last_name:((ws=(Cn=l.user_metadata)==null?void 0:Cn.full_name)==null?void 0:ws.split(" ")[1])||"",nickname:((ba=l.user_metadata)==null?void 0:ba.nickname)||((Hl=l.email)==null?void 0:Hl.split("@")[0])||"user",email:l.email||"",created_at:l.created_at,role:((On=l.user_metadata)==null?void 0:On.role)||"user"};p(Ht)}P({orders:0,favorites:0});const ya=[],{data:Dn}=await pe.from("profiles").select("updated_at").eq("id",l.id).not("updated_at","is",null).order("updated_at",{ascending:!1}).limit(2);Dn&&Dn.forEach(Ht=>{ya.push({type:"profile",id:"profile-update",title:"Profile updated",description:"Your profile information was modified",date:Ht.updated_at,status:"completed",icon:"user"})}),ya.push({type:"account",id:"account-created",title:"Account created",description:"Welcome to NYX! Your account was successfully created",date:l.created_at,status:"completed",icon:"user-plus"}),ya.sort((Ht,Pt)=>new Date(Pt.date).getTime()-new Date(Ht.date).getTime()),E(ya.slice(0,5))}catch(Et){console.error("Error loading profile data:",Et)}finally{v(!1)}})()},[l]);const vs=()=>{f&&(h(!0),g(f))},Nn=async()=>{var J;if(!(!l||!x)){ye({type:"success",text:"Saving changes..."});try{const{error:je}=await pe.from("profiles").upsert({id:l.id,first_name:x.first_name,last_name:x.last_name,nickname:x.nickname||((J=l.email)==null?void 0:J.split("@")[0])||"user",email:l.email||"",phone:x.phone,address:x.address,bio:x.bio,updated_at:new Date().toISOString()});if(je){ye({type:"error",text:je.message});return}p(bt=>bt?{...bt,...x}:null),h(!1),ye({type:"success",text:" Profile updated successfully! Your changes have been saved."}),setTimeout(()=>{ye(null)},3e3)}catch{ye({type:"error",text:"Failed to save profile"})}}},Sn=()=>{g(f||{}),h(!1)},xa=(J,je)=>{g(bt=>({...bt,[J]:je}))},ni=async()=>{if(!K.currentPassword){V({type:"error",text:"Please enter your current password"});return}if(K.newPassword!==K.confirmPassword){V({type:"error",text:"New passwords do not match"});return}if(K.newPassword.length<6){V({type:"error",text:"Password must be at least 6 characters"});return}C(!0),V(null);try{const{error:J}=await pe.auth.updateUser({password:K.newPassword});if(J){console.error("Password update error:",J),J.message.includes("Password should be at least")?V({type:"error",text:"Password must be at least 6 characters long"}):J.message.includes("Invalid password")?V({type:"error",text:"Current password is incorrect"}):V({type:"error",text:J.message}),C(!1);return}console.log(" Password updated successfully"),V({type:"success",text:" Password updated successfully! Your new password is now active."}),te({currentPassword:"",newPassword:"",confirmPassword:""}),C(!1)}catch(J){console.error("Password update catch error:",J),V({type:"error",text:"Failed to update password"}),C(!1)}},li=async()=>{if(!ne.currentEmail||!ne.newEmail){Q({type:"error",text:"Please enter both current and new email addresses"});return}if(ne.currentEmail!==(l==null?void 0:l.email)){Q({type:"error",text:"Current email does not match your account email"});return}if(ne.currentEmail===ne.newEmail){Q({type:"error",text:"New email must be different from current email"});return}k(!0),Q(null);try{const{error:J}=await pe.auth.updateUser({email:ne.newEmail});if(J){console.error("Email update error:",J),J.message.includes("Email rate limit exceeded")?Q({type:"error",text:"Too many email change requests. Please wait before trying again."}):J.message.includes("Invalid email")?Q({type:"error",text:"Please enter a valid email address"}):J.message.includes("User already registered")?Q({type:"error",text:"This email address is already in use"}):Q({type:"error",text:J.message}),k(!1);return}console.log(" Email update request sent successfully"),Q({type:"success",text:" Verification email sent to your new email address. Please check your inbox and click the verification link to complete the email change."}),we({currentEmail:"",newEmail:""}),k(!1),setTimeout(()=>{console.log(" Refreshing page to sync auth state..."),window.location.reload()},3e3)}catch(J){console.error("Email update catch error:",J),Q({type:"error",text:"Failed to update email"}),k(!1)}},kt=async J=>{var bt;const je=(bt=J.target.files)==null?void 0:bt[0];if(je){if(je.size>5*1024*1024){ye({type:"error",text:"File size must be less than 5MB"});return}try{Ee(!0);const Pa=je.name.split(".").pop(),Bt=`avatars/${`${l==null?void 0:l.id}-${Date.now()}.${Pa}`}`,{error:Pe}=await pe.storage.from("avatars").upload(Bt,je);if(Pe){ye({type:"error",text:Pe.message});return}const{data:{publicUrl:dt}}=pe.storage.from("avatars").getPublicUrl(Bt),{error:Qe}=await pe.from("profiles").upsert({id:l==null?void 0:l.id,avatar_url:dt,updated_at:new Date().toISOString()});if(Qe){ye({type:"error",text:Qe.message});return}p(Qa=>Qa?{...Qa,avatar_url:dt}:null),ye({type:"success",text:"Avatar updated successfully"})}catch{ye({type:"error",text:"Failed to upload avatar"})}finally{Ee(!1)}}},ri=async()=>{if(!window.confirm(` WARNING: This action cannot be undone!

Are you absolutely sure you want to delete your account? All your data, including:
 Profile information
 Orders and favorites
 Security settings
 All associated data

Will be permanently deleted from our database.`)||!window.confirm(` FINAL CONFIRMATION 

This is your last chance to cancel.

Type "DELETE" in the next prompt to confirm account deletion.`))return;if(window.prompt('Type "DELETE" to confirm account deletion:')!=="DELETE"){ye({type:"error",text:'Account deletion cancelled. You must type "DELETE" exactly to confirm.'});return}try{v(!0),ye({type:"success",text:" Deleting account and all associated data..."}),await i(),ye({type:"success",text:" Account and all data deleted successfully from database. You will be redirected to the home page."}),setTimeout(()=>{d("home")},3e3)}catch(je){console.error(" Account deletion error:",je),ye({type:"error",text:" Failed to delete account from database. Please try again or contact support."})}finally{v(!1)}};return y?s.jsx("div",{className:"min-h-screen bg-dark text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300",children:"Loading profile..."})]})}):f?s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-blue-900/20 to-indigo-900/20"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(120,119,198,0.3),transparent_50%)]"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(120,119,198,0.2),transparent_50%)]"}),s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-full blur-xl animate-float"}),s.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-blue-500/20 to-indigo-500/20 rounded-full blur-xl animate-float",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute bottom-20 left-1/3 w-20 h-20 bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-full blur-xl animate-float",style:{animationDelay:"4s"}}),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px]"}),s.jsx("div",{className:"relative z-10 container mx-auto px-6 py-24",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 bg-clip-text text-transparent",children:"Profile"})}),s.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Manage your account settings and preferences"})]})})})]}),s.jsx("div",{className:"relative z-10 container mx-auto px-6 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[be&&s.jsxs("div",{className:`mb-6 p-4 rounded-xl animate-slide-down flex items-center gap-3 ${be.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${be.type==="success"?"bg-green-500":"bg-red-500"}`,children:be.type==="success"?s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("span",{className:"font-medium",children:be.text})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[s.jsx("button",{onClick:()=>X("profile"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${$==="profile"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Profile"}),s.jsx("button",{onClick:()=>X("security"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${$==="security"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Security"}),s.jsx("button",{onClick:()=>X("orders"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${$==="orders"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Orders"}),s.jsx("button",{onClick:()=>X("settings"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${$==="settings"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Settings"})]}),$==="profile"&&s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 shadow-2xl",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 mb-8",children:[s.jsxs("div",{className:"relative group",children:[f.avatar_url?s.jsx("img",{src:f.avatar_url,alt:"Profile",className:"w-24 h-24 rounded-2xl object-cover shadow-lg"}):s.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-2xl font-bold text-white shadow-lg",children:[((kn=f.first_name)==null?void 0:kn[0])||"U",((En=f.last_name)==null?void 0:En[0])||""]}),s.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-white/20 flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:kt,className:"hidden",disabled:W}),s.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-2",children:W?s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:[f.first_name||"User"," ",f.last_name||""]}),s.jsx("p",{className:"text-gray-300 text-lg mb-1",children:f.email}),s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsxs("span",{className:"text-gray-400",children:["Member since ",new Date(f.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:((l==null?void 0:l.roles)||["user"]).map((J,je)=>s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${J==="super-admin"?"bg-gradient-to-r from-red-500/20 to-red-600/20 border border-red-500/30 text-red-300":J==="admin"?"bg-gradient-to-r from-purple-500/20 to-purple-600/20 border border-purple-500/30 text-purple-300":J==="seller"?"bg-gradient-to-r from-green-500/20 to-green-600/20 border border-green-500/30 text-green-300":J==="content_writer"?"bg-gradient-to-r from-orange-500/20 to-orange-600/20 border border-orange-500/30 text-orange-300":J==="Web Developer"?"bg-gradient-to-r from-cyan-500/20 to-cyan-600/20 border border-cyan-500/30 text-cyan-300":J==="UI/UX Designer"?"bg-gradient-to-r from-pink-500/20 to-pink-600/20 border border-pink-500/30 text-pink-300":"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 text-blue-300"}`,children:J.toUpperCase()},je))})]}),u?s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 border border-orange-500/30 rounded-xl",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-orange-300 font-medium",children:"Editing Mode"})]}):s.jsxs("button",{onClick:vs,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),s.jsxs("div",{className:`mb-8 transition-all duration-300 ${u?"ring-2 ring-blue-500/30 rounded-2xl p-6 bg-blue-500/5":""}`,children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[u&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Personal Information",u&&s.jsx("span",{className:"text-sm text-blue-300 font-normal",children:"(Click to edit)"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"First Name"}),u?s.jsx("input",{type:"text",value:x.first_name||"",onChange:J=>xa("first_name",J.target.value),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter first name"}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.first_name||"No first name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Last Name"}),u?s.jsx("input",{type:"text",value:x.last_name||"",onChange:J=>xa("last_name",J.target.value),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter last name"}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.last_name||"No last name"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nickname"}),u?s.jsx("input",{type:"text",value:x.nickname||"",onChange:J=>xa("nickname",J.target.value),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter nickname"}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.nickname||"No nickname"})]})]})]}),s.jsxs("div",{className:`mb-8 transition-all duration-300 ${u?"ring-2 ring-blue-500/30 rounded-2xl p-6 bg-blue-500/5":""}`,children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[u&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"About",u&&s.jsx("span",{className:"text-sm text-blue-300 font-normal",children:"(Click to edit)"})]}),u?s.jsx("textarea",{value:x.bio||"",onChange:J=>xa("bio",J.target.value),className:"w-full p-4 bg-white/10 border-2 border-blue-500/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg resize-none",rows:3,placeholder:"Tell us about yourself..."}):s.jsx("p",{className:"text-gray-300 leading-relaxed",children:f.bio||"No bio available."})]}),s.jsxs("div",{className:`mb-8 transition-all duration-300 ${u?"ring-2 ring-blue-500/30 rounded-2xl p-6 bg-blue-500/5":""}`,children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[u&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Contact Information",u&&s.jsx("span",{className:"text-sm text-blue-300 font-normal",children:"(Click to edit)"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Phone Number"}),u?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:I,onChange:J=>ae(J.target.value),className:"p-3 bg-white/5 rounded-lg text-white no-focus",style:{outline:"none !important",border:"none !important",boxShadow:"none !important",ring:"none !important","--tw-ring-width":"0 !important","--tw-ring-color":"transparent !important","--tw-ring-offset-width":"0 !important","--tw-ring-offset-color":"transparent !important",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:_n.map(J=>s.jsxs("option",{value:J.code,className:"bg-gray-800 text-white",children:[J.flag," ",J.code]},J.code))}),s.jsx("input",{type:"tel",value:w,onChange:J=>G(J.target.value),className:"flex-1 p-3 bg-white/5 rounded-lg text-white placeholder-gray-400 no-focus",style:{outline:"none !important",border:"none !important",boxShadow:"none !important",ring:"none !important","--tw-ring-width":"0 !important","--tw-ring-color":"transparent !important","--tw-ring-offset-width":"0 !important","--tw-ring-offset-color":"transparent !important"},placeholder:"Enter phone number"})]}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.phone?`${I} ${f.phone}`:"No phone number"})]})})]}),u&&s.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-white/10 bg-gradient-to-r from-green-500/5 to-blue-500/5 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-4",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium",children:"Ready to save your changes?"})]}),s.jsxs("div",{className:"flex gap-4 w-full",children:[s.jsxs("button",{onClick:Nn,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]}),s.jsxs("button",{onClick:Sn,className:"px-6 py-3 bg-white/10 text-white rounded-xl font-medium hover:bg-white/20 transition-all duration-300 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]})]})]}),$==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:U.orders}),s.jsx("p",{className:"text-gray-400",children:"Orders Placed"})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:U.favorites}),s.jsx("p",{className:"text-gray-400",children:"Favorites"})]})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:S.length>0?S.map((J,je)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${J.type==="order"?"bg-gradient-to-r from-blue-500 to-purple-600":J.type==="profile"?"bg-gradient-to-r from-green-500 to-emerald-600":J.type==="account"?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:[J.icon==="shopping-bag"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),J.icon==="user"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),J.icon==="user-plus"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:J.title}),s.jsx("p",{className:"text-gray-400 text-sm",children:J.description}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:new Date(J.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${J.status==="completed"?"bg-green-500/20 text-green-400":J.status==="pending"?"bg-yellow-500/20 text-yellow-400":J.status==="cancelled"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:J.status})]},je)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("p",{className:"text-gray-400",children:"No recent activity"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Your orders and activities will appear here"})]})})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Order Tracking"}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"Track Your Orders"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Monitor your order status and delivery progress"}),s.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"View All Orders"})]})]})]}),$==="security"&&s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 shadow-2xl",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Security Settings"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Change Password"}),Ue&&s.jsx("div",{className:`mb-4 p-4 rounded-lg ${Ue.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:Ue.text}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Current Password"}),s.jsx("input",{type:"password",value:K.currentPassword,onChange:J=>te(je=>({...je,currentPassword:J.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter current password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"New Password"}),s.jsx("input",{type:"password",value:K.newPassword,onChange:J=>te(je=>({...je,newPassword:J.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:K.confirmPassword,onChange:J=>te(je=>({...je,confirmPassword:J.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Confirm new password"})]}),s.jsx("button",{onClick:ni,disabled:_,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-medium hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Updating...":"Update Password"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Change Email"}),D&&s.jsx("div",{className:`mb-4 p-4 rounded-lg ${D.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:D.text}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Current Email Address"}),s.jsx("input",{type:"email",value:ne.currentEmail,onChange:J=>we(je=>({...je,currentEmail:J.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter your current email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"New Email Address"}),s.jsx("input",{type:"email",value:ne.newEmail,onChange:J=>we(je=>({...je,newEmail:J.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter new email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Current Password (Required)"}),s.jsx("input",{type:"password",value:K.currentPassword,onChange:J=>te(je=>({...je,currentPassword:J.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter your current password"})]}),s.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsx("p",{className:"text-blue-300 text-sm",children:" You will receive a verification link at your new email address. Please check your inbox and click the link to complete the email change."})}),s.jsx("button",{onClick:()=>{li(),setTimeout(()=>{A&&(console.log(" Fallback: Resetting email loading state"),k(!1))},5e3)},disabled:A,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:A?"Sending...":"Send Verification Email"})]})]}),s.jsxs("div",{className:"mt-8 p-6 bg-red-500/10 border border-red-500/20 rounded-xl",children:[s.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-2",children:" Delete Account"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:[s.jsx("p",{className:"text-red-300 text-sm font-medium mb-2",children:" WARNING: This action is irreversible!"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Deleting your account will permanently remove:"}),s.jsxs("ul",{className:"text-gray-400 text-sm mt-2 ml-4 list-disc",children:[s.jsx("li",{children:"Your profile and personal information"}),s.jsx("li",{children:"All orders and purchase history"}),s.jsx("li",{children:"Favorites and wishlists"}),s.jsx("li",{children:"Security settings and preferences"}),s.jsx("li",{children:"All associated data from our database"})]})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"This action cannot be undone. Please be absolutely certain before proceeding."}),s.jsx("button",{onClick:ri,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:" Delete Account Permanently"})]})]})]}),$==="settings"&&s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 shadow-2xl",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Account Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Receive email updates about your orders and account"})]}),s.jsx("button",{onClick:()=>Z(!q),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${q?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${q?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"SMS Notifications"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Receive SMS updates for important account changes"})]}),s.jsx("button",{onClick:()=>de(!F),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${F?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${F?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{onClick:()=>at(!le),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${le?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${le?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Dark Mode"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Use dark theme for better experience"})]}),s.jsx("button",{onClick:()=>ut(!Se),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${Se?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${Se?"right-1":"left-1"}`})})]})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-dark text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Profile Not Found"}),s.jsx("p",{className:"text-gray-300",children:"Unable to load your profile data."})]})})},Tb=({onClose:d,onSuccess:l})=>{const{cartItems:o,getCartTotalPrice:i,getCartTotalQuantity:u}=jn(),{user:h}=qt(),[f,p]=L.useState(!1),[x,g]=L.useState(""),[y,v]=L.useState(null),[_,C]=L.useState(""),[A,k]=L.useState({email:(h==null?void 0:h.email)||"",firstName:(h==null?void 0:h.firstName)||"",lastName:(h==null?void 0:h.lastName)||"",address:"",city:"",state:"",zipCode:"",country:"US",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:""}),U=i(),S=U*.08,E=U>100?0:15,$=y?K(U):0,X=U+S+E-$;function K(W){if(!y)return 0;if(y.type==="percentage"){const Ee=W*y.value/100;return y.maximum_discount?Math.min(Ee,y.maximum_discount):Ee}else return Math.min(y.value,W)}const te=async()=>{if(x.trim())try{const{data:W,error:Ee}=await pe.from("coupons").select("*").eq("code",x.toUpperCase()).eq("is_active",!0).single();if(Ee)throw Ee;if(!W){C("Invalid coupon code");return}const be=new Date,ye=new Date(W.valid_from),Ue=W.valid_until?new Date(W.valid_until):null;if(be<ye||Ue&&be>Ue){C("Coupon has expired");return}if(W.usage_limit&&W.used_count>=W.usage_limit){C("Coupon usage limit reached");return}if(U<W.minimum_amount){C(`Minimum order amount of $${W.minimum_amount} required`);return}v(W),C("")}catch{C("Invalid coupon code")}},ne=()=>{v(null),g(""),C("")},we=async W=>{W.preventDefault(),p(!0);try{const{data:Ee}=await pe.rpc("generate_order_number"),{data:be,error:ye}=await pe.from("orders").insert([{order_number:Ee,user_id:h==null?void 0:h.id,status:"pending",subtotal:U,tax_amount:S,shipping_amount:E,discount_amount:$,total_amount:X,payment_status:"pending",payment_method:A.paymentMethod,shipping_address:{firstName:A.firstName,lastName:A.lastName,address:A.address,city:A.city,state:A.state,zipCode:A.zipCode,country:A.country,phone:A.phone},billing_address:{firstName:A.firstName,lastName:A.lastName,address:A.address,city:A.city,state:A.state,zipCode:A.zipCode,country:A.country,phone:A.phone}}]).select().single();if(ye)throw ye;const Ue=o.map(D=>({order_id:be.id,product_id:D.id,quantity:D.quantity,unit_price:D.price,total_price:D.price*D.quantity,product_snapshot:{name:D.name,tagline:D.tagline,images:D.images,specs:D.specs}})),{error:V}=await pe.from("order_items").insert(Ue);if(V)throw V;for(const D of o)await pe.rpc("update_product_stock",{product_uuid:D.id,quantity_change:D.quantity,transaction_type:"out",reason:`Order ${Ee}`});y&&await pe.from("coupon_usages").insert([{coupon_id:y.id,user_id:h==null?void 0:h.id,order_id:be.id,discount_amount:$}]),l()}catch(Ee){console.error("Error creating order:",Ee),alert("Error creating order. Please try again.")}finally{p(!1)}};return o.length===0?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Add some products to your cart before checkout."}),s.jsx("button",{onClick:d,className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Continue Shopping"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Checkout"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:s.jsxs("form",{onSubmit:we,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Shipping Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:A.firstName,onChange:W=>k({...A,firstName:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:A.lastName,onChange:W=>k({...A,lastName:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-white mb-2",children:"Email"}),s.jsx("input",{type:"email",value:A.email,onChange:W=>k({...A,email:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-white mb-2",children:"Address"}),s.jsx("input",{type:"text",value:A.address,onChange:W=>k({...A,address:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"City"}),s.jsx("input",{type:"text",value:A.city,onChange:W=>k({...A,city:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"State"}),s.jsx("input",{type:"text",value:A.state,onChange:W=>k({...A,state:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"ZIP Code"}),s.jsx("input",{type:"text",value:A.zipCode,onChange:W=>k({...A,zipCode:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:A.phone,onChange:W=>k({...A,phone:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Payment Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Card Number"}),s.jsx("input",{type:"text",value:A.cardNumber,onChange:W=>k({...A,cardNumber:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"1234 5678 9012 3456",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Expiry Date"}),s.jsx("input",{type:"text",value:A.expiryDate,onChange:W=>k({...A,expiryDate:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"MM/YY",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"CVV"}),s.jsx("input",{type:"text",value:A.cvv,onChange:W=>k({...A,cvv:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"123",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Name on Card"}),s.jsx("input",{type:"text",value:A.nameOnCard,onChange:W=>k({...A,nameOnCard:W.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3",children:o.map(W=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:W.images[0],alt:W.name,className:"w-12 h-12 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:W.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Qty: ",W.quantity]})]})]}),s.jsxs("p",{className:"text-white font-semibold",children:["$",(W.price*W.quantity).toFixed(2)]})]},W.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Coupon Code"}),s.jsxs("div",{className:"space-y-3",children:[y?s.jsx("div",{className:"bg-green-600/20 border border-green-600/50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-semibold",children:y.code}),s.jsx("p",{className:"text-green-300 text-sm",children:y.name})]}),s.jsx("button",{type:"button",onClick:ne,className:"text-red-400 hover:text-red-300",children:"Remove"})]})}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:x,onChange:W=>g(W.target.value.toUpperCase()),placeholder:"Enter coupon code",className:"flex-1 bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"}),s.jsx("button",{type:"button",onClick:te,className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Apply"})]}),_&&s.jsx("p",{className:"text-red-400 text-sm",children:_})]})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Subtotal"}),s.jsxs("span",{className:"text-white",children:["$",U.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Tax"}),s.jsxs("span",{className:"text-white",children:["$",S.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Shipping"}),s.jsx("span",{className:"text-white",children:E===0?"Free":`$${E.toFixed(2)}`})]}),$>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-400",children:"Discount"}),s.jsxs("span",{className:"text-green-400",children:["-$",$.toFixed(2)]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white font-semibold text-lg",children:"Total"}),s.jsxs("span",{className:"text-white font-semibold text-lg",children:["$",X.toFixed(2)]})]})})]}),s.jsx("button",{type:"submit",disabled:f,className:"w-full bg-nyx-blue text-nyx-black py-3 rounded-lg font-semibold hover:bg-white transition-colors disabled:opacity-50",children:f?"Processing...":`Place Order - $${X.toFixed(2)}`})]})]})})]})})},Ab=({className:d="w-6 h-6"})=>s.jsx("svg",{className:d,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),gm=({className:d="w-6 h-6"})=>s.jsx("svg",{className:d,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Cb=({navigateTo:d})=>{const{isCartOpen:l,closeCart:o,cartItems:i,removeFromCart:u,updateItemQuantity:h,getCartTotalPrice:f}=jn(),[p,x]=L.useState(!1),[g,y]=L.useState(!1);return l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[99] backdrop-blur-sm",onClick:o}),s.jsxs("aside",{className:`fixed top-0 right-0 h-full w-full max-w-md bg-nyx-black border-l border-nyx-gray/50 z-[100] transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"translate-x-full"} flex flex-col`,children:[s.jsxs("header",{className:"flex justify-between items-center p-6 border-b border-nyx-gray/50",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Cart"}),s.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white",children:s.jsx(Ab,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-grow p-6 overflow-y-auto",children:i.length===0?s.jsxs("div",{className:"text-center text-gray-400 h-full flex flex-col justify-center items-center",children:[s.jsx("p",{className:"text-lg",children:"Your cart is empty."}),s.jsx("button",{onClick:o,className:"mt-4 text-nyx-blue hover:underline",children:"Continue Shopping"})]}):s.jsx("ul",{className:"space-y-4",children:i.map(v=>s.jsxs("li",{className:"flex gap-4 items-center",children:[s.jsx("img",{src:v.images[0],alt:v.name,className:"w-20 h-20 object-cover rounded-md bg-nyx-gray"}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"font-semibold",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-400",children:["",v.price.toFixed(2)]}),s.jsx("div",{className:"flex items-center mt-2",children:s.jsxs("div",{className:"flex items-center border border-gray-700 rounded-full text-sm",children:[v.quantity===1?s.jsx("button",{onClick:()=>u(v.id),className:"w-8 py-1 hover:bg-nyx-gray/50 rounded-l-full flex items-center justify-center","aria-label":"Remove item",children:s.jsx(gm,{className:"w-4 h-4 text-red-500"})}):s.jsx("button",{onClick:()=>h(v.id,v.quantity-1),className:"w-8 py-1 hover:bg-nyx-gray/50 rounded-l-full","aria-label":"Decrease quantity",children:"-"}),s.jsx("span",{className:"px-3 select-none",children:v.quantity}),s.jsx("button",{onClick:()=>h(v.id,v.quantity+1),disabled:v.quantity>=5,className:"w-8 py-1 hover:bg-nyx-gray/50 rounded-r-full disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Increase quantity",children:"+"})]})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["",(v.price*v.quantity).toFixed(2)]}),s.jsx("button",{onClick:()=>u(v.id),className:"text-gray-500 hover:text-red-500 transition-colors mt-2",children:s.jsx(gm,{className:"w-5 h-5"})})]})]},v.id))})}),i.length>0&&s.jsxs("footer",{className:"p-6 border-t border-nyx-gray/50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 text-lg",children:[s.jsx("span",{className:"font-medium",children:"Subtotal"}),s.jsxs("span",{className:"font-bold text-nyx-blue",children:["",f().toFixed(2)]})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("input",{type:"checkbox",id:"cart-terms",checked:p,onChange:v=>x(v.target.checked),className:"mt-1 h-4 w-4 shrink-0 rounded border-gray-600 bg-nyx-black text-nyx-blue focus:ring-nyx-blue focus:ring-offset-nyx-black"}),s.jsxs("label",{htmlFor:"cart-terms",className:"text-xs text-gray-400",children:["I agree to the"," ",s.jsx("button",{type:"button",onClick:()=>{o(),d("legal",{slug:"terms-conditions",title:"Terms & Conditions"})},className:"font-semibold text-nyx-blue hover:underline focus:outline-none",children:"Terms & Conditions"})," and"," ",s.jsx("button",{type:"button",onClick:()=>{o(),d("legal",{slug:"privacy-policy",title:"Privacy Policy"})},className:"font-semibold text-nyx-blue hover:underline focus:outline-none",children:"Privacy Policy"}),"."]})]}),s.jsx("button",{onClick:()=>y(!0),disabled:!p,className:"w-full bg-nyx-blue text-nyx-black font-bold py-3 px-8 rounded-full hover:bg-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",children:"Proceed to Checkout"})]})]}),g&&s.jsx(Tb,{onClose:()=>y(!1),onSuccess:()=>{y(!1),o(),alert("Order placed successfully!")}})]}):null},Ob=()=>{const[d,l]=L.useState(!1);L.useEffect(()=>{localStorage.getItem("cookie-consent")||l(!0)},[]);const o=()=>{localStorage.setItem("cookie-consent","accepted"),l(!1)},i=()=>{localStorage.setItem("cookie-consent","declined"),l(!1)};return d?s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-nyx-black border-t border-nyx-gray/50 p-4 z-50",children:s.jsx("div",{className:"container mx-auto max-w-6xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-white text-sm",children:['We use cookies to enhance your experience and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'," ",s.jsx("button",{className:"text-nyx-blue hover:underline",children:"Learn more"})]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:i,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Decline"}),s.jsx("button",{onClick:o,className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg hover:bg-white transition-colors text-sm font-semibold",children:"Accept All"})]})]})})}):null},Db=({product:d,navigateTo:l})=>{var u,h;const{addToCart:o}=jn(),i=f=>{f.stopPropagation(),o(d,1)};return s.jsxs("div",{className:"product-card cursor-pointer",onClick:()=>l("product-detail",{product:d}),children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:((u=d.images)==null?void 0:u[0])||d.imageUrl||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",alt:d.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 hover:text-nyx-blue transition-colors",children:d.name}),s.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[(h=d.description)==null?void 0:h.substring(0,100),"..."]}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:d.original_price&&d.original_price>d.price?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-lg text-gray-400 line-through",children:["",d.original_price]}),s.jsxs("span",{className:"text-2xl font-bold text-white",children:["",d.price]})]}):s.jsxs("span",{className:"text-2xl font-bold text-white",children:["",d.price]})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-400",children:d.stock>0?`${d.stock} in stock`:"Out of stock"}),s.jsx("button",{onClick:i,disabled:d.stock===0,className:`px-4 py-2 rounded-lg font-semibold transition-colors ${d.stock>0?"bg-nyx-blue text-nyx-black hover:bg-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:d.stock>0?"Add to Cart":"Out of Stock"})]})]})]})},Rb=({onClose:d,openAddForm:l=!1})=>{const{user:o}=qt(),[i,u]=L.useState([]),[h,f]=L.useState(!1),[p,x]=L.useState(null),[g,y]=L.useState(!1),v=o&&(o.roles.includes("seller")||o.roles.includes("admin")||o.roles.includes("super-admin"));o&&(o.roles.includes("admin")||o.roles.includes("super-admin"));const[_,C]=L.useState({name:"",tag_line:"",description:"",price:"",original_price:"",stock:"",sku:"",images:"",specs:"",features:"",is_visible:!1,is_featured:!1}),[A,k]=L.useState(!1),[U,P]=L.useState(""),[S,E]=L.useState([]),[$,X]=L.useState(""),[K,te]=L.useState([{name:"",value:""}]),[ne,we]=L.useState(!1);L.useEffect(()=>{W()},[]),L.useEffect(()=>{},[l]);const W=async()=>{try{f(!0);const{data:V,error:D}=await pe.from("products").select("*").order("created_at",{ascending:!1});if(D)throw D;u(V||[])}catch(V){console.error("Error fetching products:",V)}finally{f(!1)}},Ee=V=>{var D,Q,I,ae,w;x(V),C({name:V.name||"",tag_line:V.tag_line||"",description:V.description||"",price:((D=V.price)==null?void 0:D.toString())||"",original_price:((Q=V.original_price)==null?void 0:Q.toString())||"",stock:((I=V.stock)==null?void 0:I.toString())||"",sku:V.sku||"",images:((ae=V.images)==null?void 0:ae.join(", "))||"",specs:V.specs?JSON.stringify(V.specs,null,2):"",features:((w=V.features)==null?void 0:w.join(", "))||"",is_visible:V.is_visible||!1,is_featured:V.is_featured||!1}),y(!0)},be=async V=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:D}=await pe.from("products").delete().eq("id",V);if(D)throw D;await W()}catch(D){console.error("Error deleting product:",D)}},ye=()=>{C({name:"",tag_line:"",description:"",price:"",original_price:"",stock:"",sku:"",images:"",specs:"",features:"",is_visible:!1,is_featured:!1}),x(null),E([]),X(""),te([{name:"",value:""}])},Ue=async V=>{V.preventDefault();try{f(!0);const D={};K.forEach(w=>{w.name&&w.value&&(D[w.name]=w.value)});const Q=_.features.split(",").map(w=>w.trim()).filter(w=>w.length>0);let I=[];S.length>0?I=S:_.images&&(I=_.images.split(",").map(w=>w.trim()).filter(w=>w));const ae={name:_.name,tag_line:_.tag_line,description:_.description,price:parseFloat(_.price),original_price:_.original_price?parseFloat(_.original_price):null,stock:parseInt(_.stock)||0,sku:_.sku,images:I,specs:Object.keys(D).length>0?D:null,features:Q,is_visible:_.is_visible,is_featured:_.is_featured};if(p){const{error:w}=await pe.from("products").update(ae).eq("id",p.id);if(w)throw w}else{const{error:w}=await pe.from("products").insert([ae]);if(w)throw w}ye(),y(!1),await W()}catch(D){console.error("Error saving product:",D)}finally{f(!1)}};return v?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Product Management"}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Close"]})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:g?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs("button",{type:"button",onClick:()=>y(!1),className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Products"]}),s.jsx("h3",{className:"text-xl font-bold text-white",children:p?"Edit Product":"Add New Product"})]}),s.jsxs("form",{onSubmit:Ue,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Product Name"}),s.jsx("input",{type:"text",value:_.name,onChange:V=>C({..._,name:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Tagline"}),s.jsx("input",{type:"text",value:_.tag_line,onChange:V=>C({..._,tag_line:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Description"}),s.jsx("textarea",{value:_.description,onChange:V=>C({..._,description:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-24",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Price ()"}),s.jsx("input",{type:"number",step:"0.01",value:_.price,onChange:V=>C({..._,price:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Original Price ()"}),s.jsx("input",{type:"number",step:"0.01",value:_.original_price,onChange:V=>C({..._,original_price:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Stock"}),s.jsx("input",{type:"number",value:_.stock,onChange:V=>C({..._,stock:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"SKU"}),s.jsx("input",{type:"text",value:_.sku,onChange:V=>C({..._,sku:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Image URLs (comma separated)"}),s.jsx("input",{type:"text",value:_.images,onChange:V=>C({..._,images:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Features (comma separated)"}),s.jsx("input",{type:"text",value:_.features,onChange:V=>C({..._,features:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"WiFi, Bluetooth, Voice Control"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Specifications (JSON format)"}),s.jsx("textarea",{value:_.specs,onChange:V=>C({..._,specs:V.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-24",placeholder:'{"Weight": "1.2kg", "Dimensions": "10x10x5cm"}'})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsxs("div",{className:"relative inline-block w-12 h-6 mr-3",children:[s.jsx("input",{type:"checkbox",checked:_.is_visible,onChange:V=>C({..._,is_visible:V.target.checked}),className:"sr-only"}),s.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${_.is_visible?"bg-green-500":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${_.is_visible?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Visible to Everyone"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Product will be visible on the website"})]})]})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsxs("div",{className:"relative inline-block w-12 h-6 mr-3",children:[s.jsx("input",{type:"checkbox",checked:_.is_featured,onChange:V=>C({..._,is_featured:V.target.checked}),className:"sr-only"}),s.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${_.is_featured?"bg-yellow-500":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${_.is_featured?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Featured Product"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Product will be shown in featured section"})]})]})})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{type:"submit",disabled:h,className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg hover:bg-white transition-colors disabled:opacity-50 flex items-center gap-2",children:h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-nyx-black"}),p?"Updating...":"Creating..."]}):p?"Update Product":"Create Product"}),s.jsx("button",{type:"button",onClick:()=>y(!1),className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Manage Products"}),s.jsxs("button",{onClick:()=>y(!0),className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg hover:bg-white transition-colors flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add New Product"]})]}),h?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-nyx-blue mx-auto"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"Loading products..."})]}):i.length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-400",children:"No products found. Add your first product!"})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(V=>{var D;return s.jsxs("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-xl p-4 border border-white/10",children:[s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg mb-3",children:s.jsx("img",{src:((D=V.images)==null?void 0:D[0])||V.imageUrl||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",alt:V.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-white font-semibold truncate",children:V.name}),s.jsx("p",{className:"text-gray-400 text-sm line-clamp-2",children:V.description}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-nyx-blue font-bold",children:["",V.price]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Ee(V),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>be(V.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]}),s.jsxs("div",{className:"flex gap-4 text-xs text-gray-400",children:[s.jsxs("span",{children:["Stock: ",V.stock]}),s.jsx("span",{className:V.is_visible?"text-green-400":"text-red-400",children:V.is_visible?"Visible":"Hidden"}),V.is_featured&&s.jsx("span",{className:"text-yellow-400",children:"Featured"})]})]})]},V.id)})})]})})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-md p-6 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have permission to manage products."}),s.jsx("button",{onClick:d,className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg hover:bg-white transition-colors",children:"Close"})]})})},Ub=({onClose:d})=>{const{user:l}=qt(),[o,i]=L.useState([]),[u,h]=L.useState(!0),[f,p]=L.useState(null),[x,g]=L.useState(!1),y=l&&(l.roles.includes("content_writer")||l.roles.includes("admin")||l.roles.includes("super-admin"));l&&(l.roles.includes("admin")||l.roles.includes("super-admin"));const[v,_]=L.useState({title:"",excerpt:"",content:"",featuredImage:"",status:"draft",tags:"",seoTitle:"",seoDescription:"",isFeatured:!1});L.useEffect(()=>{C()},[]);const C=async()=>{try{const{data:E,error:$}=await pe.from("blog_posts").select("*").order("created_at",{ascending:!1});if($)throw $;i(E||[])}catch(E){console.error("Error fetching blog posts:",E)}finally{h(!1)}},A=async E=>{E.preventDefault();try{const $={...v,slug:v.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"),tags:v.tags.split(",").map(X=>X.trim()).filter(X=>X),published_at:v.status==="published"?new Date().toISOString():null};if(f){const{error:X}=await pe.from("blog_posts").update($).eq("id",f.id);if(X)throw X}else{const{error:X}=await pe.from("blog_posts").insert([$]);if(X)throw X}p(null),g(!1),k(),C()}catch($){console.error("Error saving blog post:",$)}},k=()=>{_({title:"",excerpt:"",content:"",featuredImage:"",status:"draft",tags:"",seoTitle:"",seoDescription:"",isFeatured:!1})},U=E=>{var $;p(E),_({title:E.title,excerpt:E.excerpt||"",content:E.content,featuredImage:E.imageUrl||"",status:E.status||"draft",tags:(($=E.tags)==null?void 0:$.join(", "))||"",seoTitle:E.seoTitle||"",seoDescription:E.seoDescription||"",isFeatured:E.isFeatured||!1}),g(!0)},P=async E=>{if(confirm("Are you sure you want to delete this blog post?"))try{const{error:$}=await pe.from("blog_posts").delete().eq("id",E);if($)throw $;C()}catch($){console.error("Error deleting blog post:",$)}},S=async(E,$)=>{try{const X=$==="published"?"draft":"published",K=X==="published"?new Date().toISOString():null,{error:te}=await pe.from("blog_posts").update({status:X,published_at:K}).eq("id",E);if(te)throw te;C()}catch(X){console.error("Error updating blog post status:",X)}};return y?u?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading blog posts..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Blog Management"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{g(!0),p(null),k()},className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Add Post"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:x?s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Title"}),s.jsx("input",{type:"text",value:v.title,onChange:E=>_({...v,title:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Excerpt"}),s.jsx("textarea",{value:v.excerpt,onChange:E=>_({...v,excerpt:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Content"}),s.jsx("textarea",{value:v.content,onChange:E=>_({...v,content:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-40",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Featured Image URL"}),s.jsx("input",{type:"url",value:v.featuredImage,onChange:E=>_({...v,featuredImage:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Status"}),s.jsxs("select",{value:v.status,onChange:E=>_({...v,status:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:v.tags,onChange:E=>_({...v,tags:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"smart home, technology, automation"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"SEO Title"}),s.jsx("input",{type:"text",value:v.seoTitle,onChange:E=>_({...v,seoTitle:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"SEO Description"}),s.jsx("textarea",{value:v.seoDescription,onChange:E=>_({...v,seoDescription:E.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("label",{className:"flex items-center text-white",children:[s.jsx("input",{type:"checkbox",checked:v.isFeatured,onChange:E=>_({...v,isFeatured:E.target.checked}),className:"mr-2"}),"Featured Post"]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:f?"Update Post":"Add Post"}),s.jsx("button",{type:"button",onClick:()=>{g(!1),p(null),k()},className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):s.jsx("div",{className:"space-y-4",children:o.map(E=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:E.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${E.status==="published"?"bg-green-600 text-white":E.status==="draft"?"bg-yellow-600 text-white":"bg-gray-600 text-white"}`,children:E.status}),E.isFeatured&&s.jsx("span",{className:"px-2 py-1 bg-yellow-600 text-white rounded text-xs font-semibold",children:"Featured"})]}),s.jsx("p",{className:"text-gray-300 mb-2",children:E.excerpt}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Author: ",E.author]}),s.jsxs("span",{children:["Created: ",new Date(E.date).toLocaleDateString()]}),s.jsxs("span",{children:["Views: ",E.viewCount||0]}),E.tags&&E.tags.length>0&&s.jsxs("span",{children:["Tags: ",E.tags.join(", ")]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>S(E.id,E.status||"draft"),className:`px-3 py-1 rounded text-sm transition-colors ${E.status==="published"?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:E.status==="published"?"Unpublish":"Publish"}),s.jsx("button",{onClick:()=>U(E),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>P(E.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]})},E.id))})})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have permission to manage blog posts."}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Required roles: Content Writer, Admin, or Super Admin"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})})},Mb=({onClose:d})=>{const[l,o]=L.useState([]),[i,u]=L.useState(!0),[h,f]=L.useState(null),[p,x]=L.useState("all");L.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:k,error:U}=await pe.from("orders").select(`
          *,
          profiles!orders_user_id_fkey(first_name, last_name, email),
          order_items(*)
        `).order("created_at",{ascending:!1});if(U)throw U;const P=(k==null?void 0:k.map(S=>{var E;return{...S,customer_name:S.profiles?`${S.profiles.first_name} ${S.profiles.last_name}`:"Guest",customer_email:((E=S.profiles)==null?void 0:E.email)||"N/A",items:S.order_items||[]}}))||[];o(P)}catch(k){console.error("Error fetching orders:",k)}finally{u(!1)}},y=async(k,U)=>{try{const P={status:U};U==="shipped"?P.shipped_at=new Date().toISOString():U==="delivered"&&(P.delivered_at=new Date().toISOString());const{error:S}=await pe.from("orders").update(P).eq("id",k);if(S)throw S;g()}catch(P){console.error("Error updating order status:",P)}},v=async(k,U)=>{try{const{error:P}=await pe.from("orders").update({tracking_number:U,status:"shipped",shipped_at:new Date().toISOString()}).eq("id",k);if(P)throw P;g()}catch(P){console.error("Error updating tracking number:",P)}},_=k=>{switch(k){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"processing":return"bg-purple-600";case"shipped":return"bg-indigo-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";case"refunded":return"bg-gray-600";default:return"bg-gray-600"}},C=k=>{switch(k){case"paid":return"bg-green-600";case"pending":return"bg-yellow-600";case"failed":return"bg-red-600";case"refunded":return"bg-gray-600";default:return"bg-gray-600"}},A=p==="all"?l:l.filter(k=>k.status===p);return i?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading orders..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Order Management"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:p,onChange:k=>x(k.target.value),className:"bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"all",children:"All Orders"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:h?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Order Details: ",h.order_number]}),s.jsx("button",{onClick:()=>f(null),className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Orders"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Customer Information"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",h.customer_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",h.customer_email]})]})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Order Status"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${_(h.status)}`,children:h.status})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300",children:"Payment:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${C(h.payment_status)}`,children:h.payment_status})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300",children:"Total:"}),s.jsxs("span",{className:"text-white font-semibold",children:["$",h.total_amount]})]})]})]})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:h.items.map(k=>{var U;return s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:((U=k.product_snapshot)==null?void 0:U.name)||"Product"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Qty: ",k.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white",children:["$",k.unit_price]}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Total: $",k.total_price]})]})]},k.id)})})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Shipping Address"}),s.jsx("div",{className:"text-gray-300",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(h.shipping_address,null,2)})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{onChange:k=>y(h.id,k.target.value),className:"bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"",children:"Update Status"}),s.jsx("option",{value:"confirmed",children:"Confirm"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancel"})]}),s.jsx("input",{type:"text",placeholder:"Tracking Number",onKeyPress:k=>{k.key==="Enter"&&(v(h.id,k.currentTarget.value),k.currentTarget.value="")},className:"bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}):s.jsx("div",{className:"space-y-4",children:A.map(k=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:k.order_number}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${_(k.status)}`,children:k.status}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${C(k.payment_status)}`,children:k.payment_status})]}),s.jsxs("div",{className:"text-gray-300 mb-2",children:[s.jsxs("p",{children:["Customer: ",k.customer_name]}),s.jsxs("p",{children:["Email: ",k.customer_email]}),s.jsxs("p",{children:["Items: ",k.items.length]})]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Total: $",k.total_amount]}),s.jsxs("span",{children:["Created: ",new Date(k.created_at).toLocaleDateString()]}),k.tracking_number&&s.jsxs("span",{children:["Tracking: ",k.tracking_number]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>f(k),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"View Details"})})]})},k.id))})})]})})},zb=({onClose:d})=>{const[l,o]=L.useState([]),[i,u]=L.useState(!0),[h,f]=L.useState(null),[p,x]=L.useState(!1),[g,y]=L.useState({code:"",name:"",description:"",type:"percentage",value:"",minimum_amount:"",maximum_discount:"",usage_limit:"",is_active:!0,valid_from:new Date().toISOString().split("T")[0],valid_until:""});L.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:S,error:E}=await pe.from("coupons").select("*").order("created_at",{ascending:!1});if(E)throw E;o(S||[])}catch(S){console.error("Error fetching coupons:",S)}finally{u(!1)}},_=async S=>{S.preventDefault();try{const E={...g,value:parseFloat(g.value),minimum_amount:parseFloat(g.minimum_amount)||0,maximum_discount:g.maximum_discount?parseFloat(g.maximum_discount):null,usage_limit:g.usage_limit?parseInt(g.usage_limit):null,valid_until:g.valid_until?new Date(g.valid_until).toISOString():null};if(h){const{error:$}=await pe.from("coupons").update(E).eq("id",h.id);if($)throw $}else{const{error:$}=await pe.from("coupons").insert([E]);if($)throw $}f(null),x(!1),C(),v()}catch(E){console.error("Error saving coupon:",E)}},C=()=>{y({code:"",name:"",description:"",type:"percentage",value:"",minimum_amount:"",maximum_discount:"",usage_limit:"",is_active:!0,valid_from:new Date().toISOString().split("T")[0],valid_until:""})},A=S=>{var E,$;f(S),y({code:S.code,name:S.name,description:S.description||"",type:S.type,value:S.value.toString(),minimum_amount:S.minimum_amount.toString(),maximum_discount:((E=S.maximum_discount)==null?void 0:E.toString())||"",usage_limit:(($=S.usage_limit)==null?void 0:$.toString())||"",is_active:S.is_active,valid_from:new Date(S.valid_from).toISOString().split("T")[0],valid_until:S.valid_until?new Date(S.valid_until).toISOString().split("T")[0]:""}),x(!0)},k=async S=>{if(confirm("Are you sure you want to delete this coupon?"))try{const{error:E}=await pe.from("coupons").delete().eq("id",S);if(E)throw E;v()}catch(E){console.error("Error deleting coupon:",E)}},U=async(S,E)=>{try{const{error:$}=await pe.from("coupons").update({is_active:!E}).eq("id",S);if($)throw $;v()}catch($){console.error("Error updating coupon status:",$)}},P=S=>{const E=new Date,$=new Date(S.valid_from),X=S.valid_until?new Date(S.valid_until):null;return S.is_active&&E>=$&&(!X||E<=X)&&(!S.usage_limit||S.used_count<S.usage_limit)};return i?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading coupons..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Coupon Management"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!0),f(null),C()},className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Add Coupon"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:p?s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Coupon Code"}),s.jsx("input",{type:"text",value:g.code,onChange:S=>y({...g,code:S.target.value.toUpperCase()}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Name"}),s.jsx("input",{type:"text",value:g.name,onChange:S=>y({...g,name:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Type"}),s.jsxs("select",{value:g.type,onChange:S=>y({...g,type:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"percentage",children:"Percentage"}),s.jsx("option",{value:"fixed_amount",children:"Fixed Amount"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Value"}),s.jsx("input",{type:"number",step:"0.01",value:g.value,onChange:S=>y({...g,value:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Minimum Amount"}),s.jsx("input",{type:"number",step:"0.01",value:g.minimum_amount,onChange:S=>y({...g,minimum_amount:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Maximum Discount"}),s.jsx("input",{type:"number",step:"0.01",value:g.maximum_discount,onChange:S=>y({...g,maximum_discount:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Usage Limit"}),s.jsx("input",{type:"number",value:g.usage_limit,onChange:S=>y({...g,usage_limit:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Valid Until"}),s.jsx("input",{type:"date",value:g.valid_until,onChange:S=>y({...g,valid_until:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Description"}),s.jsx("textarea",{value:g.description,onChange:S=>y({...g,description:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("label",{className:"flex items-center text-white",children:[s.jsx("input",{type:"checkbox",checked:g.is_active,onChange:S=>y({...g,is_active:S.target.checked}),className:"mr-2"}),"Active"]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:h?"Update Coupon":"Add Coupon"}),s.jsx("button",{type:"button",onClick:()=>{x(!1),f(null),C()},className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):s.jsx("div",{className:"space-y-4",children:l.map(S=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:S.code}),s.jsx("span",{className:"text-gray-300",children:S.name}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${P(S)?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:P(S)?"Valid":"Invalid"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${S.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:S.is_active?"Active":"Inactive"})]}),s.jsx("p",{className:"text-gray-300 mb-2",children:S.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Type: ",S.type==="percentage"?`${S.value}%`:`$${S.value}`]}),s.jsxs("span",{children:["Min: $",S.minimum_amount]}),s.jsxs("span",{children:["Used: ",S.used_count,"/",S.usage_limit||""]}),s.jsxs("span",{children:["Valid: ",new Date(S.valid_from).toLocaleDateString()," - ",S.valid_until?new Date(S.valid_until).toLocaleDateString():"No expiry"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>U(S.id,S.is_active),className:`px-3 py-1 rounded text-sm transition-colors ${S.is_active?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:S.is_active?"Deactivate":"Activate"}),s.jsx("button",{onClick:()=>A(S),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>k(S.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]})},S.id))})})]})})},Lb=({navigateTo:d,product:l})=>{var u;const{addToCart:o}=jn();if(ke.useEffect(()=>{window.scrollTo(0,0)},[]),!l)return s.jsx("div",{className:"min-h-screen bg-dark text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),s.jsx("button",{onClick:()=>d("products"),className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Back to Products"})]})});const i=()=>{o(l,1)};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("div",{className:"relative py-16 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-purple-900/20 to-nyx-black"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"aspect-square overflow-hidden rounded-3xl shadow-2xl",children:s.jsx("img",{src:((u=l.images)==null?void 0:u[0])||l.imageUrl||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=800&fit=crop&crop=center",alt:l.name,className:"w-full h-full object-cover"})}),l.images&&l.images.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:l.images.slice(1,5).map((h,f)=>s.jsx("div",{className:"aspect-square overflow-hidden rounded-lg",children:s.jsx("img",{src:h,alt:`${l.name} ${f+2}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},f))})]}),s.jsxs("div",{className:"space-y-8",children:[l.tag_line&&s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 border border-nyx-blue/30",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:l.tag_line})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl font-bold text-white mb-4 leading-tight",children:l.name}),s.jsx("p",{className:"text-xl text-gray-300 leading-relaxed",children:l.description})]}),s.jsx("div",{className:"flex items-center space-x-6",children:l.original_price&&l.original_price>l.price?s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"text-3xl text-gray-400 line-through",children:["",l.original_price]}),s.jsxs("span",{className:"text-5xl font-bold text-white",children:["",l.price]}),s.jsxs("div",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold",children:[Math.round((l.original_price-l.price)/l.original_price*100),"% OFF"]})]}):s.jsxs("span",{className:"text-5xl font-bold text-white",children:["",l.price]})}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("span",{className:`text-lg font-semibold ${l.stock>0?"text-green-400":"text-red-400"}`,children:l.stock>0?`${l.stock} in stock`:"Out of stock"}),l.sku&&s.jsxs("span",{className:"text-gray-400 text-sm",children:["SKU: ",l.sku]})]}),l.features&&l.features.length>0&&s.jsxs("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-2xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Key Features"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.features.map((h,f)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"w-3 h-3 bg-nyx-blue rounded-full mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-300",children:h})]},f))})]}),l.specs&&Object.keys(l.specs).length>0&&s.jsxs("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-2xl p-6 border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-white",children:"Specifications"}),s.jsx("div",{className:"space-y-3",children:Object.entries(l.specs).map(([h,f])=>s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-700/50",children:[s.jsxs("span",{className:"text-gray-400 font-medium",children:[h,":"]}),s.jsx("span",{className:"text-white",children:f})]},h))})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("button",{onClick:i,disabled:l.stock===0,className:`w-full py-4 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 ${l.stock>0?"bg-gradient-to-r from-nyx-blue to-cyan-400 text-nyx-black hover:from-cyan-400 hover:to-nyx-blue shadow-lg hover:shadow-nyx-blue/25":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:l.stock>0?"Add to Cart":"Out of Stock"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("button",{onClick:()=>d("products"),className:"py-3 border border-gray-600 text-gray-300 rounded-xl font-semibold hover:border-nyx-blue hover:text-nyx-blue transition-colors",children:"Back to Products"}),s.jsx("button",{onClick:()=>d("home"),className:"py-3 border border-gray-600 text-gray-300 rounded-xl font-semibold hover:border-brand-purple hover:text-brand-purple transition-colors",children:"Go to Home"})]})]})]})]})})]}),s.jsx("div",{className:"py-16 bg-dark-accent",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Product Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"text-center p-6 bg-nyx-gray/20 rounded-2xl border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-nyx-blue to-cyan-400 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Free Shipping"}),s.jsx("p",{className:"text-gray-400",children:"Free shipping on all orders over 50"})]}),s.jsxs("div",{className:"text-center p-6 bg-nyx-gray/20 rounded-2xl border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-purple to-brand-pink rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"2 Year Warranty"}),s.jsx("p",{className:"text-gray-400",children:"Comprehensive warranty coverage"})]}),s.jsxs("div",{className:"text-center p-6 bg-nyx-gray/20 rounded-2xl border border-white/10",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-brand-pink to-nyx-blue rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"24/7 Support"}),s.jsx("p",{className:"text-gray-400",children:"Round-the-clock customer support"})]})]})]})})})]})},qb=({navigateTo:d,isUserMenuOpen:l,setIsUserMenuOpen:o,user:i,profileData:u,setOpenAddForm:h})=>{var v,_,C,A,k,U,P,S,E,$,X,K,te;const{logout:f}=qt(),[p,x]=L.useState(null),g=()=>{p&&(clearTimeout(p),x(null))},y=()=>{const ne=setTimeout(()=>{o(!1)},250);x(ne)};return l?s.jsxs("div",{onMouseEnter:g,onMouseLeave:y,className:"fixed top-16 right-4 w-80 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl z-50 overflow-hidden",style:{animation:"bubbleSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)",transform:"translateZ(0)",willChange:"transform, opacity"},children:[s.jsx("div",{className:"p-6 border-b border-white/10 bg-white/5",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:((v=u==null?void 0:u.nickname)==null?void 0:v.substring(0,2).toUpperCase())||((C=(_=i==null?void 0:i.user_metadata)==null?void 0:_.full_name)==null?void 0:C.split(" ").map(ne=>ne[0]).join(""))||((A=i==null?void 0:i.email)==null?void 0:A.split("@")[0].substring(0,2).toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold text-lg",children:(u==null?void 0:u.nickname)||((k=i==null?void 0:i.user_metadata)==null?void 0:k.full_name)||((U=i==null?void 0:i.email)==null?void 0:U.split("@")[0])||"User"}),s.jsx("p",{className:"text-gray-300 text-sm",children:(i==null?void 0:i.email)||"user@example.com"}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[((i==null?void 0:i.roles)||["user"]).slice(0,2).map((ne,we)=>s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${ne==="super-admin"?"bg-red-500/20 text-red-300":ne==="admin"?"bg-purple-500/20 text-purple-300":ne==="seller"?"bg-green-500/20 text-green-300":ne==="content_writer"?"bg-orange-500/20 text-orange-300":"bg-blue-500/20 text-blue-300"}`,children:ne.toUpperCase()},we)),((i==null?void 0:i.roles)||[]).length>2&&s.jsxs("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-500/20 text-gray-300",children:["+",((i==null?void 0:i.roles)||[]).length-2]})]})]})]})}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsxs("button",{onClick:()=>{d("profile"),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("span",{className:"font-medium",children:"Profile"})]}),(((P=i==null?void 0:i.roles)==null?void 0:P.includes("admin"))||((S=i==null?void 0:i.roles)==null?void 0:S.includes("super-admin")))&&s.jsxs("button",{onClick:()=>{d("admin"),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("span",{className:"font-medium",children:"Admin Dashboard"})]}),(((E=i==null?void 0:i.roles)==null?void 0:E.includes("admin"))||(($=i==null?void 0:i.roles)==null?void 0:$.includes("super-admin"))||((X=i==null?void 0:i.roles)==null?void 0:X.includes("seller")))&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{h(!0),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"font-medium",children:"Manage Products"})]}),s.jsxs("button",{onClick:()=>{h(!0),h(!0),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("span",{className:"font-medium",children:"Add New Product"})]})]}),(((K=i==null?void 0:i.roles)==null?void 0:K.includes("admin"))||((te=i==null?void 0:i.roles)==null?void 0:te.includes("super-admin")))&&s.jsxs("button",{onClick:()=>{o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("span",{className:"font-medium",children:"Add Blog Post"})]}),s.jsx("div",{className:"border-t border-white/10 my-2"}),s.jsxs("button",{onClick:async()=>{try{await f(),d("home")}catch(ne){console.error(" ProfileDropdown Logout failed:",ne)}o(!1)},className:"w-full flex items-center gap-3 p-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),s.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}):null},Lm=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),s.jsx("polyline",{points:"12 19 5 12 12 5"})]}),qm=d=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...d,children:s.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Bb=({isOpen:d,className:l})=>s.jsxs("svg",{className:l,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",className:`transition-transform duration-300 ${d?"rotate-90":""}`})]}),Hb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),$b=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),s.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),Yb=d=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),Bm=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Gb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Xb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Vb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",...d,children:[s.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.223 0-9.657-3.356-11.303-7.918l-6.573 5.013C9.657 39.646 16.318 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C41.332 36.636 44 31.023 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),Pb=({navigateTo:d})=>{const[l,o]=L.useState(!0),[i,u]=L.useState(""),[h,f]=L.useState(""),[p,x]=L.useState(""),[g,y]=L.useState(""),[v,_]=L.useState(""),[C,A]=L.useState(""),[k,U]=L.useState(!1),[P,S]=L.useState(null),[E,$]=L.useState(null),[X,K]=L.useState(!1),{login:te,signup:ne,signInWithProvider:we,sendPasswordResetEmail:W}=qt(),[Ee,be]=L.useState(!1),[ye,Ue]=L.useState(""),V=async ae=>{if(ae.preventDefault(),console.log(" Form submitted!"),S(null),$(null),K(!0),console.log(" Loading set to true"),l)try{console.log(" Starting login..."),console.log(" Email:",i),console.log(" Password length:",h.length),console.log(" Calling login function..."),await te(i,h),console.log(" Login successful!"),K(!1),$("Login successful! Redirecting..."),console.log(" Navigating to home..."),d("home")}catch(w){console.error(" Login error:",w),S(w.message),K(!1)}else{if(h!==p){S("Passwords do not match."),K(!1);return}try{await ne(g,v,C,i,h,k),$("Success! Please check your email to confirm your account."),y(""),_(""),A(""),u(""),f(""),x(""),U(!1)}catch(w){S(w.message),K(!1)}}},D=async ae=>{try{await we(ae)}catch(w){S(w.message)}},Q=async ae=>{ae.preventDefault(),S(null),$(null),K(!0);try{await W(ye),$(`If an account with ${ye} exists, a password reset link has been sent.`),Ue("")}catch(w){S(w.message)}finally{K(!1)}},I=(ae,w,G,q,Z,F=!0)=>s.jsx("div",{className:"relative",children:s.jsx("input",{id:ae,name:ae,type:w,value:G,onChange:q,placeholder:Z,className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:border-nyx-blue transition-all",required:F})});return Ee?s.jsxs("div",{className:"w-full max-w-md p-8 md:p-12 bg-nyx-black rounded-2xl border border-nyx-gray/50",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Reset Password"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your email to receive a password reset link."})]}),s.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[I("forgot-email","email",ye,ae=>Ue(ae.target.value),"Your Email"),P&&s.jsx("p",{className:"text-red-500 text-sm",children:P}),E&&s.jsx("p",{className:"text-green-500 text-sm",children:E}),s.jsx("button",{type:"submit",disabled:X,className:"w-full bg-nyx-blue text-nyx-black font-bold py-3 px-8 rounded-full hover:bg-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:X?"Sending...":"Send Reset Link"})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:()=>be(!1),className:"text-sm text-nyx-blue hover:underline",children:"Back to Login"})})]}):s.jsxs("div",{className:"w-full max-w-md p-8 md:p-12 bg-nyx-black rounded-2xl border border-nyx-gray/50",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:l?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-gray-400 mt-2",children:l?"Sign in to continue":"Join the future of smart living"})]}),s.jsxs("form",{onSubmit:V,className:"space-y-4",children:[!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-4",children:[I("firstName","text",g,ae=>y(ae.target.value),"First Name"),I("lastName","text",v,ae=>_(ae.target.value),"Last Name")]}),I("nickname","text",C,ae=>A(ae.target.value),"Nickname")]}),I("email",l?"text":"email",i,ae=>u(ae.target.value),l?"Email or Nickname":"Email"),I("password","password",h,ae=>f(ae.target.value),"Password"),!l&&I("confirmPassword","password",p,ae=>x(ae.target.value),"Confirm Password"),l&&s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"button",onClick:()=>be(!0),className:"text-sm text-nyx-blue hover:underline",children:"Forgot Password?"})}),!l&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"newsletter",name:"newsletter",type:"checkbox",checked:k,onChange:ae=>U(ae.target.checked),className:"h-4 w-4 rounded border-gray-600 bg-nyx-black text-nyx-blue focus:border-nyx-blue"}),s.jsx("label",{htmlFor:"newsletter",className:"ml-2 block text-sm text-gray-400",children:"Subscribe to our newsletter for updates."})]}),P&&s.jsx("p",{className:"text-red-500 text-sm text-center",children:P}),E&&s.jsx("p",{className:"text-green-500 text-sm text-center",children:E}),s.jsx("button",{type:"submit",disabled:X,className:"w-full bg-nyx-blue text-nyx-black font-bold py-3 px-8 rounded-full hover:bg-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:X?"Processing...":l?"Login":"Sign Up"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-700"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-nyx-black px-2 text-gray-500",children:"Or continue with"})})]}),s.jsx("div",{children:s.jsxs("button",{onClick:()=>D("google"),className:"w-full flex justify-center items-center gap-3 bg-nyx-gray border border-gray-700 rounded-lg py-3 px-4 text-white hover:bg-nyx-gray/50 transition-colors",children:[s.jsx(Vb,{className:"w-6 h-6"}),s.jsx("span",{children:"Sign in with Google"})]})}),s.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:[l?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:()=>{o(!l),S(null),$(null)},className:"font-semibold text-nyx-blue hover:underline",children:l?"Sign up":"Login"})]})]})},Qb=({navigateTo:d})=>s.jsx("main",{className:"min-h-screen flex items-center justify-center bg-dark py-12 px-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(Pb,{navigateTo:d})})}),Kb=()=>{const d=L.useRef(null),[l,o]=L.useState(!1),i=()=>{d.current&&(d.current.paused?(d.current.play(),o(!0)):(d.current.pause(),o(!1)))};return L.useEffect(()=>{const u=d.current;if(!u)return;const h=()=>o(!0),f=()=>o(!1),p=()=>o(!1);return u.addEventListener("play",h),u.addEventListener("pause",f),u.addEventListener("ended",p),()=>{u.removeEventListener("play",h),u.removeEventListener("pause",f),u.removeEventListener("ended",p)}},[]),s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"How NYX Works"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Experience the simplicity and power of the NYX ecosystem. From unboxing to everyday use, smart living has never been this effortless."})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden border border-brand-purple/50",children:[s.jsx("video",{ref:d,className:"w-full h-full object-cover",poster:"https://images.unsplash.com/photo-1543286386-71314c48926b?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",src:"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",playsInline:!0,onClick:i}),!l&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 cursor-pointer",onClick:i,children:s.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/30 transition-all",children:s.jsx(qm,{className:"w-10 h-10 text-white ml-1"})})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 max-w-6xl mx-auto mt-24 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-brand-purple mb-4",children:"1"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Unbox & Power On"}),s.jsx("p",{className:"text-gray-400",children:"Simply unbox your NYX device and connect it to power. The status light will guide you."})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-brand-purple mb-4",children:"2"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Connect to Wi-Fi"}),s.jsx("p",{className:"text-gray-400",children:"Open the NYX app, and it will automatically detect your new device and guide you through a quick Wi-Fi setup."})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-brand-purple mb-4",children:"3"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Enjoy Smart Living"}),s.jsx("p",{className:"text-gray-400",children:"That's it! Your device is now part of your smart home, ready to be controlled and automated."})]})]})]})})},Zb=()=>{const d=[{id:1,title:"Setting Up Your NYX-1 Sensor",duration:"3:45",thumbnail:"https://images.unsplash.com/photo-1614036855179-73b185c7c229?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:2,title:"Connecting the NYX-Bulb",duration:"2:15",thumbnail:"https://images.unsplash.com/photo-1608999383953-d61f5d928ace?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:3,title:"Automations with NYX-Cam",duration:"5:30",thumbnail:"https://images.unsplash.com/photo-1599351549026-e57573708f52?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:4,title:"Advanced Features in the NYX App",duration:"8:12",thumbnail:"https://images.unsplash.com/photo-1558233043-4559e7a826a7?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}];return s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"Setup Videos"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Visual guides to help you get started with your NYX products in minutes."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(l=>s.jsxs("div",{className:"group cursor-pointer",children:[s.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden mb-4",children:[s.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm group-hover:bg-white/30 transition-all",children:s.jsx(qm,{className:"w-8 h-8 text-white ml-1"})})}),s.jsx("span",{className:"absolute bottom-3 right-3 bg-black/70 text-white text-xs font-semibold px-2 py-1 rounded-md",children:l.duration})]}),s.jsx("h3",{className:"text-lg font-semibold group-hover:text-brand-purple transition-colors",children:l.title})]},l.id))})]})})},Jb=()=>{const[d,l]=L.useState(null),o=i=>{l(d===i?null:i)};return s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Find answers to common questions about NYX products and services."})]}),s.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:kb.map((i,u)=>s.jsxs("div",{className:"bg-dark-accent rounded-lg border border-white/10",children:[s.jsxs("button",{onClick:()=>o(u),className:"w-full flex justify-between items-center text-left p-6",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.question}),s.jsx(Bb,{isOpen:d===u,className:"w-6 h-6 text-brand-purple flex-shrink-0"})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${d===u?"max-h-96":"max-h-0"}`,children:s.jsx("div",{className:"p-6 pt-0 text-gray-400",children:s.jsx("p",{children:i.answer})})})]},u))})]})})},Wb=()=>{const[d,l]=L.useState({name:"",email:"",subject:"",message:""}),[o,i]=L.useState(""),[u,h]=L.useState(!1),f=x=>{l({...d,[x.target.name]:x.target.value})},p=async x=>{x.preventDefault(),h(!0),i("Sending your message..."),await new Promise(g=>setTimeout(g,2e3)),i(" Message sent successfully! We'll get back to you within 24 hours."),l({name:"",email:"",subject:"",message:""}),h(!1)};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-6 py-3 rounded-full bg-nyx-blue/20 border border-nyx-blue/30 mb-8 backdrop-blur-sm",children:[s.jsx("span",{className:"w-3 h-3 bg-brand-pink rounded-full mr-3 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"24/7 Support Available"})]}),s.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tight mb-8",children:["Let's",s.jsx("span",{className:"block text-nyx-blue",children:"Connect"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-4xl mx-auto leading-relaxed",children:["Have a question about our products? Need technical support? Want to share feedback?",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" We're here to help"})," and",s.jsx("span",{className:"text-brand-purple font-semibold",children:" love hearing from you"}),"."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-nyx-blue mb-2",children:"< 1hr"}),s.jsx("div",{className:"text-gray-400",children:"Response Time"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-brand-purple mb-2",children:"24/7"}),s.jsx("div",{className:"text-gray-400",children:"Support Available"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-brand-pink mb-2",children:"100%"}),s.jsx("div",{className:"text-gray-400",children:"Satisfaction Rate"})]})]})]})})]}),s.jsxs("section",{className:"relative py-20 md:py-28 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6 text-white",children:"Get in Touch"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Choose your preferred way to reach us. We're always here to help with any questions or concerns."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"group bg-nyx-gray/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-nyx-blue/40 transition-all duration-500 hover:transform hover:scale-105",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-nyx-blue rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx($b,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Email Support"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Get detailed help via email. Perfect for complex questions."}),s.jsx("a",{href:"mailto:support@nyx.com",className:"text-nyx-blue hover:text-cyan-400 transition-colors text-lg font-semibold",children:"support@nyx.com"}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Response within 1 hour"})]})]})}),s.jsx("div",{className:"group bg-nyx-gray/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-brand-purple/40 transition-all duration-500 hover:transform hover:scale-105",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-purple rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx(Yb,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Phone Support"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Speak directly with our technical experts."}),s.jsx("a",{href:"tel:+1-800-555-0199",className:"text-brand-purple hover:text-brand-pink transition-colors text-lg font-semibold",children:"+1 (800) 555-0199"}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Mon-Fri 9AM-6PM EST"})]})]})}),s.jsx("div",{className:"group bg-nyx-gray/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-brand-pink/40 transition-all duration-500 hover:transform hover:scale-105",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-pink rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx(Hb,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Visit Our Office"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Come see us in person at our headquarters."}),s.jsxs("div",{className:"text-brand-pink text-lg font-semibold",children:["123 Innovation Drive",s.jsx("br",{}),"Tech City, CA 90210"]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"By appointment only"})]})]})})]})]}),s.jsxs("div",{className:"bg-nyx-gray/40 backdrop-blur-sm rounded-3xl p-10 border border-white/10 hover:border-brand-purple/30 transition-all duration-500",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:d.name,onChange:f,placeholder:"Enter your full name",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",id:"email",value:d.email,onChange:f,placeholder:"Enter your email",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),s.jsx("input",{type:"text",name:"subject",id:"subject",value:d.subject,onChange:f,placeholder:"What's this about?",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),s.jsx("textarea",{name:"message",id:"message",value:d.message,onChange:f,rows:6,placeholder:"Tell us how we can help you...",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300 resize-none"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx("div",{className:"text-sm text-green-400 font-medium min-h-[20px]",children:o}),s.jsx("button",{type:"submit",disabled:u,className:"group relative bg-brand-purple text-white font-semibold py-4 px-12 rounded-full hover:bg-brand-pink transition-all duration-500 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:s.jsx("span",{className:"relative z-10 flex items-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:["Send Message",s.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})})]})]})]})]})})})]}),s.jsxs("section",{className:"relative py-20 md:py-28 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-nyx-black"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Quick answers to common questions"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{question:"How do I set up my NYX device?",answer:"Simply unbox your device, connect it to power, and follow the guided setup in our mobile app. The entire process takes less than 5 minutes."},{question:"What's your return policy?",answer:"We offer a 30-day money-back guarantee. If you're not completely satisfied, return your device for a full refund."},{question:"Do you offer international shipping?",answer:"Yes! We ship to over 50 countries worldwide. Shipping times vary by location but typically range from 3-7 business days."},{question:"How can I track my order?",answer:"Once your order ships, you'll receive a tracking number via email. You can also track your order in your account dashboard."}].map((x,g)=>s.jsxs("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-brand-purple/30 transition-all duration-300",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:x.question}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:x.answer})]},g))})]})]})]})},Ib=()=>s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-8 text-center",children:"Our Story"}),s.jsxs("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 space-y-6",children:[s.jsx("p",{children:"Founded in 2023 by a group of designers and engineers, NYX was born from a simple yet powerful idea: smart home technology should be beautiful, intuitive, and accessible to everyone. We were tired of the clunky, complicated devices that flooded the market, devices that promised a future of convenience but delivered a present of frustration."}),s.jsx("p",{children:"We envisioned a different future. A future where your home anticipates your needs, where technology fades into the background, and where design and function exist in perfect harmony. This vision drove us to create our first product, the NYX-1 Smart Sensor."}),s.jsxs("figure",{className:"my-12",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1580234811497-9df7fd2f337e?q=80&w=1973&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"NYX Team working",className:"w-full rounded-2xl shadow-lg"}),s.jsx("figcaption",{className:"text-center text-sm text-gray-500 mt-4",children:"The founding team in our first workshop."})]}),s.jsx("p",{children:"Crafted from a single piece of aluminum and powered by our proprietary Adaptive AI, the NYX-1 was more than just a motion sensor; it was a statement. It was proof that technology could be both powerful and elegant. The success of the NYX-1 paved the way for a full ecosystem of products, each designed with the same core principles."}),s.jsx("p",{children:"Today, NYX is a leader in the smart home industry, but our mission remains the same: to simplify life through thoughtful design and intelligent technology. We're still a small, passionate team, dedicated to pushing the boundaries of what a smart home can be. And we're just getting started."})]})]})})}),Fb=()=>s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"Why Choose NYX?"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"We believe in a different approach to smart technology. Here's what sets us apart."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-dark-accent p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Design First"}),s.jsx("p",{className:"text-gray-400",children:"We are designers at heart. Every product is meticulously crafted to not only perform its function flawlessly but to also enhance your living space. We use premium materials and a minimalist aesthetic to create devices you'll be proud to display."})]}),s.jsxs("div",{className:"bg-dark-accent p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Intelligent Simplicity"}),s.jsx("p",{className:"text-gray-400",children:"Technology should make life easier, not more complicated. From a setup process that takes seconds to an AI that learns your habits, our focus is on creating a user experience that is powerful yet effortlessly simple."})]}),s.jsxs("div",{className:"bg-dark-accent p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Customer-Centric"}),s.jsx("p",{className:"text-gray-400",children:"You are at the center of everything we do. We offer lifetime support for all our products and actively listen to our community to continuously improve our software and develop new products that solve real-world problems."})]})]})]})}),ey=({navigateTo:d,setOpenAddForm:l})=>{const{user:o}=qt(),[i,u]=L.useState([]),[h,f]=L.useState(!1),[p,x]=L.useState(0),g=o&&(o.roles.includes("seller")||o.roles.includes("admin")||o.roles.includes("super-admin"));L.useEffect(()=>{(async()=>{try{const{data:_,error:C}=await pe.from("products").select("*").order("created_at",{ascending:!1});if(C){console.error(" ProductsPage: Supabase error:",C),u([]),f(!1);return}const A=(_==null?void 0:_.map(k=>{var U;return{id:k.id,name:k.name,price:k.price,original_price:k.original_price,imageUrl:((U=k.images)==null?void 0:U[0])||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",images:k.images||["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center"],description:k.description,category:k.category,isVisible:k.is_visible,stock:k.stock,created_at:k.created_at}}))||[];u(A),f(!1),x(k=>k+1)}catch(_){console.error("Error fetching products:",_),u([]),f(!1)}})()},[p]);const y=g?i:i.filter(v=>v.isVisible);return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 border border-brand-purple/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Complete Collection"})]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-6",children:["Our",s.jsx("span",{className:"block bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue text-transparent bg-clip-text",children:"Collection"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Explore the full range of NYX smart home devices, designed to work together to create a",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" seamless"})," and",s.jsx("span",{className:"text-brand-purple font-semibold",children:" intelligent"})," living experience."]}),g&&s.jsx("div",{className:"flex justify-center gap-4 mb-8",children:s.jsxs("button",{onClick:()=>{l(!0)},className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Products"]})})]})}),s.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/20 to-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:h?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-nyx-blue/30 border-t-nyx-blue rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading products..."}),g&&s.jsx("div",{className:"flex gap-4 mt-6",children:s.jsxs("button",{onClick:()=>{l(!0)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Products"]})})]})}):y.length===0?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Products Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"There are no products available at the moment."}),g&&s.jsx("div",{className:"flex gap-4",children:s.jsxs("button",{onClick:()=>l(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Products"]})})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:y.map(v=>s.jsx(Db,{product:v,navigateTo:d},v.id))})})]})]})},ty=({navigateTo:d})=>{const{user:l}=qt(),[o,i]=L.useState([]),[u,h]=L.useState(!1),[f,p]=L.useState(0),x=l&&(l.roles.includes("admin")||l.roles.includes("super-admin"));return L.useEffect(()=>{(async()=>{try{const{data:y,error:v}=await pe.from("blog_posts").select("*").eq("status","published").order("created_at",{ascending:!1});if(v){console.error(" BlogPage: Supabase error:",v),i([]),h(!1);return}const _=(y==null?void 0:y.map(C=>{var A;return{id:C.id,title:C.title,author:C.author_name||"NYX Team",date:C.created_at,imageUrl:C.featured_image||"https://images.unsplash.com/photo-1558655146-364adaf1fcc9?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",excerpt:C.excerpt||((A=C.content)==null?void 0:A.substring(0,150))+"..."||"Read more about this topic...",content:C.content||"Full content here..."}}))||[];i(_),h(!1),p(C=>C+1)}catch(y){console.error("Error fetching blog posts:",y),i([]),h(!1)}})()},[f]),s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-pink/20 to-brand-purple/20 border border-brand-pink/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Latest Insights"})]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-6",children:["NYX",s.jsx("span",{className:"block bg-gradient-to-r from-brand-pink via-brand-purple to-nyx-blue text-transparent bg-clip-text",children:"Blog"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:["News, insights, and updates from the team building the",s.jsx("span",{className:"text-brand-purple font-semibold",children:" future"})," of",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" smart living"}),"."]}),x&&s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("button",{onClick:()=>{},className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-orange-500/25",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Add New Blog Post"]})})]})}),s.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/10 to-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:u?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-nyx-blue/30 border-t-nyx-blue rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading blog posts..."})]})}):o.length===0?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Blog Posts Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"There are no blog posts available at the moment."}),x&&s.jsxs("button",{onClick:()=>{},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Add First Blog Post"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:o.map((g,y)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue rounded-3xl blur opacity-0 group-hover:opacity-75 transition-opacity duration-500"}),s.jsxs("div",{className:"relative bg-nyx-gray/30 backdrop-blur-sm rounded-3xl overflow-hidden flex flex-col border border-white/20 hover:border-brand-purple/50 transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-brand-purple/20",children:[s.jsxs("div",{className:"aspect-video overflow-hidden relative",children:[s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nyx-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("div",{className:"bg-brand-purple/90 backdrop-blur-sm text-white text-xs font-semibold px-3 py-1 rounded-full",children:new Date(g.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})})]}),s.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 bg-nyx-blue rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"BLOG POST"})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3 flex-grow group-hover:text-nyx-blue transition-colors leading-tight",children:g.title}),s.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3",children:g.excerpt}),s.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-brand-purple to-brand-pink rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-white",children:g.author.charAt(0)})}),s.jsxs("span",{className:"text-xs text-gray-400",children:["By ",g.author]})]}),s.jsxs("a",{href:"#",onClick:v=>{v.preventDefault(),d("blog-post",{post:g})},className:"group/link flex items-center gap-2 text-nyx-blue hover:text-cyan-400 font-semibold text-sm transition-colors",children:["Read More",s.jsx("svg",{className:"w-4 h-4 group-hover/link:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})]},g.id))})})]})]})},ay=({navigateTo:d,post:l})=>s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-brand-purple/10 to-nyx-black"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-80 h-80 bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>d("blog"),className:"flex items-center gap-2 text-brand-purple hover:text-brand-purple/80 mb-8 group",children:[s.jsx(Lm,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),"Back to Blog"]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6 leading-tight",children:l.title}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-400 mb-8",children:[s.jsxs("span",{children:["By ",s.jsx("span",{className:"text-nyx-blue font-semibold",children:l.author})]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(l.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})})]}),s.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/10 to-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-3xl overflow-hidden border border-white/10 mb-8",children:s.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full aspect-video object-cover"})}),s.jsxs("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 leading-relaxed",children:[s.jsxs("p",{className:"text-xl text-gray-200 mb-6",children:[l.excerpt," ",l.content]}),s.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),s.jsx("p",{children:"Curabitur pretium tincidunt lacus. Nulla gravida orci a odio. Nullam varius, turpis et commodo pharetra, est eros bibendum elit, nec luctus magna felis sollicitudin mauris. Integer in mauris eu nibh euismod gravida. Duis ac tellus et risus vulputate vehicula. Donec lobortis risus a elit. Etiam tempor. Ut ullamcorper, ligula eu tempor congue, eros est euismod turpis, id tincidunt sapien risus a quam. Maecenas fermentum consequat mi. Donec fermentum. Pellentesque malesuada nulla a mi. Duis sapien sem, aliquet nec, commodo eget, consequat quis, neque. Aliquam faucibus, elit ut dictum aliquet, felis nisl adipiscing sapien, sed malesuada diam lacus eget erat. Cras mollis scelerisque nunc. Nullam arcu. Aliquam consequat."})]})]})})]})]}),sy=({navigateTo:d,slug:l,title:o})=>{const{user:i}=qt(),u=i&&(i.roles.includes("admin")||i.roles.includes("super-admin")),[h,f]=L.useState(""),[p,x]=L.useState(""),[g,y]=L.useState(""),[v,_]=L.useState(!1),[C,A]=L.useState(!0),[k,U]=L.useState(""),[P,S]=L.useState("");L.useEffect(()=>{(async()=>{A(!0),U(""),S("");try{const{data:te,error:ne}=await pe.from("legal_documents").select("content, last_updated").eq("slug",l).single();if(ne&&ne.code!=="PGRST116")throw ne;te?(f(te.content||"This document has not been written yet."),x(te.last_updated)):(f("This document has not been written yet."),U("Document not found."))}catch(te){U(te.message||"Failed to fetch document."),f("Content could not be loaded.")}finally{A(!1)}})()},[l]);const E=()=>{y(h),_(!0),S("")},$=()=>{_(!1),y("")},X=async()=>{S("Saving...");try{const{data:K,error:te}=await pe.from("legal_documents").update({content:g,last_updated:new Date().toISOString()}).eq("slug",l).select("last_updated").single();if(te)throw te;f(g),K&&x(K.last_updated),S("Changes saved successfully!"),_(!1),setTimeout(()=>S(""),3e3)}catch(K){S(`Error: ${K.message}`)}};return C?s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:"Loading document..."})})}):s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("button",{onClick:()=>d("home"),className:"flex items-center gap-2 text-brand-purple hover:text-brand-purple/80 mb-8",children:[s.jsx(Lm,{className:"w-5 h-5"}),"Back to Home"]}),s.jsxs("div",{className:"flex justify-between items-start mb-8 gap-4",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:o}),u&&!v&&s.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors bg-dark-accent p-3 rounded-lg border border-white/10 flex-shrink-0",children:[s.jsx(Bm,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})]}),v?s.jsxs("div",{className:"space-y-4",children:[s.jsx("textarea",{value:g,onChange:K=>y(K.target.value),className:"w-full min-h-[500px] bg-dark-accent border border-gray-600 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-purple font-mono"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-center gap-4",children:[P&&s.jsx("p",{className:`text-sm ${P.startsWith("Error")?"text-red-400":"text-green-400"}`,children:P}),s.jsx("button",{onClick:$,className:"border border-gray-600 text-gray-300 font-medium py-2 px-5 rounded-full hover:border-white hover:text-white transition-all w-full sm:w-auto",children:"Cancel"}),s.jsx("button",{onClick:X,disabled:P==="Saving...",className:"bg-brand-purple text-white font-semibold py-2 px-5 rounded-full hover:bg-brand-purple/80 transition-all disabled:opacity-50 w-full sm:w-auto",children:P==="Saving..."?"Saving...":"Save Changes"})]})]}):s.jsxs("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",children:[k&&!k.includes("Document not found")?s.jsx("p",{className:"text-red-400",children:k}):s.jsx("p",{style:{whiteSpace:"pre-wrap"},children:h}),p&&(!k||k.includes("Document not found"))&&s.jsxs("p",{className:"text-sm text-gray-500 mt-8",children:["Last Updated: ",new Date(p).toLocaleString()]})]})]})})})},ny=()=>{const{fetchAllUsers:d,updateUserRoles:l,deleteUserAsAdmin:o,user:i}=qt(),[u,h]=L.useState([]),[f,p]=L.useState([]),[x,g]=L.useState(!0),[y,v]=L.useState(null),[_,C]=L.useState(""),A=i&&(i.roles.includes("admin")||i.roles.includes("super-admin"));i&&i.roles.includes("super-admin");const[k,U]=L.useState(null),[P,S]=L.useState(null),[E,$]=L.useState([]),[X,K]=L.useState(!1),[te,ne]=L.useState(!1),[we,W]=L.useState(!1),[Ee,be]=L.useState(!1),ye=["user","seller","content_writer","admin","super-admin","Web Developer","UI/UX Designer"],Ue={"super-admin":"bg-red-500/20 text-red-400 border-red-500/30",admin:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",seller:"bg-green-500/20 text-green-400 border-green-500/30",content_writer:"bg-blue-500/20 text-blue-400 border-blue-500/30",user:"bg-gray-500/20 text-gray-400 border-gray-500/30","Web Developer":"bg-purple-500/20 text-purple-400 border-purple-500/30","UI/UX Designer":"bg-pink-500/20 text-pink-400 border-pink-500/30"},V=L.useCallback(async()=>{try{g(!0),v(null);const q=await d();h(q)}catch(q){v(q.message||"Failed to fetch users.")}finally{g(!1)}},[d]);L.useEffect(()=>{V()},[V]),L.useEffect(()=>{const q=_.toLowerCase(),Z=u.filter(F=>F.firstName.toLowerCase().includes(q)||F.lastName.toLowerCase().includes(q)||F.nickname.toLowerCase().includes(q)||F.email.toLowerCase().includes(q));p(Z)},[_,u]);const D=q=>{U(q),$(q.roles)},Q=(q,Z)=>{$(F=>Z?[...F,q]:F.filter(de=>de!==q))},I=async()=>{if(k){K(!0);try{await l(k.id,E),h(u.map(q=>q.id===k.id?{...q,roles:E}:q)),U(null)}catch(q){alert(`Error updating roles: ${q.message}`)}finally{K(!1)}}},ae=q=>{S(q)},w=async()=>{if(P){K(!0);try{await o(P.id),h(u.filter(q=>q.id!==P.id)),S(null)}catch(q){alert(`Error deleting user: ${q.message}`)}finally{K(!1)}}},G=()=>s.jsxs(s.Fragment,{children:[k&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[101] backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-dark-accent rounded-2xl border border-white/10 p-6 sm:p-8 w-full max-w-lg",children:[s.jsxs("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:["Edit Roles for ",k.nickname]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 my-6",children:ye.map(q=>s.jsxs("label",{className:"flex items-center gap-3 bg-dark p-3 rounded-lg cursor-pointer hover:bg-nyx-gray/50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:E.includes(q),onChange:Z=>Q(q,Z.target.checked),className:"h-5 w-5 rounded border-gray-600 bg-nyx-black text-nyx-blue focus:ring-nyx-blue"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md border ${Ue[q]||Ue.user}`,children:q})]},q))}),s.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[s.jsx("button",{onClick:()=>U(null),className:"border border-gray-600 text-gray-300 font-medium py-2 px-5 rounded-full hover:border-white hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{onClick:I,disabled:X,className:"bg-brand-purple text-white font-semibold py-2 px-5 rounded-full hover:bg-brand-purple/80 transition-colors disabled:opacity-50",children:X?"Saving...":"Save Changes"})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[101] backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-dark-accent rounded-2xl border border-white/10 p-6 sm:p-8 w-full max-w-md text-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Delete User"}),s.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",s.jsx("span",{className:"font-bold text-white",children:P.nickname}),"? This action is irreversible."]}),s.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[s.jsx("button",{onClick:()=>S(null),className:"border border-gray-600 text-gray-300 font-medium py-2 px-5 rounded-full hover:border-white hover:text-white flex-1 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:w,disabled:X,className:"bg-red-600 text-white font-semibold py-2 px-5 rounded-full hover:bg-red-700 flex-1 transition-colors disabled:opacity-50",children:X?"Deleting...":"Confirm Delete"})]})]})})]});return A?x?s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white min-h-screen flex items-center justify-center",children:"Loading users..."}):y?s.jsxs("div",{className:"py-24 md:py-32 bg-dark text-red-400 min-h-screen flex items-center justify-center",children:["Error: ",y]}):s.jsxs(s.Fragment,{children:[G(),te&&s.jsx(Ub,{onClose:()=>ne(!1)}),we&&s.jsx(Mb,{onClose:()=>W(!1)}),Ee&&s.jsx(zb,{onClose:()=>be(!1)}),s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white min-h-screen",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Gb,{className:"w-8 h-8 text-brand-purple"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Admin Dashboard"})]}),s.jsx("input",{type:"text",placeholder:"Search users...",value:_,onChange:q=>C(q.target.value),className:"w-full sm:w-64 bg-dark-accent border border-gray-600 rounded-lg py-2 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-purple"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("button",{onClick:()=>setOpenAddForm(!0),className:"bg-nyx-blue text-nyx-black p-4 rounded-lg hover:bg-white transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Product Management"}),s.jsx("p",{className:"text-sm",children:"Manage products, inventory, and pricing"})]}),s.jsxs("button",{onClick:()=>ne(!0),className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Blog Management"}),s.jsx("p",{className:"text-sm",children:"Create and manage blog posts"})]}),s.jsxs("button",{onClick:()=>W(!0),className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Order Management"}),s.jsx("p",{className:"text-sm",children:"View and process orders"})]}),s.jsxs("button",{onClick:()=>be(!0),className:"bg-orange-600 text-white p-4 rounded-lg hover:bg-orange-700 transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Coupon Management"}),s.jsx("p",{className:"text-sm",children:"Create and manage discount codes"})]})]}),s.jsx("div",{className:"bg-dark-accent border border-white/10 rounded-2xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 font-semibold",children:"User"}),s.jsx("th",{className:"p-4 font-semibold hidden md:table-cell",children:"Nickname"}),s.jsx("th",{className:"p-4 font-semibold",children:"Roles"}),s.jsx("th",{className:"p-4 font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:f.map(q=>{if(!i)return null;const Z=q.roles.includes("super-admin"),F=q.roles.includes("admin"),de=i.roles.includes("super-admin"),le=i.roles.includes("admin"),at=q.id!==i.id&&(de||le&&!F&&!Z),Se=q.id!==i.id&&!Z&&(de||le&&!F);return s.jsxs("tr",{className:"border-b border-white/10 last:border-b-0 hover:bg-dark/50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:q.profilePicture||`https://ui-avatars.com/api/?name=${q.firstName}+${q.lastName}&background=random`,alt:q.nickname,className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-white",children:[q.firstName," ",q.lastName]}),s.jsx("div",{className:"text-sm text-gray-400",children:q.email})]})]})}),s.jsx("td",{className:"p-4 hidden md:table-cell",children:s.jsxs("span",{className:"text-white font-medium",children:["@",q.nickname]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:q.roles.map(ut=>s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md border ${Ue[ut]||Ue.user}`,children:ut},ut))})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[at&&s.jsx("button",{onClick:()=>D(q),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Edit Roles",children:s.jsx(Bm,{className:"w-4 h-4"})}),Se&&s.jsx("button",{onClick:()=>ae(q),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete User",children:s.jsx(Xb,{className:"w-4 h-4"})})]})})]},q.id)})})]})})})]})})]}):s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have permission to access the admin panel."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Required roles: Admin or Super Admin"})]})})},ly=()=>{const[d,l]=L.useState("home"),[o,i]=L.useState(null),[u,h]=L.useState(!1),[f,p]=L.useState(!1);ke.useEffect(()=>{},[]),ke.useEffect(()=>{},[f]);const[x,g]=L.useState(null),{user:y,loading:v}=qt(),[_,C]=L.useState("testing");ke.useEffect(()=>{C("connected")},[]),ke.useEffect(()=>{(async()=>{if(!y){g(null);return}try{const{data:P,error:S}=await pe.from("profiles").select("*").eq("id",y.id).single();S&&S.code!=="PGRST116"?(console.error("Error loading profile:",S),g(null)):g(P||null)}catch(P){console.error("Error loading profile data:",P),g(null)}})()},[y]),ke.useEffect(()=>{const U=()=>{h(P=>!P)};return window.addEventListener("profileClick",U),()=>{window.removeEventListener("profileClick",U)}},[]);const A=(U,P)=>{l(U),i(P),window.scrollTo(0,0)},k=()=>{switch(d){case"home":return s.jsx(mm,{navigateTo:A});case"login":return s.jsx(Qb,{navigateTo:A});case"profile":return s.jsx(Eb,{navigateTo:A});case"products":return s.jsx(ey,{navigateTo:A,setOpenAddForm:p});case"product-detail":return s.jsx(Lb,{navigateTo:A,product:o==null?void 0:o.product});case"blog":return s.jsx(ty,{navigateTo:A});case"blog-post":return s.jsx(ay,{navigateTo:A,post:o==null?void 0:o.post});case"how-it-works":return s.jsx(Kb,{});case"setup-videos":return s.jsx(Zb,{});case"faq":return s.jsx(Jb,{});case"contact":return s.jsx(Wb,{});case"our-story":return s.jsx(Ib,{});case"why-us":return s.jsx(Fb,{});case"ask":return s.jsxs("div",{style:{padding:"100px",textAlign:"center",color:"white"},children:[s.jsx("h1",{children:"Ask NYX"}),s.jsx("p",{children:"Coming Soon..."})]});case"admin":return s.jsx(ny,{});case"legal":return s.jsx(sy,{navigateTo:A,slug:o==null?void 0:o.slug,title:o==null?void 0:o.title});default:return s.jsx(mm,{navigateTo:A})}};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsx(yb,{navigateTo:A}),s.jsx("main",{children:k()}),s.jsx(vb,{navigateTo:A}),s.jsx(Cb,{navigateTo:A}),s.jsx(Ob,{}),y&&s.jsx(qb,{navigateTo:A,isUserMenuOpen:u,setIsUserMenuOpen:h,user:y,profileData:x,setOpenAddForm:p}),f&&s.jsx(Rb,{onClose:()=>{p(!1)},openAddForm:!1})]})};ix.createRoot(document.getElementById("root")).render(s.jsx(ke.StrictMode,{children:s.jsx(ly,{})}));
