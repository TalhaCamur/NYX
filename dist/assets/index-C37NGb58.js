(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(u){if(u.ep)return;u.ep=!0;const h=o(u);fetch(u.href,h)}})();function Yc(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}function tx(d){if(Object.prototype.hasOwnProperty.call(d,"__esModule"))return d;var l=d.default;if(typeof l=="function"){var o=function i(){return this instanceof i?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};o.prototype=l.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(d).forEach(function(i){var u=Object.getOwnPropertyDescriptor(d,i);Object.defineProperty(o,i,u.get?u:{enumerable:!0,get:function(){return d[i]}})}),o}var pc={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf;function ax(){if(Mf)return El;Mf=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function o(i,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var p in u)p!=="key"&&(h[p]=u[p])}else h=u;return u=h.ref,{$$typeof:d,type:i,key:f,ref:u!==void 0?u:null,props:h}}return El.Fragment=l,El.jsx=o,El.jsxs=o,El}var zf;function sx(){return zf||(zf=1,pc.exports=ax()),pc.exports}var s=sx(),bc={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf;function nx(){if(Lf)return xe;Lf=1;var d=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function O(w,H,W){this.props=w,this.context=H,this.refs=E,this.updater=W||T}O.prototype.isReactComponent={},O.prototype.setState=function(w,H){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,H,"setState")},O.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function K(){}K.prototype=O.prototype;function S(w,H,W){this.props=w,this.context=H,this.refs=E,this.updater=W||T}var k=S.prototype=new K;k.constructor=S,C(k,O.prototype),k.isPureReactComponent=!0;var z=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function F(w,H,W,X,G,ie){return W=ie.ref,{$$typeof:d,type:w,key:H,ref:W!==void 0?W:null,props:ie}}function J(w,H){return F(w.type,H,void 0,void 0,void 0,w.props)}function le(w){return typeof w=="object"&&w!==null&&w.$$typeof===d}function I(w){var H={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(W){return H[W]})}var fe=/\/+/g;function ue(w,H){return typeof w=="object"&&w!==null&&w.key!=null?I(""+w.key):H.toString(36)}function de(){}function pe(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(de,de):(w.status="pending",w.then(function(H){w.status==="pending"&&(w.status="fulfilled",w.value=H)},function(H){w.status==="pending"&&(w.status="rejected",w.reason=H)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function me(w,H,W,X,G){var ie=typeof w;(ie==="undefined"||ie==="boolean")&&(w=null);var se=!1;if(w===null)se=!0;else switch(ie){case"bigint":case"string":case"number":se=!0;break;case"object":switch(w.$$typeof){case d:case l:se=!0;break;case y:return se=w._init,me(se(w._payload),H,W,X,G)}}if(se)return G=G(w),se=X===""?"."+ue(w,0):X,z(G)?(W="",se!=null&&(W=se.replace(fe,"$&/")+"/"),me(G,H,W,"",function(St){return St})):G!=null&&(le(G)&&(G=J(G,W+(G.key==null||w&&w.key===G.key?"":(""+G.key).replace(fe,"$&/")+"/")+se)),H.push(G)),1;se=0;var Me=X===""?".":X+":";if(z(w))for(var ke=0;ke<w.length;ke++)X=w[ke],ie=Me+ue(X,ke),se+=me(X,H,W,ie,G);else if(ke=_(w),typeof ke=="function")for(w=ke.call(w),ke=0;!(X=w.next()).done;)X=X.value,ie=Me+ue(X,ke++),se+=me(X,H,W,ie,G);else if(ie==="object"){if(typeof w.then=="function")return me(pe(w),H,W,X,G);throw H=String(w),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return se}function M(w,H,W){if(w==null)return w;var X=[],G=0;return me(w,X,"","",function(ie){return H.call(W,ie,G++)}),X}function Z(w){if(w._status===-1){var H=w._result;H=H(),H.then(function(W){(w._status===0||w._status===-1)&&(w._status=1,w._result=W)},function(W){(w._status===0||w._status===-1)&&(w._status=2,w._result=W)}),w._status===-1&&(w._status=0,w._result=H)}if(w._status===1)return w._result.default;throw w._result}var te=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function D(){}return xe.Children={map:M,forEach:function(w,H,W){M(w,function(){H.apply(this,arguments)},W)},count:function(w){var H=0;return M(w,function(){H++}),H},toArray:function(w){return M(w,function(H){return H})||[]},only:function(w){if(!le(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},xe.Component=O,xe.Fragment=o,xe.Profiler=u,xe.PureComponent=S,xe.StrictMode=i,xe.Suspense=x,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,xe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return $.H.useMemoCache(w)}},xe.cache=function(w){return function(){return w.apply(null,arguments)}},xe.cloneElement=function(w,H,W){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=C({},w.props),G=w.key,ie=void 0;if(H!=null)for(se in H.ref!==void 0&&(ie=void 0),H.key!==void 0&&(G=""+H.key),H)!Q.call(H,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&H.ref===void 0||(X[se]=H[se]);var se=arguments.length-2;if(se===1)X.children=W;else if(1<se){for(var Me=Array(se),ke=0;ke<se;ke++)Me[ke]=arguments[ke+2];X.children=Me}return F(w.type,G,void 0,void 0,ie,X)},xe.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},xe.createElement=function(w,H,W){var X,G={},ie=null;if(H!=null)for(X in H.key!==void 0&&(ie=""+H.key),H)Q.call(H,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(G[X]=H[X]);var se=arguments.length-2;if(se===1)G.children=W;else if(1<se){for(var Me=Array(se),ke=0;ke<se;ke++)Me[ke]=arguments[ke+2];G.children=Me}if(w&&w.defaultProps)for(X in se=w.defaultProps,se)G[X]===void 0&&(G[X]=se[X]);return F(w,ie,void 0,void 0,null,G)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(w){return{$$typeof:p,render:w}},xe.isValidElement=le,xe.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:Z}},xe.memo=function(w,H){return{$$typeof:g,type:w,compare:H===void 0?null:H}},xe.startTransition=function(w){var H=$.T,W={};$.T=W;try{var X=w(),G=$.S;G!==null&&G(W,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(D,te)}catch(ie){te(ie)}finally{$.T=H}},xe.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},xe.use=function(w){return $.H.use(w)},xe.useActionState=function(w,H,W){return $.H.useActionState(w,H,W)},xe.useCallback=function(w,H){return $.H.useCallback(w,H)},xe.useContext=function(w){return $.H.useContext(w)},xe.useDebugValue=function(){},xe.useDeferredValue=function(w,H){return $.H.useDeferredValue(w,H)},xe.useEffect=function(w,H,W){var X=$.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,H)},xe.useId=function(){return $.H.useId()},xe.useImperativeHandle=function(w,H,W){return $.H.useImperativeHandle(w,H,W)},xe.useInsertionEffect=function(w,H){return $.H.useInsertionEffect(w,H)},xe.useLayoutEffect=function(w,H){return $.H.useLayoutEffect(w,H)},xe.useMemo=function(w,H){return $.H.useMemo(w,H)},xe.useOptimistic=function(w,H){return $.H.useOptimistic(w,H)},xe.useReducer=function(w,H,W){return $.H.useReducer(w,H,W)},xe.useRef=function(w){return $.H.useRef(w)},xe.useState=function(w){return $.H.useState(w)},xe.useSyncExternalStore=function(w,H,W){return $.H.useSyncExternalStore(w,H,W)},xe.useTransition=function(){return $.H.useTransition()},xe.version="19.1.1",xe}var qf;function Gc(){return qf||(qf=1,bc.exports=nx()),bc.exports}var q=Gc();const Te=Yc(q);var yc={exports:{}},Tl={},vc={exports:{}},wc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf;function lx(){return Bf||(Bf=1,(function(d){function l(M,Z){var te=M.length;M.push(Z);e:for(;0<te;){var D=te-1>>>1,w=M[D];if(0<u(w,Z))M[D]=Z,M[te]=w,te=D;else break e}}function o(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var Z=M[0],te=M.pop();if(te!==Z){M[0]=te;e:for(var D=0,w=M.length,H=w>>>1;D<H;){var W=2*(D+1)-1,X=M[W],G=W+1,ie=M[G];if(0>u(X,te))G<w&&0>u(ie,X)?(M[D]=ie,M[G]=te,D=G):(M[D]=X,M[W]=te,D=W);else if(G<w&&0>u(ie,te))M[D]=ie,M[G]=te,D=G;else break e}}return Z}function u(M,Z){var te=M.sortIndex-Z.sortIndex;return te!==0?te:M.id-Z.id}if(d.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;d.unstable_now=function(){return h.now()}}else{var f=Date,p=f.now();d.unstable_now=function(){return f.now()-p}}var x=[],g=[],y=1,v=null,_=3,T=!1,C=!1,E=!1,O=!1,K=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function z(M){for(var Z=o(g);Z!==null;){if(Z.callback===null)i(g);else if(Z.startTime<=M)i(g),Z.sortIndex=Z.expirationTime,l(x,Z);else break;Z=o(g)}}function $(M){if(E=!1,z(M),!C)if(o(x)!==null)C=!0,Q||(Q=!0,ue());else{var Z=o(g);Z!==null&&me($,Z.startTime-M)}}var Q=!1,F=-1,J=5,le=-1;function I(){return O?!0:!(d.unstable_now()-le<J)}function fe(){if(O=!1,Q){var M=d.unstable_now();le=M;var Z=!0;try{e:{C=!1,E&&(E=!1,S(F),F=-1),T=!0;var te=_;try{t:{for(z(M),v=o(x);v!==null&&!(v.expirationTime>M&&I());){var D=v.callback;if(typeof D=="function"){v.callback=null,_=v.priorityLevel;var w=D(v.expirationTime<=M);if(M=d.unstable_now(),typeof w=="function"){v.callback=w,z(M),Z=!0;break t}v===o(x)&&i(x),z(M)}else i(x);v=o(x)}if(v!==null)Z=!0;else{var H=o(g);H!==null&&me($,H.startTime-M),Z=!1}}break e}finally{v=null,_=te,T=!1}Z=void 0}}finally{Z?ue():Q=!1}}}var ue;if(typeof k=="function")ue=function(){k(fe)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=fe,ue=function(){pe.postMessage(null)}}else ue=function(){K(fe,0)};function me(M,Z){F=K(function(){M(d.unstable_now())},Z)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(M){M.callback=null},d.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<M?Math.floor(1e3/M):5},d.unstable_getCurrentPriorityLevel=function(){return _},d.unstable_next=function(M){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var te=_;_=Z;try{return M()}finally{_=te}},d.unstable_requestPaint=function(){O=!0},d.unstable_runWithPriority=function(M,Z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var te=_;_=M;try{return Z()}finally{_=te}},d.unstable_scheduleCallback=function(M,Z,te){var D=d.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?D+te:D):te=D,M){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=te+w,M={id:y++,callback:Z,priorityLevel:M,startTime:te,expirationTime:w,sortIndex:-1},te>D?(M.sortIndex=te,l(g,M),o(x)===null&&M===o(g)&&(E?(S(F),F=-1):E=!0,me($,te-D))):(M.sortIndex=w,l(x,M),C||T||(C=!0,Q||(Q=!0,ue()))),M},d.unstable_shouldYield=I,d.unstable_wrapCallback=function(M){var Z=_;return function(){var te=_;_=Z;try{return M.apply(this,arguments)}finally{_=te}}}})(wc)),wc}var Hf;function rx(){return Hf||(Hf=1,vc.exports=lx()),vc.exports}var jc={exports:{}},ot={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $f;function ix(){if($f)return ot;$f=1;var d=Gc();function l(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var i={d:{f:o,r:function(){throw Error(l(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(x,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:v==null?null:""+v,children:x,containerInfo:g,implementation:y}}var f=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ot.createPortal=function(x,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(l(299));return h(x,g,null,y)},ot.flushSync=function(x){var g=f.T,y=i.p;try{if(f.T=null,i.p=2,x)return x()}finally{f.T=g,i.p=y,i.d.f()}},ot.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(x,g))},ot.prefetchDNS=function(x){typeof x=="string"&&i.d.D(x)},ot.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin),_=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:T}):y==="script"&&i.d.X(x,{crossOrigin:v,integrity:_,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ot.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);i.d.M(x,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(x)},ot.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=p(y,g.crossOrigin);i.d.L(x,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ot.preloadModule=function(x,g){if(typeof x=="string")if(g){var y=p(g.as,g.crossOrigin);i.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(x)},ot.requestFormReset=function(x){i.d.r(x)},ot.unstable_batchedUpdates=function(x,g){return x(g)},ot.useFormState=function(x,g,y){return f.H.useFormState(x,g,y)},ot.useFormStatus=function(){return f.H.useHostTransitionStatus()},ot.version="19.1.1",ot}var Yf;function ox(){if(Yf)return jc.exports;Yf=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(l){console.error(l)}}return d(),jc.exports=ix(),jc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf;function cx(){if(Gf)return Tl;Gf=1;var d=rx(),l=Gc(),o=ox();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(h(e)!==e)throw Error(i(188))}function x(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,n=t;;){var r=a.return;if(r===null)break;var c=r.alternate;if(c===null){if(n=r.return,n!==null){a=n;continue}break}if(r.child===c.child){for(c=r.child;c;){if(c===a)return p(r),e;if(c===n)return p(r),t;c=c.sibling}throw Error(i(188))}if(a.return!==n.return)a=r,n=c;else{for(var m=!1,b=r.child;b;){if(b===a){m=!0,a=r,n=c;break}if(b===n){m=!0,n=r,a=c;break}b=b.sibling}if(!m){for(b=c.child;b;){if(b===a){m=!0,a=c,n=r;break}if(b===n){m=!0,n=c,a=r;break}b=b.sibling}if(!m)throw Error(i(189))}}if(a.alternate!==n)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),k=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function pe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case T:return"Portal";case k:return(e.displayName||"Context")+".Provider";case S:return(e._context.displayName||"Context")+".Consumer";case z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}var me=Array.isArray,M=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},D=[],w=-1;function H(e){return{current:e}}function W(e){0>w||(e.current=D[w],D[w]=null,w--)}function X(e,t){w++,D[w]=e.current,e.current=t}var G=H(null),ie=H(null),se=H(null),Me=H(null);function ke(e,t){switch(X(se,t),X(ie,e),X(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cf(t),e=uf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(G),X(G,e)}function St(){W(G),W(ie),W(se)}function Qa(e){e.memoizedState!==null&&X(Me,e);var t=G.current,a=uf(t,e.type);t!==a&&(X(ie,e),X(G,a))}function Vt(e){ie.current===e&&(W(G),W(ie)),Me.current===e&&(W(Me),jl._currentValue=te)}var Nn=Object.prototype.hasOwnProperty,Sn=d.unstable_scheduleCallback,pa=d.unstable_cancelCallback,li=d.unstable_shouldYield,ri=d.unstable_requestPaint,kt=d.unstable_now,ii=d.unstable_getCurrentPriorityLevel,kn=d.unstable_ImmediatePriority,En=d.unstable_UserBlockingPriority,ee=d.unstable_NormalPriority,Ne=d.unstable_LowPriority,pt=d.unstable_IdlePriority,Ka=d.log,Tn=d.unstable_setDisableYieldValue,Bt=null,Qe=null;function ut(e){if(typeof Ka=="function"&&Tn(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Bt,e)}catch{}}var Ke=Math.clz32?Math.clz32:Bl,Za=Math.log,ql=Math.LN2;function Bl(e){return e>>>=0,e===0?32:31-(Za(e)/ql|0)|0}var Ja=256,Wa=4194304;function Xt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ia(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var r=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var b=n&134217727;return b!==0?(n=b&~c,n!==0?r=Xt(n):(m&=b,m!==0?r=Xt(m):a||(a=b&~e,a!==0&&(r=Xt(a))))):(b=n&~c,b!==0?r=Xt(b):m!==0?r=Xt(m):a||(a=n&~e,a!==0&&(r=Xt(a)))),r===0?0:t!==0&&t!==r&&(t&c)===0&&(c=r&-r,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:r}function ba(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Hl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var e=Ja;return Ja<<=1,(Ja&4194048)===0&&(Ja=256),e}function Cn(){var e=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),e}function js(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ya(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $l(e,t,a,n,r,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,j=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var Y=31-Ke(a),V=1<<Y;b[Y]=0,j[Y]=-1;var L=R[Y];if(L!==null)for(R[Y]=null,Y=0;Y<L.length;Y++){var B=L[Y];B!==null&&(B.lane&=-536870913)}a&=~V}n!==0&&On(e,n,0),c!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function On(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ke(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function Et(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ke(a),r=1<<n;r&t|e[n]&t&&(e[n]|=t),a&=~r}}function Fa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function va(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Dn(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Af(e.type))}function Ht(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var Qt=Math.random().toString(36).slice(2),rt="__reactFiber$"+Qt,dt="__reactProps$"+Qt,_s="__reactContainer$"+Qt,oi="__reactEvents$"+Qt,Vm="__reactListeners$"+Qt,Xm="__reactHandles$"+Qt,Jc="__reactResources$"+Qt,Un="__reactMarker$"+Qt;function ci(e){delete e[rt],delete e[dt],delete e[oi],delete e[Vm],delete e[Xm]}function Ns(e){var t=e[rt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[_s]||a[rt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=mf(e);e!==null;){if(a=e[rt])return a;e=mf(e)}return t}e=a,a=e.parentNode}return null}function Ss(e){if(e=e[rt]||e[_s]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Rn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function ks(e){var t=e[Jc];return t||(t=e[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[Un]=!0}var Wc=new Set,Ic={};function es(e,t){Es(e,t),Es(e+"Capture",t)}function Es(e,t){for(Ic[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var Qm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fc={},eu={};function Km(e){return Nn.call(eu,e)?!0:Nn.call(Fc,e)?!1:Qm.test(e)?eu[e]=!0:(Fc[e]=!0,!1)}function Yl(e,t,a){if(Km(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Gl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ta(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var ui,tu;function Ts(e){if(ui===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ui=t&&t[1]||"",tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ui+e+tu}var di=!1;function hi(e,t){if(!e||di)return"";di=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(B){var L=B}Reflect.construct(e,[],V)}else{try{V.call()}catch(B){L=B}e.call(V.prototype)}}else{try{throw Error()}catch(B){L=B}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(B){if(B&&L&&typeof B.stack=="string")return[B.stack,L.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),m=c[0],b=c[1];if(m&&b){var j=m.split(`
`),R=b.split(`
`);for(r=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;r<R.length&&!R[r].includes("DetermineComponentFrameRoot");)r++;if(n===j.length||r===R.length)for(n=j.length-1,r=R.length-1;1<=n&&0<=r&&j[n]!==R[r];)r--;for(;1<=n&&0<=r;n--,r--)if(j[n]!==R[r]){if(n!==1||r!==1)do if(n--,r--,0>r||j[n]!==R[r]){var Y=`
`+j[n].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=n&&0<=r);break}}}finally{di=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ts(a):""}function Zm(e){switch(e.tag){case 26:case 27:case 5:return Ts(e.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return hi(e.type,!1);case 11:return hi(e.type.render,!1);case 1:return hi(e.type,!0);case 31:return Ts("Activity");default:return""}}function au(e){try{var t="";do t+=Zm(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function su(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jm(e){var t=su(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){n=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pl(e){e._valueTracker||(e._valueTracker=Jm(e))}function nu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=su(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Wm=/[\n"\\]/g;function At(e){return e.replace(Wm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fi(e,t,a,n,r,c,m,b){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Tt(t)):e.value!==""+Tt(t)&&(e.value=""+Tt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?mi(e,m,Tt(t)):a!=null?mi(e,m,Tt(a)):n!=null&&e.removeAttribute("value"),r==null&&c!=null&&(e.defaultChecked=!!c),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Tt(b):e.removeAttribute("name")}function lu(e,t,a,n,r,c,m,b){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;a=a!=null?""+Tt(a):"",t=t!=null?""+Tt(t):a,b||t===e.value||(e.value=t),e.defaultValue=t}n=n??r,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=b?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function mi(e,t,a){t==="number"&&Vl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function As(e,t,a,n){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Tt(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,n&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ru(e,t,a){if(t!=null&&(t=""+Tt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Tt(a):""}function iu(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(i(92));if(me(n)){if(1<n.length)throw Error(i(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Tt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Cs(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Im=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ou(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Im.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function cu(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var r in t)n=t[r],t.hasOwnProperty(r)&&a[r]!==n&&ou(e,r,n)}else for(var c in t)t.hasOwnProperty(c)&&ou(e,c,t[c])}function gi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),e0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xl(e){return e0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xi=null;function pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,Ds=null;function uu(e){var t=Ss(e);if(t&&(e=t.stateNode)){var a=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(fi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+At(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var r=n[dt]||null;if(!r)throw Error(i(90));fi(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&nu(n)}break e;case"textarea":ru(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&As(e,!!a.multiple,t,!1)}}}var bi=!1;function du(e,t,a){if(bi)return e(t,a);bi=!0;try{var n=e(t);return n}finally{if(bi=!1,(Os!==null||Ds!==null)&&(Or(),Os&&(t=Os,e=Ds,Ds=Os=null,uu(t),e)))for(t=0;t<e.length;t++)uu(e[t])}}function Mn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[dt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(aa)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){yi=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{yi=!1}var wa=null,vi=null,Ql=null;function hu(){if(Ql)return Ql;var e,t=vi,a=t.length,n,r="value"in wa?wa.value:wa.textContent,c=r.length;for(e=0;e<a&&t[e]===r[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===r[c-n];n++);return Ql=r.slice(e,1<n?1-n:void 0)}function Kl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zl(){return!0}function fu(){return!1}function ht(e){function t(a,n,r,c,m){this._reactName=a,this._targetInst=r,this.type=n,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(c):c[b]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Zl:fu,this.isPropagationStopped=fu,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zl)},persist:function(){},isPersistent:Zl}),t}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=ht(ts),Ln=y({},ts,{view:0,detail:0}),t0=ht(Ln),wi,ji,qn,Wl=y({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(wi=e.screenX-qn.screenX,ji=e.screenY-qn.screenY):ji=wi=0,qn=e),wi)},movementY:function(e){return"movementY"in e?e.movementY:ji}}),mu=ht(Wl),a0=y({},Wl,{dataTransfer:0}),s0=ht(a0),n0=y({},Ln,{relatedTarget:0}),_i=ht(n0),l0=y({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),r0=ht(l0),i0=y({},ts,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o0=ht(i0),c0=y({},ts,{data:0}),gu=ht(c0),u0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h0[e])?!!t[e]:!1}function Ni(){return f0}var m0=y({},Ln,{key:function(e){if(e.key){var t=u0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(e){return e.type==="keypress"?Kl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),g0=ht(m0),x0=y({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xu=ht(x0),p0=y({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),b0=ht(p0),y0=y({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),v0=ht(y0),w0=y({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j0=ht(w0),_0=y({},ts,{newState:0,oldState:0}),N0=ht(_0),S0=[9,13,27,32],Si=aa&&"CompositionEvent"in window,Bn=null;aa&&"documentMode"in document&&(Bn=document.documentMode);var k0=aa&&"TextEvent"in window&&!Bn,pu=aa&&(!Si||Bn&&8<Bn&&11>=Bn),bu=" ",yu=!1;function vu(e,t){switch(e){case"keyup":return S0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function E0(e,t){switch(e){case"compositionend":return wu(t);case"keypress":return t.which!==32?null:(yu=!0,bu);case"textInput":return e=t.data,e===bu&&yu?null:e;default:return null}}function T0(e,t){if(Us)return e==="compositionend"||!Si&&vu(e,t)?(e=hu(),Ql=vi=wa=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var A0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!A0[e.type]:t==="textarea"}function _u(e,t,a,n){Os?Ds?Ds.push(n):Ds=[n]:Os=n,t=Lr(t,"onChange"),0<t.length&&(a=new Jl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Hn=null,$n=null;function C0(e){sf(e,0)}function Il(e){var t=Rn(e);if(nu(t))return e}function Nu(e,t){if(e==="change")return t}var Su=!1;if(aa){var ki;if(aa){var Ei="oninput"in document;if(!Ei){var ku=document.createElement("div");ku.setAttribute("oninput","return;"),Ei=typeof ku.oninput=="function"}ki=Ei}else ki=!1;Su=ki&&(!document.documentMode||9<document.documentMode)}function Eu(){Hn&&(Hn.detachEvent("onpropertychange",Tu),$n=Hn=null)}function Tu(e){if(e.propertyName==="value"&&Il($n)){var t=[];_u(t,$n,e,pi(e)),du(C0,t)}}function O0(e,t,a){e==="focusin"?(Eu(),Hn=t,$n=a,Hn.attachEvent("onpropertychange",Tu)):e==="focusout"&&Eu()}function D0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il($n)}function U0(e,t){if(e==="click")return Il(t)}function R0(e,t){if(e==="input"||e==="change")return Il(t)}function M0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:M0;function Yn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var r=a[n];if(!Nn.call(t,r)||!bt(e[r],t[r]))return!1}return!0}function Au(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cu(e,t){var a=Au(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Au(a)}}function Ou(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ou(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Du(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Vl(e.document)}return t}function Ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var z0=aa&&"documentMode"in document&&11>=document.documentMode,Rs=null,Ai=null,Gn=null,Ci=!1;function Uu(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ci||Rs==null||Rs!==Vl(n)||(n=Rs,"selectionStart"in n&&Ti(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gn&&Yn(Gn,n)||(Gn=n,n=Lr(Ai,"onSelect"),0<n.length&&(t=new Jl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=Rs)))}function as(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ms={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Oi={},Ru={};aa&&(Ru=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function ss(e){if(Oi[e])return Oi[e];if(!Ms[e])return e;var t=Ms[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ru)return Oi[e]=t[a];return e}var Mu=ss("animationend"),zu=ss("animationiteration"),Lu=ss("animationstart"),L0=ss("transitionrun"),q0=ss("transitionstart"),B0=ss("transitioncancel"),qu=ss("transitionend"),Bu=new Map,Di="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Di.push("scrollEnd");function $t(e,t){Bu.set(e,t),es(t,[e])}var Hu=new WeakMap;function Ct(e,t){if(typeof e=="object"&&e!==null){var a=Hu.get(e);return a!==void 0?a:(t={value:e,source:t,stack:au(t)},Hu.set(e,t),t)}return{value:e,source:t,stack:au(t)}}var Ot=[],zs=0,Ui=0;function Fl(){for(var e=zs,t=Ui=zs=0;t<e;){var a=Ot[t];Ot[t++]=null;var n=Ot[t];Ot[t++]=null;var r=Ot[t];Ot[t++]=null;var c=Ot[t];if(Ot[t++]=null,n!==null&&r!==null){var m=n.pending;m===null?r.next=r:(r.next=m.next,m.next=r),n.pending=r}c!==0&&$u(a,r,c)}}function er(e,t,a,n){Ot[zs++]=e,Ot[zs++]=t,Ot[zs++]=a,Ot[zs++]=n,Ui|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Ri(e,t,a,n){return er(e,t,a,n),tr(e)}function Ls(e,t){return er(e,null,null,t),tr(e)}function $u(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var r=!1,c=e.return;c!==null;)c.childLanes|=a,n=c.alternate,n!==null&&(n.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(r=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,r&&t!==null&&(r=31-Ke(a),e=c.hiddenUpdates,n=e[r],n===null?e[r]=[t]:n.push(t),t.lane=a|536870912),c):null}function tr(e){if(50<ml)throw ml=0,$o=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qs={};function H0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,a,n){return new H0(e,t,a,n)}function Mi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sa(e,t){var a=e.alternate;return a===null?(a=yt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Yu(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ar(e,t,a,n,r,c){var m=0;if(n=e,typeof e=="function")Mi(e)&&(m=1);else if(typeof e=="string")m=Yg(e,a,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=yt(31,a,t,r),e.elementType=le,e.lanes=c,e;case C:return ns(a.children,r,c,t);case E:m=8,r|=24;break;case O:return e=yt(12,a,t,r|2),e.elementType=O,e.lanes=c,e;case $:return e=yt(13,a,t,r),e.elementType=$,e.lanes=c,e;case Q:return e=yt(19,a,t,r),e.elementType=Q,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case K:case k:m=10;break e;case S:m=9;break e;case z:m=11;break e;case F:m=14;break e;case J:m=16,n=null;break e}m=29,a=Error(i(130,e===null?"null":typeof e,"")),n=null}return t=yt(m,a,t,r),t.elementType=e,t.type=n,t.lanes=c,t}function ns(e,t,a,n){return e=yt(7,e,n,t),e.lanes=a,e}function zi(e,t,a){return e=yt(6,e,null,t),e.lanes=a,e}function Li(e,t,a){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bs=[],Hs=0,sr=null,nr=0,Dt=[],Ut=0,ls=null,na=1,la="";function rs(e,t){Bs[Hs++]=nr,Bs[Hs++]=sr,sr=e,nr=t}function Gu(e,t,a){Dt[Ut++]=na,Dt[Ut++]=la,Dt[Ut++]=ls,ls=e;var n=na;e=la;var r=32-Ke(n)-1;n&=~(1<<r),a+=1;var c=32-Ke(t)+r;if(30<c){var m=r-r%5;c=(n&(1<<m)-1).toString(32),n>>=m,r-=m,na=1<<32-Ke(t)+r|a<<r|n,la=c+e}else na=1<<c|a<<r|n,la=e}function qi(e){e.return!==null&&(rs(e,1),Gu(e,1,0))}function Bi(e){for(;e===sr;)sr=Bs[--Hs],Bs[Hs]=null,nr=Bs[--Hs],Bs[Hs]=null;for(;e===ls;)ls=Dt[--Ut],Dt[Ut]=null,la=Dt[--Ut],Dt[Ut]=null,na=Dt[--Ut],Dt[Ut]=null}var ct=null,He=null,Ee=!1,is=null,Kt=!1,Hi=Error(i(519));function os(e){var t=Error(i(418,""));throw Xn(Ct(t,e)),Hi}function Pu(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[rt]=e,t[dt]=n,a){case"dialog":je("cancel",t),je("close",t);break;case"iframe":case"object":case"embed":je("load",t);break;case"video":case"audio":for(a=0;a<xl.length;a++)je(xl[a],t);break;case"source":je("error",t);break;case"img":case"image":case"link":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"input":je("invalid",t),lu(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Pl(t);break;case"select":je("invalid",t);break;case"textarea":je("invalid",t),iu(t,n.value,n.defaultValue,n.children),Pl(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||of(t.textContent,a)?(n.popover!=null&&(je("beforetoggle",t),je("toggle",t)),n.onScroll!=null&&je("scroll",t),n.onScrollEnd!=null&&je("scrollend",t),n.onClick!=null&&(t.onclick=qr),t=!0):t=!1,t||os(e)}function Vu(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ct=ct.return}}function Pn(e){if(e!==ct)return!1;if(!Ee)return Vu(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||sc(e.type,e.memoizedProps)),a=!a),a&&He&&os(e),Vu(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){He=Gt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}He=null}}else t===27?(t=He,La(e.type)?(e=ic,ic=null,He=e):He=t):He=ct?Gt(e.stateNode.nextSibling):null;return!0}function Vn(){He=ct=null,Ee=!1}function Xu(){var e=is;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),is=null),e}function Xn(e){is===null?is=[e]:is.push(e)}var $i=H(null),cs=null,ra=null;function ja(e,t,a){X($i,t._currentValue),t._currentValue=a}function ia(e){e._currentValue=$i.current,W($i)}function Yi(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Gi(e,t,a,n){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var c=r.dependencies;if(c!==null){var m=r.child;c=c.firstContext;e:for(;c!==null;){var b=c;c=r;for(var j=0;j<t.length;j++)if(b.context===t[j]){c.lanes|=a,b=c.alternate,b!==null&&(b.lanes|=a),Yi(c.return,a,e),n||(m=null);break e}c=b.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(i(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),Yi(m,a,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Qn(e,t,a,n){e=null;for(var r=t,c=!1;r!==null;){if(!c){if((r.flags&524288)!==0)c=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var b=r.type;bt(r.pendingProps.value,m.value)||(e!==null?e.push(b):e=[b])}}else if(r===Me.current){if(m=r.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(jl):e=[jl])}r=r.return}e!==null&&Gi(t,e,a,n),t.flags|=262144}function lr(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function us(e){cs=e,ra=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Qu(cs,e)}function rr(e,t){return cs===null&&us(e),Qu(e,t)}function Qu(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ra===null){if(e===null)throw Error(i(308));ra=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ra=ra.next=t;return a}var $0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Y0=d.unstable_scheduleCallback,G0=d.unstable_NormalPriority,Ze={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pi(){return{controller:new $0,data:new Map,refCount:0}}function Kn(e){e.refCount--,e.refCount===0&&Y0(G0,function(){e.controller.abort()})}var Zn=null,Vi=0,$s=0,Ys=null;function P0(e,t){if(Zn===null){var a=Zn=[];Vi=0,$s=Ko(),Ys={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Vi++,t.then(Ku,Ku),t}function Ku(){if(--Vi===0&&Zn!==null){Ys!==null&&(Ys.status="fulfilled");var e=Zn;Zn=null,$s=0,Ys=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function V0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(n.status="rejected",n.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),n}var Zu=M.S;M.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&P0(e,t),Zu!==null&&Zu(e,t)};var ds=H(null);function Xi(){var e=ds.current;return e!==null?e:ze.pooledCache}function ir(e,t){t===null?X(ds,ds.current):X(ds,t.pool)}function Ju(){var e=Xi();return e===null?null:{parent:Ze._currentValue,pool:e}}var Jn=Error(i(460)),Wu=Error(i(474)),or=Error(i(542)),Qi={then:function(){}};function Iu(e){return e=e.status,e==="fulfilled"||e==="rejected"}function cr(){}function Fu(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(cr,cr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,td(e),e;default:if(typeof t.status=="string")t.then(cr,cr);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=n}},function(n){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,td(e),e}throw Wn=t,Jn}}var Wn=null;function ed(){if(Wn===null)throw Error(i(459));var e=Wn;return Wn=null,e}function td(e){if(e===Jn||e===or)throw Error(i(483))}var _a=!1;function Ki(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Na(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Sa(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Ae&2)!==0){var r=n.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t,t=tr(e),$u(e,null,a),t}return er(e,n,t,a),tr(e)}function In(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Et(e,a)}}function Ji(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var r=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?r=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?r=c=t:c=c.next=t}else r=c=t;a={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Wi=!1;function Fn(){if(Wi){var e=Ys;if(e!==null)throw e}}function el(e,t,a,n){Wi=!1;var r=e.updateQueue;_a=!1;var c=r.firstBaseUpdate,m=r.lastBaseUpdate,b=r.shared.pending;if(b!==null){r.shared.pending=null;var j=b,R=j.next;j.next=null,m===null?c=R:m.next=R,m=j;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==m&&(b===null?Y.firstBaseUpdate=R:b.next=R,Y.lastBaseUpdate=j))}if(c!==null){var V=r.baseState;m=0,Y=R=j=null,b=c;do{var L=b.lane&-536870913,B=L!==b.lane;if(B?(_e&L)===L:(n&L)===L){L!==0&&L===$s&&(Wi=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var he=e,oe=b;L=t;var Ue=a;switch(oe.tag){case 1:if(he=oe.payload,typeof he=="function"){V=he.call(Ue,V,L);break e}V=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=oe.payload,L=typeof he=="function"?he.call(Ue,V,L):he,L==null)break e;V=y({},V,L);break e;case 2:_a=!0}}L=b.callback,L!==null&&(e.flags|=64,B&&(e.flags|=8192),B=r.callbacks,B===null?r.callbacks=[L]:B.push(L))}else B={lane:L,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(R=Y=B,j=V):Y=Y.next=B,m|=L;if(b=b.next,b===null){if(b=r.shared.pending,b===null)break;B=b,b=B.next,B.next=null,r.lastBaseUpdate=B,r.shared.pending=null}}while(!0);Y===null&&(j=V),r.baseState=j,r.firstBaseUpdate=R,r.lastBaseUpdate=Y,c===null&&(r.shared.lanes=0),Ua|=m,e.lanes=m,e.memoizedState=V}}function ad(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function sd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ad(a[e],t)}var Gs=H(null),ur=H(0);function nd(e,t){e=ma,X(ur,e),X(Gs,t),ma=e|t.baseLanes}function Ii(){X(ur,ma),X(Gs,Gs.current)}function Fi(){ma=ur.current,W(Gs),W(ur)}var ka=0,be=null,Oe=null,Pe=null,dr=!1,Ps=!1,hs=!1,hr=0,tl=0,Vs=null,X0=0;function Ye(){throw Error(i(321))}function eo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!bt(e[a],t[a]))return!1;return!0}function to(e,t,a,n,r,c){return ka=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?$d:Yd,hs=!1,c=a(n,r),hs=!1,Ps&&(c=rd(t,a,n,r)),ld(e),c}function ld(e){M.H=br;var t=Oe!==null&&Oe.next!==null;if(ka=0,Pe=Oe=be=null,dr=!1,tl=0,Vs=null,t)throw Error(i(300));e===null||Fe||(e=e.dependencies,e!==null&&lr(e)&&(Fe=!0))}function rd(e,t,a,n){be=e;var r=0;do{if(Ps&&(Vs=null),tl=0,Ps=!1,25<=r)throw Error(i(301));if(r+=1,Pe=Oe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}M.H=F0,c=t(a,n)}while(Ps);return c}function Q0(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?al(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(be.flags|=1024),t}function ao(){var e=hr!==0;return hr=0,e}function so(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function no(e){if(dr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}dr=!1}ka=0,Pe=Oe=be=null,Ps=!1,tl=hr=0,Vs=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?be.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ve(){if(Oe===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=Pe===null?be.memoizedState:Pe.next;if(t!==null)Pe=t,Oe=e;else{if(e===null)throw be.alternate===null?Error(i(467)):Error(i(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},Pe===null?be.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(e){var t=tl;return tl+=1,Vs===null&&(Vs=[]),e=Fu(Vs,e,t),t=be,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?$d:Yd),e}function fr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return al(e);if(e.$$typeof===k)return it(e)}throw Error(i(438,String(e)))}function ro(e){var t=null,a=be.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=be.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=lo(),be.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=I;return t.index++,a}function oa(e,t){return typeof t=="function"?t(e):t}function mr(e){var t=Ve();return io(t,Oe,e)}function io(e,t,a){var n=e.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=a;var r=e.baseQueue,c=n.pending;if(c!==null){if(r!==null){var m=r.next;r.next=c.next,c.next=m}t.baseQueue=r=c,n.pending=null}if(c=e.baseState,r===null)e.memoizedState=c;else{t=r.next;var b=m=null,j=null,R=t,Y=!1;do{var V=R.lane&-536870913;if(V!==R.lane?(_e&V)===V:(ka&V)===V){var L=R.revertLane;if(L===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),V===$s&&(Y=!0);else if((ka&L)===L){R=R.next,L===$s&&(Y=!0);continue}else V={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},j===null?(b=j=V,m=c):j=j.next=V,be.lanes|=L,Ua|=L;V=R.action,hs&&a(c,V),c=R.hasEagerState?R.eagerState:a(c,V)}else L={lane:V,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},j===null?(b=j=L,m=c):j=j.next=L,be.lanes|=V,Ua|=V;R=R.next}while(R!==null&&R!==t);if(j===null?m=c:j.next=b,!bt(c,e.memoizedState)&&(Fe=!0,Y&&(a=Ys,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=j,n.lastRenderedState=c}return r===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function oo(e){var t=Ve(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var n=a.dispatch,r=a.pending,c=t.memoizedState;if(r!==null){a.pending=null;var m=r=r.next;do c=e(c,m.action),m=m.next;while(m!==r);bt(c,t.memoizedState)||(Fe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,n]}function id(e,t,a){var n=be,r=Ve(),c=Ee;if(c){if(a===void 0)throw Error(i(407));a=a()}else a=t();var m=!bt((Oe||r).memoizedState,a);m&&(r.memoizedState=a,Fe=!0),r=r.queue;var b=ud.bind(null,n,r,e);if(sl(2048,8,b,[e]),r.getSnapshot!==t||m||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Xs(9,gr(),cd.bind(null,n,r,a,t),null),ze===null)throw Error(i(349));c||(ka&124)!==0||od(n,t,a)}return a}function od(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=be.updateQueue,t===null?(t=lo(),be.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function cd(e,t,a,n){t.value=a,t.getSnapshot=n,dd(t)&&hd(e)}function ud(e,t,a){return a(function(){dd(t)&&hd(e)})}function dd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!bt(e,a)}catch{return!0}}function hd(e){var t=Ls(e,2);t!==null&&Nt(t,e,2)}function co(e){var t=ft();if(typeof e=="function"){var a=e;if(e=a(),hs){ut(!0);try{a()}finally{ut(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:e},t}function fd(e,t,a,n){return e.baseState=a,io(e,Oe,typeof n=="function"?n:oa)}function K0(e,t,a,n,r){if(pr(e))throw Error(i(485));if(e=t.action,e!==null){var c={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};M.T!==null?a(!0):c.isTransition=!1,n(c),a=t.pending,a===null?(c.next=t.pending=c,md(t,c)):(c.next=a.next,t.pending=a.next=c)}}function md(e,t){var a=t.action,n=t.payload,r=e.state;if(t.isTransition){var c=M.T,m={};M.T=m;try{var b=a(r,n),j=M.S;j!==null&&j(m,b),gd(e,t,b)}catch(R){uo(e,t,R)}finally{M.T=c}}else try{c=a(r,n),gd(e,t,c)}catch(R){uo(e,t,R)}}function gd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){xd(e,t,n)},function(n){return uo(e,t,n)}):xd(e,t,a)}function xd(e,t,a){t.status="fulfilled",t.value=a,pd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,md(e,a)))}function uo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,pd(t),t=t.next;while(t!==n)}e.action=null}function pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bd(e,t){return t}function yd(e,t){if(Ee){var a=ze.formState;if(a!==null){e:{var n=be;if(Ee){if(He){t:{for(var r=He,c=Kt;r.nodeType!==8;){if(!c){r=null;break t}if(r=Gt(r.nextSibling),r===null){r=null;break t}}c=r.data,r=c==="F!"||c==="F"?r:null}if(r){He=Gt(r.nextSibling),n=r.data==="F!";break e}}os(n)}n=!1}n&&(t=a[0])}}return a=ft(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},a.queue=n,a=qd.bind(null,be,n),n.dispatch=a,n=co(!1),c=xo.bind(null,be,!1,n.queue),n=ft(),r={state:t,dispatch:null,action:e,pending:null},n.queue=r,a=K0.bind(null,be,r,c,a),r.dispatch=a,n.memoizedState=e,[t,a,!1]}function vd(e){var t=Ve();return wd(t,Oe,e)}function wd(e,t,a){if(t=io(e,t,bd)[0],e=mr(oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=al(t)}catch(m){throw m===Jn?or:m}else n=t;t=Ve();var r=t.queue,c=r.dispatch;return a!==t.memoizedState&&(be.flags|=2048,Xs(9,gr(),Z0.bind(null,r,a),null)),[n,c,e]}function Z0(e,t){e.action=t}function jd(e){var t=Ve(),a=Oe;if(a!==null)return wd(t,a,e);Ve(),t=t.memoizedState,a=Ve();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Xs(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=be.updateQueue,t===null&&(t=lo(),be.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function gr(){return{destroy:void 0,resource:void 0}}function _d(){return Ve().memoizedState}function xr(e,t,a,n){var r=ft();n=n===void 0?null:n,be.flags|=e,r.memoizedState=Xs(1|t,gr(),a,n)}function sl(e,t,a,n){var r=Ve();n=n===void 0?null:n;var c=r.memoizedState.inst;Oe!==null&&n!==null&&eo(n,Oe.memoizedState.deps)?r.memoizedState=Xs(t,c,a,n):(be.flags|=e,r.memoizedState=Xs(1|t,c,a,n))}function Nd(e,t){xr(8390656,8,e,t)}function Sd(e,t){sl(2048,8,e,t)}function kd(e,t){return sl(4,2,e,t)}function Ed(e,t){return sl(4,4,e,t)}function Td(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ad(e,t,a){a=a!=null?a.concat([e]):null,sl(4,4,Td.bind(null,t,e),a)}function ho(){}function Cd(e,t){var a=Ve();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&eo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Od(e,t){var a=Ve();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&eo(t,n[1]))return n[0];if(n=e(),hs){ut(!0);try{e()}finally{ut(!1)}}return a.memoizedState=[n,t],n}function fo(e,t,a){return a===void 0||(ka&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Rh(),be.lanes|=e,Ua|=e,a)}function Dd(e,t,a,n){return bt(a,t)?a:Gs.current!==null?(e=fo(e,a,n),bt(e,t)||(Fe=!0),e):(ka&42)===0?(Fe=!0,e.memoizedState=a):(e=Rh(),be.lanes|=e,Ua|=e,t)}function Ud(e,t,a,n,r){var c=Z.p;Z.p=c!==0&&8>c?c:8;var m=M.T,b={};M.T=b,xo(e,!1,t,a);try{var j=r(),R=M.S;if(R!==null&&R(b,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Y=V0(j,n);nl(e,t,Y,_t(e))}else nl(e,t,n,_t(e))}catch(V){nl(e,t,{then:function(){},status:"rejected",reason:V},_t())}finally{Z.p=c,M.T=m}}function J0(){}function mo(e,t,a,n){if(e.tag!==5)throw Error(i(476));var r=Rd(e).queue;Ud(e,r,t,te,a===null?J0:function(){return Md(e),a(n)})}function Rd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:te},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Md(e){var t=Rd(e).next.queue;nl(e,t,{},_t())}function go(){return it(jl)}function zd(){return Ve().memoizedState}function Ld(){return Ve().memoizedState}function W0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_t();e=Na(a);var n=Sa(t,e,a);n!==null&&(Nt(n,t,a),In(n,t,a)),t={cache:Pi()},e.payload=t;return}t=t.return}}function I0(e,t,a){var n=_t();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pr(e)?Bd(t,a):(a=Ri(e,t,a,n),a!==null&&(Nt(a,e,n),Hd(a,t,n)))}function qd(e,t,a){var n=_t();nl(e,t,a,n)}function nl(e,t,a,n){var r={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pr(e))Bd(t,r);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,b=c(m,a);if(r.hasEagerState=!0,r.eagerState=b,bt(b,m))return er(e,t,r,0),ze===null&&Fl(),!1}catch{}finally{}if(a=Ri(e,t,r,n),a!==null)return Nt(a,e,n),Hd(a,t,n),!0}return!1}function xo(e,t,a,n){if(n={lane:2,revertLane:Ko(),action:n,hasEagerState:!1,eagerState:null,next:null},pr(e)){if(t)throw Error(i(479))}else t=Ri(e,a,n,2),t!==null&&Nt(t,e,2)}function pr(e){var t=e.alternate;return e===be||t!==null&&t===be}function Bd(e,t){Ps=dr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Hd(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,Et(e,a)}}var br={readContext:it,use:fr,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},$d={readContext:it,use:fr,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Nd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,xr(4194308,4,Td.bind(null,t,e),a)},useLayoutEffect:function(e,t){return xr(4194308,4,e,t)},useInsertionEffect:function(e,t){xr(4,2,e,t)},useMemo:function(e,t){var a=ft();t=t===void 0?null:t;var n=e();if(hs){ut(!0);try{e()}finally{ut(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=ft();if(a!==void 0){var r=a(t);if(hs){ut(!0);try{a(t)}finally{ut(!1)}}}else r=t;return n.memoizedState=n.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},n.queue=e,e=e.dispatch=I0.bind(null,be,e),[n.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=co(e);var t=e.queue,a=qd.bind(null,be,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ho,useDeferredValue:function(e,t){var a=ft();return fo(a,e,t)},useTransition:function(){var e=co(!1);return e=Ud.bind(null,be,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=be,r=ft();if(Ee){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),ze===null)throw Error(i(349));(_e&124)!==0||od(n,t,a)}r.memoizedState=a;var c={value:a,getSnapshot:t};return r.queue=c,Nd(ud.bind(null,n,c,e),[e]),n.flags|=2048,Xs(9,gr(),cd.bind(null,n,c,a,t),null),a},useId:function(){var e=ft(),t=ze.identifierPrefix;if(Ee){var a=la,n=na;a=(n&~(1<<32-Ke(n)-1)).toString(32)+a,t=""+t+"R"+a,a=hr++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=X0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:go,useFormState:yd,useActionState:yd,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=xo.bind(null,be,!0,a),a.dispatch=t,[e,t]},useMemoCache:ro,useCacheRefresh:function(){return ft().memoizedState=W0.bind(null,be)}},Yd={readContext:it,use:fr,useCallback:Cd,useContext:it,useEffect:Sd,useImperativeHandle:Ad,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:Od,useReducer:mr,useRef:_d,useState:function(){return mr(oa)},useDebugValue:ho,useDeferredValue:function(e,t){var a=Ve();return Dd(a,Oe.memoizedState,e,t)},useTransition:function(){var e=mr(oa)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:id,useId:zd,useHostTransitionStatus:go,useFormState:vd,useActionState:vd,useOptimistic:function(e,t){var a=Ve();return fd(a,Oe,e,t)},useMemoCache:ro,useCacheRefresh:Ld},F0={readContext:it,use:fr,useCallback:Cd,useContext:it,useEffect:Sd,useImperativeHandle:Ad,useInsertionEffect:kd,useLayoutEffect:Ed,useMemo:Od,useReducer:oo,useRef:_d,useState:function(){return oo(oa)},useDebugValue:ho,useDeferredValue:function(e,t){var a=Ve();return Oe===null?fo(a,e,t):Dd(a,Oe.memoizedState,e,t)},useTransition:function(){var e=oo(oa)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:al(e),t]},useSyncExternalStore:id,useId:zd,useHostTransitionStatus:go,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var a=Ve();return Oe!==null?fd(a,Oe,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ro,useCacheRefresh:Ld},Qs=null,ll=0;function yr(e){var t=ll;return ll+=1,Qs===null&&(Qs=[]),Fu(Qs,e,t)}function rl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function vr(e,t){throw t.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gd(e){var t=e._init;return t(e._payload)}function Pd(e){function t(A,N){if(e){var U=A.deletions;U===null?(A.deletions=[N],A.flags|=16):U.push(N)}}function a(A,N){if(!e)return null;for(;N!==null;)t(A,N),N=N.sibling;return null}function n(A){for(var N=new Map;A!==null;)A.key!==null?N.set(A.key,A):N.set(A.index,A),A=A.sibling;return N}function r(A,N){return A=sa(A,N),A.index=0,A.sibling=null,A}function c(A,N,U){return A.index=U,e?(U=A.alternate,U!==null?(U=U.index,U<N?(A.flags|=67108866,N):U):(A.flags|=67108866,N)):(A.flags|=1048576,N)}function m(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function b(A,N,U,P){return N===null||N.tag!==6?(N=zi(U,A.mode,P),N.return=A,N):(N=r(N,U),N.return=A,N)}function j(A,N,U,P){var ne=U.type;return ne===C?Y(A,N,U.props.children,P,U.key):N!==null&&(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===J&&Gd(ne)===N.type)?(N=r(N,U.props),rl(N,U),N.return=A,N):(N=ar(U.type,U.key,U.props,null,A.mode,P),rl(N,U),N.return=A,N)}function R(A,N,U,P){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Li(U,A.mode,P),N.return=A,N):(N=r(N,U.children||[]),N.return=A,N)}function Y(A,N,U,P,ne){return N===null||N.tag!==7?(N=ns(U,A.mode,P,ne),N.return=A,N):(N=r(N,U),N.return=A,N)}function V(A,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=zi(""+N,A.mode,U),N.return=A,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return U=ar(N.type,N.key,N.props,null,A.mode,U),rl(U,N),U.return=A,U;case T:return N=Li(N,A.mode,U),N.return=A,N;case J:var P=N._init;return N=P(N._payload),V(A,N,U)}if(me(N)||ue(N))return N=ns(N,A.mode,U,null),N.return=A,N;if(typeof N.then=="function")return V(A,yr(N),U);if(N.$$typeof===k)return V(A,rr(A,N),U);vr(A,N)}return null}function L(A,N,U,P){var ne=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ne!==null?null:b(A,N,""+U,P);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===ne?j(A,N,U,P):null;case T:return U.key===ne?R(A,N,U,P):null;case J:return ne=U._init,U=ne(U._payload),L(A,N,U,P)}if(me(U)||ue(U))return ne!==null?null:Y(A,N,U,P,null);if(typeof U.then=="function")return L(A,N,yr(U),P);if(U.$$typeof===k)return L(A,N,rr(A,U),P);vr(A,U)}return null}function B(A,N,U,P,ne){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return A=A.get(U)||null,b(N,A,""+P,ne);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return A=A.get(P.key===null?U:P.key)||null,j(N,A,P,ne);case T:return A=A.get(P.key===null?U:P.key)||null,R(N,A,P,ne);case J:var ye=P._init;return P=ye(P._payload),B(A,N,U,P,ne)}if(me(P)||ue(P))return A=A.get(U)||null,Y(N,A,P,ne,null);if(typeof P.then=="function")return B(A,N,U,yr(P),ne);if(P.$$typeof===k)return B(A,N,U,rr(N,P),ne);vr(N,P)}return null}function he(A,N,U,P){for(var ne=null,ye=null,re=N,ce=N=0,tt=null;re!==null&&ce<U.length;ce++){re.index>ce?(tt=re,re=null):tt=re.sibling;var Se=L(A,re,U[ce],P);if(Se===null){re===null&&(re=tt);break}e&&re&&Se.alternate===null&&t(A,re),N=c(Se,N,ce),ye===null?ne=Se:ye.sibling=Se,ye=Se,re=tt}if(ce===U.length)return a(A,re),Ee&&rs(A,ce),ne;if(re===null){for(;ce<U.length;ce++)re=V(A,U[ce],P),re!==null&&(N=c(re,N,ce),ye===null?ne=re:ye.sibling=re,ye=re);return Ee&&rs(A,ce),ne}for(re=n(re);ce<U.length;ce++)tt=B(re,A,ce,U[ce],P),tt!==null&&(e&&tt.alternate!==null&&re.delete(tt.key===null?ce:tt.key),N=c(tt,N,ce),ye===null?ne=tt:ye.sibling=tt,ye=tt);return e&&re.forEach(function(Ya){return t(A,Ya)}),Ee&&rs(A,ce),ne}function oe(A,N,U,P){if(U==null)throw Error(i(151));for(var ne=null,ye=null,re=N,ce=N=0,tt=null,Se=U.next();re!==null&&!Se.done;ce++,Se=U.next()){re.index>ce?(tt=re,re=null):tt=re.sibling;var Ya=L(A,re,Se.value,P);if(Ya===null){re===null&&(re=tt);break}e&&re&&Ya.alternate===null&&t(A,re),N=c(Ya,N,ce),ye===null?ne=Ya:ye.sibling=Ya,ye=Ya,re=tt}if(Se.done)return a(A,re),Ee&&rs(A,ce),ne;if(re===null){for(;!Se.done;ce++,Se=U.next())Se=V(A,Se.value,P),Se!==null&&(N=c(Se,N,ce),ye===null?ne=Se:ye.sibling=Se,ye=Se);return Ee&&rs(A,ce),ne}for(re=n(re);!Se.done;ce++,Se=U.next())Se=B(re,A,ce,Se.value,P),Se!==null&&(e&&Se.alternate!==null&&re.delete(Se.key===null?ce:Se.key),N=c(Se,N,ce),ye===null?ne=Se:ye.sibling=Se,ye=Se);return e&&re.forEach(function(ex){return t(A,ex)}),Ee&&rs(A,ce),ne}function Ue(A,N,U,P){if(typeof U=="object"&&U!==null&&U.type===C&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var ne=U.key;N!==null;){if(N.key===ne){if(ne=U.type,ne===C){if(N.tag===7){a(A,N.sibling),P=r(N,U.props.children),P.return=A,A=P;break e}}else if(N.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===J&&Gd(ne)===N.type){a(A,N.sibling),P=r(N,U.props),rl(P,U),P.return=A,A=P;break e}a(A,N);break}else t(A,N);N=N.sibling}U.type===C?(P=ns(U.props.children,A.mode,P,U.key),P.return=A,A=P):(P=ar(U.type,U.key,U.props,null,A.mode,P),rl(P,U),P.return=A,A=P)}return m(A);case T:e:{for(ne=U.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(A,N.sibling),P=r(N,U.children||[]),P.return=A,A=P;break e}else{a(A,N);break}else t(A,N);N=N.sibling}P=Li(U,A.mode,P),P.return=A,A=P}return m(A);case J:return ne=U._init,U=ne(U._payload),Ue(A,N,U,P)}if(me(U))return he(A,N,U,P);if(ue(U)){if(ne=ue(U),typeof ne!="function")throw Error(i(150));return U=ne.call(U),oe(A,N,U,P)}if(typeof U.then=="function")return Ue(A,N,yr(U),P);if(U.$$typeof===k)return Ue(A,N,rr(A,U),P);vr(A,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(A,N.sibling),P=r(N,U),P.return=A,A=P):(a(A,N),P=zi(U,A.mode,P),P.return=A,A=P),m(A)):a(A,N)}return function(A,N,U,P){try{ll=0;var ne=Ue(A,N,U,P);return Qs=null,ne}catch(re){if(re===Jn||re===or)throw re;var ye=yt(29,re,null,A.mode);return ye.lanes=P,ye.return=A,ye}finally{}}}var Ks=Pd(!0),Vd=Pd(!1),Rt=H(null),Zt=null;function Ea(e){var t=e.alternate;X(Je,Je.current&1),X(Rt,e),Zt===null&&(t===null||Gs.current!==null||t.memoizedState!==null)&&(Zt=e)}function Xd(e){if(e.tag===22){if(X(Je,Je.current),X(Rt,e),Zt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Zt=e)}}else Ta()}function Ta(){X(Je,Je.current),X(Rt,Rt.current)}function ca(e){W(Rt),Zt===e&&(Zt=null),W(Je)}var Je=H(0);function wr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rc(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function po(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:y({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var bo={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=_t(),r=Na(n);r.payload=t,a!=null&&(r.callback=a),t=Sa(e,r,n),t!==null&&(Nt(t,e,n),In(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=_t(),r=Na(n);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Sa(e,r,n),t!==null&&(Nt(t,e,n),In(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_t(),n=Na(a);n.tag=2,t!=null&&(n.callback=t),t=Sa(e,n,a),t!==null&&(Nt(t,e,a),In(t,e,a))}};function Qd(e,t,a,n,r,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,m):t.prototype&&t.prototype.isPureReactComponent?!Yn(a,n)||!Yn(r,c):!0}function Kd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&bo.enqueueReplaceState(t,t.state,null)}function fs(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=y({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var jr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Zd(e){jr(e)}function Jd(e){console.error(e)}function Wd(e){jr(e)}function _r(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Id(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function yo(e,t,a){return a=Na(a),a.tag=3,a.payload={element:null},a.callback=function(){_r(e,t)},a}function Fd(e){return e=Na(e),e.tag=3,e}function eh(e,t,a,n){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var c=n.value;e.payload=function(){return r(c)},e.callback=function(){Id(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Id(t,a,n),typeof r!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})})}function eg(e,t,a,n,r){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Qn(t,a,r,!0),a=Rt.current,a!==null){switch(a.tag){case 13:return Zt===null?Go():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=r,n===Qi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Vo(e,n,r)),!1;case 22:return a.flags|=65536,n===Qi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Vo(e,n,r)),!1}throw Error(i(435,a.tag))}return Vo(e,n,r),Go(),!1}if(Ee)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,n!==Hi&&(e=Error(i(422),{cause:n}),Xn(Ct(e,a)))):(n!==Hi&&(t=Error(i(423),{cause:n}),Xn(Ct(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,n=Ct(n,a),r=yo(e.stateNode,n,r),Ji(e,r),$e!==4&&($e=2)),!1;var c=Error(i(520),{cause:n});if(c=Ct(c,a),fl===null?fl=[c]:fl.push(c),$e!==4&&($e=2),t===null)return!0;n=Ct(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=yo(a.stateNode,n,e),Ji(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ra===null||!Ra.has(c))))return a.flags|=65536,r&=-r,a.lanes|=r,r=Fd(r),eh(r,e,a,n),Ji(a,r),!1}a=a.return}while(a!==null);return!1}var th=Error(i(461)),Fe=!1;function st(e,t,a,n){t.child=e===null?Vd(t,null,a,n):Ks(t,e.child,a,n)}function ah(e,t,a,n,r){a=a.render;var c=t.ref;if("ref"in n){var m={};for(var b in n)b!=="ref"&&(m[b]=n[b])}else m=n;return us(t),n=to(e,t,a,m,c,r),b=ao(),e!==null&&!Fe?(so(e,t,r),ua(e,t,r)):(Ee&&b&&qi(t),t.flags|=1,st(e,t,n,r),t.child)}function sh(e,t,a,n,r){if(e===null){var c=a.type;return typeof c=="function"&&!Mi(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,nh(e,t,c,n,r)):(e=ar(a.type,null,n,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Eo(e,r)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:Yn,a(m,n)&&e.ref===t.ref)return ua(e,t,r)}return t.flags|=1,e=sa(c,n),e.ref=t.ref,e.return=t,t.child=e}function nh(e,t,a,n,r){if(e!==null){var c=e.memoizedProps;if(Yn(c,n)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=n=c,Eo(e,r))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,ua(e,t,r)}return vo(e,t,a,n,r)}function lh(e,t,a){var n=t.pendingProps,r=n.children,c=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=c!==null?c.baseLanes|a:a,e!==null){for(r=t.child=e.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;t.childLanes=c&~n}else t.childLanes=0,t.child=null;return rh(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ir(t,c!==null?c.cachePool:null),c!==null?nd(t,c):Ii(),Xd(t);else return t.lanes=t.childLanes=536870912,rh(e,t,c!==null?c.baseLanes|a:a,a)}else c!==null?(ir(t,c.cachePool),nd(t,c),Ta(),t.memoizedState=null):(e!==null&&ir(t,null),Ii(),Ta());return st(e,t,r,a),t.child}function rh(e,t,a,n){var r=Xi();return r=r===null?null:{parent:Ze._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&ir(t,null),Ii(),Xd(t),e!==null&&Qn(e,t,n,!0),null}function Nr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function vo(e,t,a,n,r){return us(t),a=to(e,t,a,n,void 0,r),n=ao(),e!==null&&!Fe?(so(e,t,r),ua(e,t,r)):(Ee&&n&&qi(t),t.flags|=1,st(e,t,a,r),t.child)}function ih(e,t,a,n,r,c){return us(t),t.updateQueue=null,a=rd(t,n,a,r),ld(e),n=ao(),e!==null&&!Fe?(so(e,t,c),ua(e,t,c)):(Ee&&n&&qi(t),t.flags|=1,st(e,t,a,c),t.child)}function oh(e,t,a,n,r){if(us(t),t.stateNode===null){var c=qs,m=a.contextType;typeof m=="object"&&m!==null&&(c=it(m)),c=new a(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=bo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},Ki(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?it(m):qs,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(po(t,a,m,n),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&bo.enqueueReplaceState(c,c.state,null),el(t,n,c,r),Fn(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var b=t.memoizedProps,j=fs(a,b);c.props=j;var R=c.context,Y=a.contextType;m=qs,typeof Y=="object"&&Y!==null&&(m=it(Y));var V=a.getDerivedStateFromProps;Y=typeof V=="function"||typeof c.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,Y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(b||R!==m)&&Kd(t,c,n,m),_a=!1;var L=t.memoizedState;c.state=L,el(t,n,c,r),Fn(),R=t.memoizedState,b||L!==R||_a?(typeof V=="function"&&(po(t,a,V,n),R=t.memoizedState),(j=_a||Qd(t,a,j,n,L,R,m))?(Y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=R),c.props=n,c.state=R,c.context=m,n=j):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Zi(e,t),m=t.memoizedProps,Y=fs(a,m),c.props=Y,V=t.pendingProps,L=c.context,R=a.contextType,j=qs,typeof R=="object"&&R!==null&&(j=it(R)),b=a.getDerivedStateFromProps,(R=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==V||L!==j)&&Kd(t,c,n,j),_a=!1,L=t.memoizedState,c.state=L,el(t,n,c,r),Fn();var B=t.memoizedState;m!==V||L!==B||_a||e!==null&&e.dependencies!==null&&lr(e.dependencies)?(typeof b=="function"&&(po(t,a,b,n),B=t.memoizedState),(Y=_a||Qd(t,a,Y,n,L,B,j)||e!==null&&e.dependencies!==null&&lr(e.dependencies))?(R||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,B,j),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,B,j)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=B),c.props=n,c.state=B,c.context=j,n=Y):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,Nr(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=Ks(t,e.child,null,r),t.child=Ks(t,null,a,r)):st(e,t,a,r),t.memoizedState=c.state,e=t.child):e=ua(e,t,r),e}function ch(e,t,a,n){return Vn(),t.flags|=256,st(e,t,a,n),t.child}var wo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jo(e){return{baseLanes:e,cachePool:Ju()}}function _o(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function uh(e,t,a){var n=t.pendingProps,r=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(r?Ea(t):Ta(),Ee){var b=He,j;if(j=b){e:{for(j=b,b=Kt;j.nodeType!==8;){if(!b){b=null;break e}if(j=Gt(j.nextSibling),j===null){b=null;break e}}b=j}b!==null?(t.memoizedState={dehydrated:b,treeContext:ls!==null?{id:na,overflow:la}:null,retryLane:536870912,hydrationErrors:null},j=yt(18,null,null,0),j.stateNode=b,j.return=t,t.child=j,ct=t,He=null,j=!0):j=!1}j||os(t)}if(b=t.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return rc(b)?t.lanes=32:t.lanes=536870912,null;ca(t)}return b=n.children,n=n.fallback,r?(Ta(),r=t.mode,b=Sr({mode:"hidden",children:b},r),n=ns(n,r,a,null),b.return=t,n.return=t,b.sibling=n,t.child=b,r=t.child,r.memoizedState=jo(a),r.childLanes=_o(e,m,a),t.memoizedState=wo,n):(Ea(t),No(t,b))}if(j=e.memoizedState,j!==null&&(b=j.dehydrated,b!==null)){if(c)t.flags&256?(Ea(t),t.flags&=-257,t=So(e,t,a)):t.memoizedState!==null?(Ta(),t.child=e.child,t.flags|=128,t=null):(Ta(),r=n.fallback,b=t.mode,n=Sr({mode:"visible",children:n.children},b),r=ns(r,b,a,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,Ks(t,e.child,null,a),n=t.child,n.memoizedState=jo(a),n.childLanes=_o(e,m,a),t.memoizedState=wo,t=r);else if(Ea(t),rc(b)){if(m=b.nextSibling&&b.nextSibling.dataset,m)var R=m.dgst;m=R,n=Error(i(419)),n.stack="",n.digest=m,Xn({value:n,source:null,stack:null}),t=So(e,t,a)}else if(Fe||Qn(e,t,a,!1),m=(a&e.childLanes)!==0,Fe||m){if(m=ze,m!==null&&(n=a&-a,n=(n&42)!==0?1:Fa(n),n=(n&(m.suspendedLanes|a))!==0?0:n,n!==0&&n!==j.retryLane))throw j.retryLane=n,Ls(e,n),Nt(m,e,n),th;b.data==="$?"||Go(),t=So(e,t,a)}else b.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,He=Gt(b.nextSibling),ct=t,Ee=!0,is=null,Kt=!1,e!==null&&(Dt[Ut++]=na,Dt[Ut++]=la,Dt[Ut++]=ls,na=e.id,la=e.overflow,ls=t),t=No(t,n.children),t.flags|=4096);return t}return r?(Ta(),r=n.fallback,b=t.mode,j=e.child,R=j.sibling,n=sa(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,R!==null?r=sa(R,r):(r=ns(r,b,a,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,b=e.child.memoizedState,b===null?b=jo(a):(j=b.cachePool,j!==null?(R=Ze._currentValue,j=j.parent!==R?{parent:R,pool:R}:j):j=Ju(),b={baseLanes:b.baseLanes|a,cachePool:j}),r.memoizedState=b,r.childLanes=_o(e,m,a),t.memoizedState=wo,n):(Ea(t),a=e.child,e=a.sibling,a=sa(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function No(e,t){return t=Sr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Sr(e,t){return e=yt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function So(e,t,a){return Ks(t,e.child,null,a),e=No(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dh(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Yi(e.return,t,a)}function ko(e,t,a,n,r){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:r}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=n,c.tail=a,c.tailMode=r)}function hh(e,t,a){var n=t.pendingProps,r=n.revealOrder,c=n.tail;if(st(e,t,n.children,a),n=Je.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,a,t);else if(e.tag===19)dh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(X(Je,n),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&wr(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),ko(t,!1,r,a,c);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&wr(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}ko(t,!0,a,null,c);break;case"together":ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ua(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Qn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=sa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=sa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Eo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&lr(e)))}function tg(e,t,a){switch(t.tag){case 3:ke(t,t.stateNode.containerInfo),ja(t,Ze,e.memoizedState.cache),Vn();break;case 27:case 5:Qa(t);break;case 4:ke(t,t.stateNode.containerInfo);break;case 10:ja(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Ea(t),t.flags|=128,null):(a&t.child.childLanes)!==0?uh(e,t,a):(Ea(t),e=ua(e,t,a),e!==null?e.sibling:null);Ea(t);break;case 19:var r=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Qn(e,t,a,!1),n=(a&t.childLanes)!==0),r){if(n)return hh(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),X(Je,Je.current),n)break;return null;case 22:case 23:return t.lanes=0,lh(e,t,a);case 24:ja(t,Ze,e.memoizedState.cache)}return ua(e,t,a)}function fh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!Eo(e,a)&&(t.flags&128)===0)return Fe=!1,tg(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,Ee&&(t.flags&1048576)!==0&&Gu(t,nr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,r=n._init;if(n=r(n._payload),t.type=n,typeof n=="function")Mi(n)?(e=fs(n,e),t.tag=1,t=oh(null,t,n,e,a)):(t.tag=0,t=vo(null,t,n,e,a));else{if(n!=null){if(r=n.$$typeof,r===z){t.tag=11,t=ah(null,t,n,e,a);break e}else if(r===F){t.tag=14,t=sh(null,t,n,e,a);break e}}throw t=pe(n)||n,Error(i(306,t,""))}}return t;case 0:return vo(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,r=fs(n,t.pendingProps),oh(e,t,n,r,a);case 3:e:{if(ke(t,t.stateNode.containerInfo),e===null)throw Error(i(387));n=t.pendingProps;var c=t.memoizedState;r=c.element,Zi(e,t),el(t,n,null,a);var m=t.memoizedState;if(n=m.cache,ja(t,Ze,n),n!==c.cache&&Gi(t,[Ze],a,!0),Fn(),n=m.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=ch(e,t,n,a);break e}else if(n!==r){r=Ct(Error(i(424)),t),Xn(r),t=ch(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(He=Gt(e.firstChild),ct=t,Ee=!0,is=null,Kt=!0,a=Vd(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Vn(),n===r){t=ua(e,t,a);break e}st(e,t,n,a)}t=t.child}return t;case 26:return Nr(e,t),e===null?(a=bf(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,n=Br(se.current).createElement(a),n[rt]=t,n[dt]=e,lt(n,a,e),Ie(n),t.stateNode=n):t.memoizedState=bf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qa(t),e===null&&Ee&&(n=t.stateNode=gf(t.type,t.pendingProps,se.current),ct=t,Kt=!0,r=He,La(t.type)?(ic=r,He=Gt(n.firstChild)):He=r),st(e,t,t.pendingProps.children,a),Nr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((r=n=He)&&(n=Ag(n,t.type,t.pendingProps,Kt),n!==null?(t.stateNode=n,ct=t,He=Gt(n.firstChild),Kt=!1,r=!0):r=!1),r||os(t)),Qa(t),r=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,n=c.children,sc(r,c)?n=null:m!==null&&sc(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=to(e,t,Q0,null,null,a),jl._currentValue=r),Nr(e,t),st(e,t,n,a),t.child;case 6:return e===null&&Ee&&((e=a=He)&&(a=Cg(a,t.pendingProps,Kt),a!==null?(t.stateNode=a,ct=t,He=null,e=!0):e=!1),e||os(t)),null;case 13:return uh(e,t,a);case 4:return ke(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ks(t,null,n,a):st(e,t,n,a),t.child;case 11:return ah(e,t,t.type,t.pendingProps,a);case 7:return st(e,t,t.pendingProps,a),t.child;case 8:return st(e,t,t.pendingProps.children,a),t.child;case 12:return st(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,ja(t,t.type,n.value),st(e,t,n.children,a),t.child;case 9:return r=t.type._context,n=t.pendingProps.children,us(t),r=it(r),n=n(r),t.flags|=1,st(e,t,n,a),t.child;case 14:return sh(e,t,t.type,t.pendingProps,a);case 15:return nh(e,t,t.type,t.pendingProps,a);case 19:return hh(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Sr(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=sa(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return lh(e,t,a);case 24:return us(t),n=it(Ze),e===null?(r=Xi(),r===null&&(r=ze,c=Pi(),r.pooledCache=c,c.refCount++,c!==null&&(r.pooledCacheLanes|=a),r=c),t.memoizedState={parent:n,cache:r},Ki(t),ja(t,Ze,r)):((e.lanes&a)!==0&&(Zi(e,t),el(t,null,null,a),Fn()),r=e.memoizedState,c=t.memoizedState,r.parent!==n?(r={parent:n,cache:n},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ja(t,Ze,n)):(n=c.cache,ja(t,Ze,n),n!==r.cache&&Gi(t,[Ze],a,!0))),st(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function da(e){e.flags|=4}function mh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_f(t)){if(t=Rt.current,t!==null&&((_e&4194048)===_e?Zt!==null:(_e&62914560)!==_e&&(_e&536870912)===0||t!==Zt))throw Wn=Qi,Wu;e.flags|=8192}}function kr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cn():536870912,e.lanes|=t,Is|=t)}function il(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags&65011712,n|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function ag(e,t,a){var n=t.pendingProps;switch(Bi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ia(Ze),St(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Pn(t)?da(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xu())),Be(t),null;case 26:return a=t.memoizedState,e===null?(da(t),a!==null?(Be(t),mh(t,a)):(Be(t),t.flags&=-16777217)):a?a!==e.memoizedState?(da(t),Be(t),mh(t,a)):(Be(t),t.flags&=-16777217):(e.memoizedProps!==n&&da(t),Be(t),t.flags&=-16777217),null;case 27:Vt(t),a=se.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&da(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return Be(t),null}e=G.current,Pn(t)?Pu(t):(e=gf(r,n,a),t.stateNode=e,da(t))}return Be(t),null;case 5:if(Vt(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&da(t);else{if(!n){if(t.stateNode===null)throw Error(i(166));return Be(t),null}if(e=G.current,Pn(t))Pu(t);else{switch(r=Br(se.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?r.createElement("select",{is:n.is}):r.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?r.createElement(a,{is:n.is}):r.createElement(a)}}e[rt]=t,e[dt]=n;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(lt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&da(t)}}return Be(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&da(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(i(166));if(e=se.current,Pn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,r=ct,r!==null)switch(r.tag){case 27:case 5:n=r.memoizedProps}e[rt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||of(e.nodeValue,a)),e||os(t)}else e=Br(e).createTextNode(n),e[rt]=t,t.stateNode=e}return Be(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Pn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!r)throw Error(i(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));r[rt]=t}else Vn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),r=!1}else r=Xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(ca(t),t):(ca(t),null)}if(ca(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,r=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(r=n.alternate.memoizedState.cachePool.pool);var c=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==r&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),kr(t,t.updateQueue),Be(t),null;case 4:return St(),e===null&&Io(t.stateNode.containerInfo),Be(t),null;case 10:return ia(t.type),Be(t),null;case 19:if(W(Je),r=t.memoizedState,r===null)return Be(t),null;if(n=(t.flags&128)!==0,c=r.rendering,c===null)if(n)il(r,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=wr(e),c!==null){for(t.flags|=128,il(r,!1),e=c.updateQueue,t.updateQueue=e,kr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Yu(a,e),a=a.sibling;return X(Je,Je.current&1|2),t.child}e=e.sibling}r.tail!==null&&kt()>Ar&&(t.flags|=128,n=!0,il(r,!1),t.lanes=4194304)}else{if(!n)if(e=wr(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,kr(t,e),il(r,!0),r.tail===null&&r.tailMode==="hidden"&&!c.alternate&&!Ee)return Be(t),null}else 2*kt()-r.renderingStartTime>Ar&&a!==536870912&&(t.flags|=128,n=!0,il(r,!1),t.lanes=4194304);r.isBackwards?(c.sibling=t.child,t.child=c):(e=r.last,e!==null?e.sibling=c:t.child=c,r.last=c)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=kt(),t.sibling=null,e=Je.current,X(Je,n?e&1|2:e&1),t):(Be(t),null);case 22:case 23:return ca(t),Fi(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&kr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&W(ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ia(Ze),Be(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function sg(e,t){switch(Bi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ia(Ze),St(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vt(t),null;case 13:if(ca(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(Je),null;case 4:return St(),null;case 10:return ia(t.type),null;case 22:case 23:return ca(t),Fi(),e!==null&&W(ds),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ia(Ze),null;case 25:return null;default:return null}}function gh(e,t){switch(Bi(t),t.tag){case 3:ia(Ze),St();break;case 26:case 27:case 5:Vt(t);break;case 4:St();break;case 13:ca(t);break;case 19:W(Je);break;case 10:ia(t.type);break;case 22:case 23:ca(t),Fi(),e!==null&&W(ds);break;case 24:ia(Ze)}}function ol(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var r=n.next;a=r;do{if((a.tag&e)===e){n=void 0;var c=a.create,m=a.inst;n=c(),m.destroy=n}a=a.next}while(a!==r)}}catch(b){Re(t,t.return,b)}}function Aa(e,t,a){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var c=r.next;n=c;do{if((n.tag&e)===e){var m=n.inst,b=m.destroy;if(b!==void 0){m.destroy=void 0,r=t;var j=a,R=b;try{R()}catch(Y){Re(r,j,Y)}}}n=n.next}while(n!==c)}}catch(Y){Re(t,t.return,Y)}}function xh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{sd(t,a)}catch(n){Re(e,e.return,n)}}}function ph(e,t,a){a.props=fs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Re(e,t,n)}}function cl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(r){Re(e,t,r)}}function Jt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(r){Re(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Re(e,t,r)}else a.current=null}function bh(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(r){Re(e,e.return,r)}}function To(e,t,a){try{var n=e.stateNode;Ng(n,e.type,a,t),n[dt]=t}catch(r){Re(e,e.return,r)}}function yh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function Ao(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Co(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=qr));else if(n!==4&&(n===27&&La(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Co(e,t,a),e=e.sibling;e!==null;)Co(e,t,a),e=e.sibling}function Er(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&La(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Er(e,t,a),e=e.sibling;e!==null;)Er(e,t,a),e=e.sibling}function vh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);lt(t,n,a),t[rt]=e,t[dt]=a}catch(c){Re(e,e.return,c)}}var ha=!1,Ge=!1,Oo=!1,wh=typeof WeakSet=="function"?WeakSet:Set,et=null;function ng(e,t){if(e=e.containerInfo,tc=Vr,e=Du(e),Ti(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var r=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,b=-1,j=-1,R=0,Y=0,V=e,L=null;t:for(;;){for(var B;V!==a||r!==0&&V.nodeType!==3||(b=m+r),V!==c||n!==0&&V.nodeType!==3||(j=m+n),V.nodeType===3&&(m+=V.nodeValue.length),(B=V.firstChild)!==null;)L=V,V=B;for(;;){if(V===e)break t;if(L===a&&++R===r&&(b=m),L===c&&++Y===n&&(j=m),(B=V.nextSibling)!==null)break;V=L,L=V.parentNode}V=B}a=b===-1||j===-1?null:{start:b,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(ac={focusedElem:e,selectionRange:a},Vr=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,r=c.memoizedProps,c=c.memoizedState,n=a.stateNode;try{var he=fs(a.type,r,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(he,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Re(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)lc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function jh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ca(e,a),n&4&&ol(5,a);break;case 1:if(Ca(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Re(a,a.return,m)}else{var r=fs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Re(a,a.return,m)}}n&64&&xh(a),n&512&&cl(a,a.return);break;case 3:if(Ca(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{sd(e,t)}catch(m){Re(a,a.return,m)}}break;case 27:t===null&&n&4&&vh(a);case 26:case 5:Ca(e,a),t===null&&n&4&&bh(a),n&512&&cl(a,a.return);break;case 12:Ca(e,a);break;case 13:Ca(e,a),n&4&&Sh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=fg.bind(null,a),Og(e,a))));break;case 22:if(n=a.memoizedState!==null||ha,!n){t=t!==null&&t.memoizedState!==null||Ge,r=ha;var c=Ge;ha=n,(Ge=t)&&!c?Oa(e,a,(a.subtreeFlags&8772)!==0):Ca(e,a),ha=r,Ge=c}break;case 30:break;default:Ca(e,a)}}function _h(e){var t=e.alternate;t!==null&&(e.alternate=null,_h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ci(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,mt=!1;function fa(e,t,a){for(a=a.child;a!==null;)Nh(e,t,a),a=a.sibling}function Nh(e,t,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Bt,a)}catch{}switch(a.tag){case 26:Ge||Jt(a,t),fa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||Jt(a,t);var n=qe,r=mt;La(a.type)&&(qe=a.stateNode,mt=!1),fa(e,t,a),bl(a.stateNode),qe=n,mt=r;break;case 5:Ge||Jt(a,t);case 6:if(n=qe,r=mt,qe=null,fa(e,t,a),qe=n,mt=r,qe!==null)if(mt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(c){Re(a,t,c)}else try{qe.removeChild(a.stateNode)}catch(c){Re(a,t,c)}break;case 18:qe!==null&&(mt?(e=qe,ff(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),kl(e)):ff(qe,a.stateNode));break;case 4:n=qe,r=mt,qe=a.stateNode.containerInfo,mt=!0,fa(e,t,a),qe=n,mt=r;break;case 0:case 11:case 14:case 15:Ge||Aa(2,a,t),Ge||Aa(4,a,t),fa(e,t,a);break;case 1:Ge||(Jt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&ph(a,t,n)),fa(e,t,a);break;case 21:fa(e,t,a);break;case 22:Ge=(n=Ge)||a.memoizedState!==null,fa(e,t,a),Ge=n;break;default:fa(e,t,a)}}function Sh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(a){Re(t,t.return,a)}}function lg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wh),t;default:throw Error(i(435,e.tag))}}function Do(e,t){var a=lg(e);t.forEach(function(n){var r=mg.bind(null,e,n);a.has(n)||(a.add(n),n.then(r,r))})}function vt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var r=a[n],c=e,m=t,b=m;e:for(;b!==null;){switch(b.tag){case 27:if(La(b.type)){qe=b.stateNode,mt=!1;break e}break;case 5:qe=b.stateNode,mt=!1;break e;case 3:case 4:qe=b.stateNode.containerInfo,mt=!0;break e}b=b.return}if(qe===null)throw Error(i(160));Nh(c,m,r),qe=null,mt=!1,c=r.alternate,c!==null&&(c.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)kh(t,e),t=t.sibling}var Yt=null;function kh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),wt(e),n&4&&(Aa(3,e,e.return),ol(3,e),Aa(5,e,e.return));break;case 1:vt(t,e),wt(e),n&512&&(Ge||a===null||Jt(a,a.return)),n&64&&ha&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var r=Yt;if(vt(t,e),wt(e),n&512&&(Ge||a===null||Jt(a,a.return)),n&4){var c=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(n){case"title":c=r.getElementsByTagName("title")[0],(!c||c[Un]||c[rt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=r.createElement(n),r.head.insertBefore(c,r.querySelector("head > title"))),lt(c,n,a),c[rt]=e,Ie(c),n=c;break e;case"link":var m=wf("link","href",r).get(n+(a.href||""));if(m){for(var b=0;b<m.length;b++)if(c=m[b],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(b,1);break t}}c=r.createElement(n),lt(c,n,a),r.head.appendChild(c);break;case"meta":if(m=wf("meta","content",r).get(n+(a.content||""))){for(b=0;b<m.length;b++)if(c=m[b],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(b,1);break t}}c=r.createElement(n),lt(c,n,a),r.head.appendChild(c);break;default:throw Error(i(468,n))}c[rt]=e,Ie(c),n=c}e.stateNode=n}else jf(r,e.type,e.stateNode);else e.stateNode=vf(r,n,e.memoizedProps);else c!==n?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,n===null?jf(r,e.type,e.stateNode):vf(r,n,e.memoizedProps)):n===null&&e.stateNode!==null&&To(e,e.memoizedProps,a.memoizedProps)}break;case 27:vt(t,e),wt(e),n&512&&(Ge||a===null||Jt(a,a.return)),a!==null&&n&4&&To(e,e.memoizedProps,a.memoizedProps);break;case 5:if(vt(t,e),wt(e),n&512&&(Ge||a===null||Jt(a,a.return)),e.flags&32){r=e.stateNode;try{Cs(r,"")}catch(B){Re(e,e.return,B)}}n&4&&e.stateNode!=null&&(r=e.memoizedProps,To(e,r,a!==null?a.memoizedProps:r)),n&1024&&(Oo=!0);break;case 6:if(vt(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(i(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(B){Re(e,e.return,B)}}break;case 3:if(Yr=null,r=Yt,Yt=Hr(t.containerInfo),vt(t,e),Yt=r,wt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(t.containerInfo)}catch(B){Re(e,e.return,B)}Oo&&(Oo=!1,Eh(e));break;case 4:n=Yt,Yt=Hr(e.stateNode.containerInfo),vt(t,e),wt(e),Yt=n;break;case 12:vt(t,e),wt(e);break;case 13:vt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qo=kt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Do(e,n)));break;case 22:r=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,R=ha,Y=Ge;if(ha=R||r,Ge=Y||j,vt(t,e),Ge=Y,ha=R,wt(e),n&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||j||ha||Ge||ms(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(c=j.stateNode,r)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=j.stateNode;var V=j.memoizedProps.style,L=V!=null&&V.hasOwnProperty("display")?V.display:null;b.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(B){Re(j,j.return,B)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=r?"":j.memoizedProps}catch(B){Re(j,j.return,B)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Do(e,a))));break;case 19:vt(t,e),wt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Do(e,n)));break;case 30:break;case 21:break;default:vt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(yh(n)){a=n;break}n=n.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var r=a.stateNode,c=Ao(e);Er(e,c,r);break;case 5:var m=a.stateNode;a.flags&32&&(Cs(m,""),a.flags&=-33);var b=Ao(e);Er(e,b,m);break;case 3:case 4:var j=a.stateNode.containerInfo,R=Ao(e);Co(e,R,j);break;default:throw Error(i(161))}}catch(Y){Re(e,e.return,Y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Eh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ca(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jh(e,t.alternate,t),t=t.sibling}function ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Aa(4,t,t.return),ms(t);break;case 1:Jt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&ph(t,t.return,a),ms(t);break;case 27:bl(t.stateNode);case 26:case 5:Jt(t,t.return),ms(t);break;case 22:t.memoizedState===null&&ms(t);break;case 30:ms(t);break;default:ms(t)}e=e.sibling}}function Oa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,r=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Oa(r,c,a),ol(4,c);break;case 1:if(Oa(r,c,a),n=c,r=n.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(R){Re(n,n.return,R)}if(n=c,r=n.updateQueue,r!==null){var b=n.stateNode;try{var j=r.shared.hiddenCallbacks;if(j!==null)for(r.shared.hiddenCallbacks=null,r=0;r<j.length;r++)ad(j[r],b)}catch(R){Re(n,n.return,R)}}a&&m&64&&xh(c),cl(c,c.return);break;case 27:vh(c);case 26:case 5:Oa(r,c,a),a&&n===null&&m&4&&bh(c),cl(c,c.return);break;case 12:Oa(r,c,a);break;case 13:Oa(r,c,a),a&&m&4&&Sh(r,c);break;case 22:c.memoizedState===null&&Oa(r,c,a),cl(c,c.return);break;case 30:break;default:Oa(r,c,a)}t=t.sibling}}function Uo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Kn(a))}function Ro(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e))}function Wt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Th(e,t,a,n),t=t.sibling}function Th(e,t,a,n){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,n),r&2048&&ol(9,t);break;case 1:Wt(e,t,a,n);break;case 3:Wt(e,t,a,n),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Kn(e)));break;case 12:if(r&2048){Wt(e,t,a,n),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,b=c.onPostCommit;typeof b=="function"&&b(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Re(t,t.return,j)}}else Wt(e,t,a,n);break;case 13:Wt(e,t,a,n);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?Wt(e,t,a,n):ul(e,t):c._visibility&2?Wt(e,t,a,n):(c._visibility|=2,Zs(e,t,a,n,(t.subtreeFlags&10256)!==0)),r&2048&&Uo(m,t);break;case 24:Wt(e,t,a,n),r&2048&&Ro(t.alternate,t);break;default:Wt(e,t,a,n)}}function Zs(e,t,a,n,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,m=t,b=a,j=n,R=m.flags;switch(m.tag){case 0:case 11:case 15:Zs(c,m,b,j,r),ol(8,m);break;case 23:break;case 22:var Y=m.stateNode;m.memoizedState!==null?Y._visibility&2?Zs(c,m,b,j,r):ul(c,m):(Y._visibility|=2,Zs(c,m,b,j,r)),r&&R&2048&&Uo(m.alternate,m);break;case 24:Zs(c,m,b,j,r),r&&R&2048&&Ro(m.alternate,m);break;default:Zs(c,m,b,j,r)}t=t.sibling}}function ul(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,r=n.flags;switch(n.tag){case 22:ul(a,n),r&2048&&Uo(n.alternate,n);break;case 24:ul(a,n),r&2048&&Ro(n.alternate,n);break;default:ul(a,n)}t=t.sibling}}var dl=8192;function Js(e){if(e.subtreeFlags&dl)for(e=e.child;e!==null;)Ah(e),e=e.sibling}function Ah(e){switch(e.tag){case 26:Js(e),e.flags&dl&&e.memoizedState!==null&&Pg(Yt,e.memoizedState,e.memoizedProps);break;case 5:Js(e);break;case 3:case 4:var t=Yt;Yt=Hr(e.stateNode.containerInfo),Js(e),Yt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=dl,dl=16777216,Js(e),dl=t):Js(e));break;default:Js(e)}}function Ch(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,Dh(n,e)}Ch(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oh(e),e=e.sibling}function Oh(e){switch(e.tag){case 0:case 11:case 15:hl(e),e.flags&2048&&Aa(9,e,e.return);break;case 3:hl(e);break;case 12:hl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tr(e)):hl(e);break;default:hl(e)}}function Tr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];et=n,Dh(n,e)}Ch(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Aa(8,t,t.return),Tr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Tr(t));break;default:Tr(t)}e=e.sibling}}function Dh(e,t){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:Aa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Kn(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,et=n;else e:for(a=e;et!==null;){n=et;var r=n.sibling,c=n.return;if(_h(n),n===a){et=null;break e}if(r!==null){r.return=c,et=r;break e}et=c}}}var rg={getCacheForType:function(e){var t=it(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},ig=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ze=null,we=null,_e=0,Ce=0,jt=null,Da=!1,Ws=!1,Mo=!1,ma=0,$e=0,Ua=0,gs=0,zo=0,Mt=0,Is=0,fl=null,gt=null,Lo=!1,qo=0,Ar=1/0,Cr=null,Ra=null,nt=0,Ma=null,Fs=null,en=0,Bo=0,Ho=null,Uh=null,ml=0,$o=null;function _t(){if((Ae&2)!==0&&_e!==0)return _e&-_e;if(M.T!==null){var e=$s;return e!==0?e:Ko()}return Dn()}function Rh(){Mt===0&&(Mt=(_e&536870912)===0||Ee?An():536870912);var e=Rt.current;return e!==null&&(e.flags|=32),Mt}function Nt(e,t,a){(e===ze&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(tn(e,0),za(e,_e,Mt,!1)),ya(e,a),((Ae&2)===0||e!==ze)&&(e===ze&&((Ae&2)===0&&(gs|=a),$e===4&&za(e,_e,Mt,!1)),It(e))}function Mh(e,t,a){if((Ae&6)!==0)throw Error(i(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||ba(e,t),r=n?ug(e,t):Po(e,t,!0),c=n;do{if(r===0){Ws&&!n&&za(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!og(a)){r=Po(e,t,!1),c=!1;continue}if(r===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var b=e;r=fl;var j=b.current.memoizedState.isDehydrated;if(j&&(tn(b,m).flags|=256),m=Po(b,m,!1),m!==2){if(Mo&&!j){b.errorRecoveryDisabledLanes|=c,gs|=c,r=4;break e}c=gt,gt=r,c!==null&&(gt===null?gt=c:gt.push.apply(gt,c))}r=m}if(c=!1,r!==2)continue}}if(r===1){tn(e,0),za(e,t,0,!0);break}e:{switch(n=e,c=r,c){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:za(n,t,Mt,!Da);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(r=qo+300-kt(),10<r)){if(za(n,t,Mt,!Da),Ia(n,0,!0)!==0)break e;n.timeoutHandle=df(zh.bind(null,n,a,gt,Cr,Lo,t,Mt,gs,Is,Da,c,2,-0,0),r);break e}zh(n,a,gt,Cr,Lo,t,Mt,gs,Is,Da,c,0,-0,0)}}break}while(!0);It(e)}function zh(e,t,a,n,r,c,m,b,j,R,Y,V,L,B){if(e.timeoutHandle=-1,V=t.subtreeFlags,(V&8192||(V&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:Gg},Ah(t),V=Vg(),V!==null)){e.cancelPendingCommit=V(Gh.bind(null,e,t,c,a,n,r,m,b,j,Y,1,L,B)),za(e,c,m,!R);return}Gh(e,t,c,a,n,r,m,b,j)}function og(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var r=a[n],c=r.getSnapshot;r=r.value;try{if(!bt(c(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function za(e,t,a,n){t&=~zo,t&=~gs,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var r=t;0<r;){var c=31-Ke(r),m=1<<c;n[c]=-1,r&=~m}a!==0&&On(e,a,t)}function Or(){return(Ae&6)===0?(gl(0),!1):!0}function Yo(){if(we!==null){if(Ce===0)var e=we.return;else e=we,ra=cs=null,no(e),Qs=null,ll=0,e=we;for(;e!==null;)gh(e.alternate,e),e=e.return;we=null}}function tn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,kg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yo(),ze=e,we=a=sa(e.current,null),_e=t,Ce=0,jt=null,Da=!1,Ws=ba(e,t),Mo=!1,Is=Mt=zo=gs=Ua=$e=0,gt=fl=null,Lo=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var r=31-Ke(n),c=1<<r;t|=e[r],n&=~c}return ma=t,Fl(),a}function Lh(e,t){be=null,M.H=br,t===Jn||t===or?(t=ed(),Ce=3):t===Wu?(t=ed(),Ce=4):Ce=t===th?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,we===null&&($e=1,_r(e,Ct(t,e.current)))}function qh(){var e=M.H;return M.H=br,e===null?br:e}function Bh(){var e=M.A;return M.A=rg,e}function Go(){$e=4,Da||(_e&4194048)!==_e&&Rt.current!==null||(Ws=!0),(Ua&134217727)===0&&(gs&134217727)===0||ze===null||za(ze,_e,Mt,!1)}function Po(e,t,a){var n=Ae;Ae|=2;var r=qh(),c=Bh();(ze!==e||_e!==t)&&(Cr=null,tn(e,t)),t=!1;var m=$e;e:do try{if(Ce!==0&&we!==null){var b=we,j=jt;switch(Ce){case 8:Yo(),m=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var R=Ce;if(Ce=0,jt=null,an(e,b,j,R),a&&Ws){m=0;break e}break;default:R=Ce,Ce=0,jt=null,an(e,b,j,R)}}cg(),m=$e;break}catch(Y){Lh(e,Y)}while(!0);return t&&e.shellSuspendCounter++,ra=cs=null,Ae=n,M.H=r,M.A=c,we===null&&(ze=null,_e=0,Fl()),m}function cg(){for(;we!==null;)Hh(we)}function ug(e,t){var a=Ae;Ae|=2;var n=qh(),r=Bh();ze!==e||_e!==t?(Cr=null,Ar=kt()+500,tn(e,t)):Ws=ba(e,t);e:do try{if(Ce!==0&&we!==null){t=we;var c=jt;t:switch(Ce){case 1:Ce=0,jt=null,an(e,t,c,1);break;case 2:case 9:if(Iu(c)){Ce=0,jt=null,$h(t);break}t=function(){Ce!==2&&Ce!==9||ze!==e||(Ce=7),It(e)},c.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Iu(c)?(Ce=0,jt=null,$h(t)):(Ce=0,jt=null,an(e,t,c,7));break;case 5:var m=null;switch(we.tag){case 26:m=we.memoizedState;case 5:case 27:var b=we;if(!m||_f(m)){Ce=0,jt=null;var j=b.sibling;if(j!==null)we=j;else{var R=b.return;R!==null?(we=R,Dr(R)):we=null}break t}}Ce=0,jt=null,an(e,t,c,5);break;case 6:Ce=0,jt=null,an(e,t,c,6);break;case 8:Yo(),$e=6;break e;default:throw Error(i(462))}}dg();break}catch(Y){Lh(e,Y)}while(!0);return ra=cs=null,M.H=n,M.A=r,Ae=a,we!==null?0:(ze=null,_e=0,Fl(),$e)}function dg(){for(;we!==null&&!li();)Hh(we)}function Hh(e){var t=fh(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?Dr(e):we=t}function $h(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=ih(a,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=ih(a,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:no(t);default:gh(a,t),t=we=Yu(t,ma),t=fh(a,t,ma)}e.memoizedProps=e.pendingProps,t===null?Dr(e):we=t}function an(e,t,a,n){ra=cs=null,no(t),Qs=null,ll=0;var r=t.return;try{if(eg(e,r,t,a,_e)){$e=1,_r(e,Ct(a,e.current)),we=null;return}}catch(c){if(r!==null)throw we=r,c;$e=1,_r(e,Ct(a,e.current)),we=null;return}t.flags&32768?(Ee||n===1?e=!0:Ws||(_e&536870912)!==0?e=!1:(Da=e=!0,(n===2||n===9||n===3||n===6)&&(n=Rt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Yh(t,e)):Dr(t)}function Dr(e){var t=e;do{if((t.flags&32768)!==0){Yh(t,Da);return}e=t.return;var a=ag(t.alternate,t,ma);if(a!==null){we=a;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);$e===0&&($e=5)}function Yh(e,t){do{var a=sg(e.alternate,e);if(a!==null){a.flags&=32767,we=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){we=e;return}we=e=a}while(e!==null);$e=6,we=null}function Gh(e,t,a,n,r,c,m,b,j){e.cancelPendingCommit=null;do Ur();while(nt!==0);if((Ae&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(c=t.lanes|t.childLanes,c|=Ui,$l(e,a,c,m,b,j),e===ze&&(we=ze=null,_e=0),Fs=t,Ma=e,en=a,Bo=c,Ho=r,Uh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gg(ee,function(){return Kh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=M.T,M.T=null,r=Z.p,Z.p=2,m=Ae,Ae|=4;try{ng(e,t,a)}finally{Ae=m,Z.p=r,M.T=n}}nt=1,Ph(),Vh(),Xh()}}function Ph(){if(nt===1){nt=0;var e=Ma,t=Fs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=M.T,M.T=null;var n=Z.p;Z.p=2;var r=Ae;Ae|=4;try{kh(t,e);var c=ac,m=Du(e.containerInfo),b=c.focusedElem,j=c.selectionRange;if(m!==b&&b&&b.ownerDocument&&Ou(b.ownerDocument.documentElement,b)){if(j!==null&&Ti(b)){var R=j.start,Y=j.end;if(Y===void 0&&(Y=R),"selectionStart"in b)b.selectionStart=R,b.selectionEnd=Math.min(Y,b.value.length);else{var V=b.ownerDocument||document,L=V&&V.defaultView||window;if(L.getSelection){var B=L.getSelection(),he=b.textContent.length,oe=Math.min(j.start,he),Ue=j.end===void 0?oe:Math.min(j.end,he);!B.extend&&oe>Ue&&(m=Ue,Ue=oe,oe=m);var A=Cu(b,oe),N=Cu(b,Ue);if(A&&N&&(B.rangeCount!==1||B.anchorNode!==A.node||B.anchorOffset!==A.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var U=V.createRange();U.setStart(A.node,A.offset),B.removeAllRanges(),oe>Ue?(B.addRange(U),B.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),B.addRange(U))}}}}for(V=[],B=b;B=B.parentNode;)B.nodeType===1&&V.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<V.length;b++){var P=V[b];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Vr=!!tc,ac=tc=null}finally{Ae=r,Z.p=n,M.T=a}}e.current=t,nt=2}}function Vh(){if(nt===2){nt=0;var e=Ma,t=Fs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=M.T,M.T=null;var n=Z.p;Z.p=2;var r=Ae;Ae|=4;try{jh(e,t.alternate,t)}finally{Ae=r,Z.p=n,M.T=a}}nt=3}}function Xh(){if(nt===4||nt===3){nt=0,ri();var e=Ma,t=Fs,a=en,n=Uh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?nt=5:(nt=0,Fs=Ma=null,Qh(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ra=null),va(a),t=t.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Bt,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=M.T,r=Z.p,Z.p=2,M.T=null;try{for(var c=e.onRecoverableError,m=0;m<n.length;m++){var b=n[m];c(b.value,{componentStack:b.stack})}}finally{M.T=t,Z.p=r}}(en&3)!==0&&Ur(),It(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===$o?ml++:(ml=0,$o=e):ml=0,gl(0)}}function Qh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Kn(t)))}function Ur(e){return Ph(),Vh(),Xh(),Kh()}function Kh(){if(nt!==5)return!1;var e=Ma,t=Bo;Bo=0;var a=va(en),n=M.T,r=Z.p;try{Z.p=32>a?32:a,M.T=null,a=Ho,Ho=null;var c=Ma,m=en;if(nt=0,Fs=Ma=null,en=0,(Ae&6)!==0)throw Error(i(331));var b=Ae;if(Ae|=4,Oh(c.current),Th(c,c.current,m,a),Ae=b,gl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Bt,c)}catch{}return!0}finally{Z.p=r,M.T=n,Qh(e,t)}}function Zh(e,t,a){t=Ct(a,t),t=yo(e.stateNode,t,2),e=Sa(e,t,2),e!==null&&(ya(e,2),It(e))}function Re(e,t,a){if(e.tag===3)Zh(e,e,a);else for(;t!==null;){if(t.tag===3){Zh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ra===null||!Ra.has(n))){e=Ct(a,e),a=Fd(2),n=Sa(t,a,2),n!==null&&(eh(a,n,t,e),ya(n,2),It(n));break}}t=t.return}}function Vo(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new ig;var r=new Set;n.set(t,r)}else r=n.get(t),r===void 0&&(r=new Set,n.set(t,r));r.has(a)||(Mo=!0,r.add(a),e=hg.bind(null,e,t,a),t.then(e,e))}function hg(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ze===e&&(_e&a)===a&&($e===4||$e===3&&(_e&62914560)===_e&&300>kt()-qo?(Ae&2)===0&&tn(e,0):zo|=a,Is===_e&&(Is=0)),It(e)}function Jh(e,t){t===0&&(t=Cn()),e=Ls(e,t),e!==null&&(ya(e,t),It(e))}function fg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Jh(e,a)}function mg(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(i(314))}n!==null&&n.delete(t),Jh(e,a)}function gg(e,t){return Sn(e,t)}var Rr=null,sn=null,Xo=!1,Mr=!1,Qo=!1,xs=0;function It(e){e!==sn&&e.next===null&&(sn===null?Rr=sn=e:sn=sn.next=e),Mr=!0,Xo||(Xo=!0,pg())}function gl(e,t){if(!Qo&&Mr){Qo=!0;do for(var a=!1,n=Rr;n!==null;){if(e!==0){var r=n.pendingLanes;if(r===0)var c=0;else{var m=n.suspendedLanes,b=n.pingedLanes;c=(1<<31-Ke(42|e)+1)-1,c&=r&~(m&~b),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,ef(n,c))}else c=_e,c=Ia(n,n===ze?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||ba(n,c)||(a=!0,ef(n,c));n=n.next}while(a);Qo=!1}}function xg(){Wh()}function Wh(){Mr=Xo=!1;var e=0;xs!==0&&(Sg()&&(e=xs),xs=0);for(var t=kt(),a=null,n=Rr;n!==null;){var r=n.next,c=Ih(n,t);c===0?(n.next=null,a===null?Rr=r:a.next=r,r===null&&(sn=a)):(a=n,(e!==0||(c&3)!==0)&&(Mr=!0)),n=r}gl(e)}function Ih(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Ke(c),b=1<<m,j=r[m];j===-1?((b&a)===0||(b&n)!==0)&&(r[m]=Hl(b,t)):j<=t&&(e.expiredLanes|=b),c&=~b}if(t=ze,a=_e,a=Ia(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&pa(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ba(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&pa(n),va(a)){case 2:case 8:a=En;break;case 32:a=ee;break;case 268435456:a=pt;break;default:a=ee}return n=Fh.bind(null,e),a=Sn(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&pa(n),e.callbackPriority=2,e.callbackNode=null,2}function Fh(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ur()&&e.callbackNode!==a)return null;var n=_e;return n=Ia(e,e===ze?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Mh(e,n,t),Ih(e,kt()),e.callbackNode!=null&&e.callbackNode===a?Fh.bind(null,e):null)}function ef(e,t){if(Ur())return null;Mh(e,t,!0)}function pg(){Eg(function(){(Ae&6)!==0?Sn(kn,xg):Wh()})}function Ko(){return xs===0&&(xs=An()),xs}function tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xl(""+e)}function af(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function bg(e,t,a,n,r){if(t==="submit"&&a&&a.stateNode===r){var c=tf((r[dt]||null).action),m=n.submitter;m&&(t=(t=m[dt]||null)?tf(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var b=new Jl("action","action",null,n,r);e.push({event:b,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(xs!==0){var j=m?af(r,m):new FormData(r);mo(a,{pending:!0,data:j,method:r.method,action:c},null,j)}}else typeof c=="function"&&(b.preventDefault(),j=m?af(r,m):new FormData(r),mo(a,{pending:!0,data:j,method:r.method,action:c},c,j))},currentTarget:r}]})}}for(var Zo=0;Zo<Di.length;Zo++){var Jo=Di[Zo],yg=Jo.toLowerCase(),vg=Jo[0].toUpperCase()+Jo.slice(1);$t(yg,"on"+vg)}$t(Mu,"onAnimationEnd"),$t(zu,"onAnimationIteration"),$t(Lu,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(L0,"onTransitionRun"),$t(q0,"onTransitionStart"),$t(B0,"onTransitionCancel"),$t(qu,"onTransitionEnd"),Es("onMouseEnter",["mouseout","mouseover"]),Es("onMouseLeave",["mouseout","mouseover"]),Es("onPointerEnter",["pointerout","pointerover"]),Es("onPointerLeave",["pointerout","pointerover"]),es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),es("onBeforeInput",["compositionend","keypress","textInput","paste"]),es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function sf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],r=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var m=n.length-1;0<=m;m--){var b=n[m],j=b.instance,R=b.currentTarget;if(b=b.listener,j!==c&&r.isPropagationStopped())break e;c=b,r.currentTarget=R;try{c(r)}catch(Y){jr(Y)}r.currentTarget=null,c=j}else for(m=0;m<n.length;m++){if(b=n[m],j=b.instance,R=b.currentTarget,b=b.listener,j!==c&&r.isPropagationStopped())break e;c=b,r.currentTarget=R;try{c(r)}catch(Y){jr(Y)}r.currentTarget=null,c=j}}}}function je(e,t){var a=t[oi];a===void 0&&(a=t[oi]=new Set);var n=e+"__bubble";a.has(n)||(nf(t,e,2,!1),a.add(n))}function Wo(e,t,a){var n=0;t&&(n|=4),nf(a,e,n,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Io(e){if(!e[zr]){e[zr]=!0,Wc.forEach(function(a){a!=="selectionchange"&&(wg.has(a)||Wo(a,!1,e),Wo(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zr]||(t[zr]=!0,Wo("selectionchange",!1,t))}}function nf(e,t,a,n){switch(Af(t)){case 2:var r=Kg;break;case 8:r=Zg;break;default:r=hc}a=r.bind(null,t,a,e),r=void 0,!yi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),n?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Fo(e,t,a,n,r){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var b=n.stateNode.containerInfo;if(b===r)break;if(m===4)for(m=n.return;m!==null;){var j=m.tag;if((j===3||j===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;b!==null;){if(m=Ns(b),m===null)return;if(j=m.tag,j===5||j===6||j===26||j===27){n=c=m;continue e}b=b.parentNode}}n=n.return}du(function(){var R=c,Y=pi(a),V=[];e:{var L=Bu.get(e);if(L!==void 0){var B=Jl,he=e;switch(e){case"keypress":if(Kl(a)===0)break e;case"keydown":case"keyup":B=g0;break;case"focusin":he="focus",B=_i;break;case"focusout":he="blur",B=_i;break;case"beforeblur":case"afterblur":B=_i;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=s0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=b0;break;case Mu:case zu:case Lu:B=r0;break;case qu:B=v0;break;case"scroll":case"scrollend":B=t0;break;case"wheel":B=j0;break;case"copy":case"cut":case"paste":B=o0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=xu;break;case"toggle":case"beforetoggle":B=N0}var oe=(t&4)!==0,Ue=!oe&&(e==="scroll"||e==="scrollend"),A=oe?L!==null?L+"Capture":null:L;oe=[];for(var N=R,U;N!==null;){var P=N;if(U=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||U===null||A===null||(P=Mn(N,A),P!=null&&oe.push(pl(N,P,U))),Ue)break;N=N.return}0<oe.length&&(L=new B(L,he,null,a,Y),V.push({event:L,listeners:oe}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",L&&a!==xi&&(he=a.relatedTarget||a.fromElement)&&(Ns(he)||he[_s]))break e;if((B||L)&&(L=Y.window===Y?Y:(L=Y.ownerDocument)?L.defaultView||L.parentWindow:window,B?(he=a.relatedTarget||a.toElement,B=R,he=he?Ns(he):null,he!==null&&(Ue=h(he),oe=he.tag,he!==Ue||oe!==5&&oe!==27&&oe!==6)&&(he=null)):(B=null,he=R),B!==he)){if(oe=mu,P="onMouseLeave",A="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(oe=xu,P="onPointerLeave",A="onPointerEnter",N="pointer"),Ue=B==null?L:Rn(B),U=he==null?L:Rn(he),L=new oe(P,N+"leave",B,a,Y),L.target=Ue,L.relatedTarget=U,P=null,Ns(Y)===R&&(oe=new oe(A,N+"enter",he,a,Y),oe.target=U,oe.relatedTarget=Ue,P=oe),Ue=P,B&&he)t:{for(oe=B,A=he,N=0,U=oe;U;U=nn(U))N++;for(U=0,P=A;P;P=nn(P))U++;for(;0<N-U;)oe=nn(oe),N--;for(;0<U-N;)A=nn(A),U--;for(;N--;){if(oe===A||A!==null&&oe===A.alternate)break t;oe=nn(oe),A=nn(A)}oe=null}else oe=null;B!==null&&lf(V,L,B,oe,!1),he!==null&&Ue!==null&&lf(V,Ue,he,oe,!0)}}e:{if(L=R?Rn(R):window,B=L.nodeName&&L.nodeName.toLowerCase(),B==="select"||B==="input"&&L.type==="file")var ne=Nu;else if(ju(L))if(Su)ne=R0;else{ne=D0;var ye=O0}else B=L.nodeName,!B||B.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?R&&gi(R.elementType)&&(ne=Nu):ne=U0;if(ne&&(ne=ne(e,R))){_u(V,ne,a,Y);break e}ye&&ye(e,L,R),e==="focusout"&&R&&L.type==="number"&&R.memoizedProps.value!=null&&mi(L,"number",L.value)}switch(ye=R?Rn(R):window,e){case"focusin":(ju(ye)||ye.contentEditable==="true")&&(Rs=ye,Ai=R,Gn=null);break;case"focusout":Gn=Ai=Rs=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Uu(V,a,Y);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":Uu(V,a,Y)}var re;if(Si)e:{switch(e){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Us?vu(e,a)&&(ce="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ce="onCompositionStart");ce&&(pu&&a.locale!=="ko"&&(Us||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Us&&(re=hu()):(wa=Y,vi="value"in wa?wa.value:wa.textContent,Us=!0)),ye=Lr(R,ce),0<ye.length&&(ce=new gu(ce,e,null,a,Y),V.push({event:ce,listeners:ye}),re?ce.data=re:(re=wu(a),re!==null&&(ce.data=re)))),(re=k0?E0(e,a):T0(e,a))&&(ce=Lr(R,"onBeforeInput"),0<ce.length&&(ye=new gu("onBeforeInput","beforeinput",null,a,Y),V.push({event:ye,listeners:ce}),ye.data=re)),bg(V,e,R,a,Y)}sf(V,t)})}function pl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Lr(e,t){for(var a=t+"Capture",n=[];e!==null;){var r=e,c=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||c===null||(r=Mn(e,a),r!=null&&n.unshift(pl(e,r,c)),r=Mn(e,t),r!=null&&n.push(pl(e,r,c))),e.tag===3)return n;e=e.return}return[]}function nn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lf(e,t,a,n,r){for(var c=t._reactName,m=[];a!==null&&a!==n;){var b=a,j=b.alternate,R=b.stateNode;if(b=b.tag,j!==null&&j===n)break;b!==5&&b!==26&&b!==27||R===null||(j=R,r?(R=Mn(a,c),R!=null&&m.unshift(pl(a,R,j))):r||(R=Mn(a,c),R!=null&&m.push(pl(a,R,j)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var jg=/\r\n?/g,_g=/\u0000|\uFFFD/g;function rf(e){return(typeof e=="string"?e:""+e).replace(jg,`
`).replace(_g,"")}function of(e,t){return t=rf(t),rf(e)===t}function qr(){}function De(e,t,a,n,r,c){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Cs(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Cs(e,""+n);break;case"className":Gl(e,"class",n);break;case"tabIndex":Gl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Gl(e,a,n);break;case"style":cu(e,n,c);break;case"data":if(t!=="object"){Gl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Xl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",r.name,r,null),De(e,t,"formEncType",r.formEncType,r,null),De(e,t,"formMethod",r.formMethod,r,null),De(e,t,"formTarget",r.formTarget,r,null)):(De(e,t,"encType",r.encType,r,null),De(e,t,"method",r.method,r,null),De(e,t,"target",r.target,r,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Xl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=qr);break;case"onScroll":n!=null&&je("scroll",e);break;case"onScrollEnd":n!=null&&je("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Xl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":je("beforetoggle",e),je("toggle",e),Yl(e,"popover",n);break;case"xlinkActuate":ta(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ta(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ta(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ta(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ta(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ta(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ta(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ta(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ta(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Yl(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fm.get(a)||a,Yl(e,a,n))}}function ec(e,t,a,n,r,c){switch(a){case"style":cu(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(i(61));if(a=n.__html,a!=null){if(r.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Cs(e,n):(typeof n=="number"||typeof n=="bigint")&&Cs(e,""+n);break;case"onScroll":n!=null&&je("scroll",e);break;case"onScrollEnd":n!=null&&je("scrollend",e);break;case"onClick":n!=null&&(e.onclick=qr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ic.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),c=e[dt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,r),typeof n=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,r);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Yl(e,a,n)}}}function lt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",e),je("load",e);var n=!1,r=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":n=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,c,m,a,null)}}r&&De(e,t,"srcSet",a.srcSet,a,null),n&&De(e,t,"src",a.src,a,null);return;case"input":je("invalid",e);var b=c=m=r=null,j=null,R=null;for(n in a)if(a.hasOwnProperty(n)){var Y=a[n];if(Y!=null)switch(n){case"name":r=Y;break;case"type":m=Y;break;case"checked":j=Y;break;case"defaultChecked":R=Y;break;case"value":c=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,t));break;default:De(e,t,n,Y,a,null)}}lu(e,c,b,j,R,m,r,!1),Pl(e);return;case"select":je("invalid",e),n=m=c=null;for(r in a)if(a.hasOwnProperty(r)&&(b=a[r],b!=null))switch(r){case"value":c=b;break;case"defaultValue":m=b;break;case"multiple":n=b;default:De(e,t,r,b,a,null)}t=c,a=m,e.multiple=!!n,t!=null?As(e,!!n,t,!1):a!=null&&As(e,!!n,a,!0);return;case"textarea":je("invalid",e),c=r=n=null;for(m in a)if(a.hasOwnProperty(m)&&(b=a[m],b!=null))switch(m){case"value":n=b;break;case"defaultValue":r=b;break;case"children":c=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:De(e,t,m,b,a,null)}iu(e,n,r,c),Pl(e);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:De(e,t,j,n,a,null)}return;case"dialog":je("beforetoggle",e),je("toggle",e),je("cancel",e),je("close",e);break;case"iframe":case"object":je("load",e);break;case"video":case"audio":for(n=0;n<xl.length;n++)je(xl[n],e);break;case"image":je("error",e),je("load",e);break;case"details":je("toggle",e);break;case"embed":case"source":case"link":je("error",e),je("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(n=a[R],n!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:De(e,t,R,n,a,null)}return;default:if(gi(t)){for(Y in a)a.hasOwnProperty(Y)&&(n=a[Y],n!==void 0&&ec(e,t,Y,n,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(n=a[b],n!=null&&De(e,t,b,n,a,null))}function Ng(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,c=null,m=null,b=null,j=null,R=null,Y=null;for(B in a){var V=a[B];if(a.hasOwnProperty(B)&&V!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":j=V;default:n.hasOwnProperty(B)||De(e,t,B,null,n,V)}}for(var L in n){var B=n[L];if(V=a[L],n.hasOwnProperty(L)&&(B!=null||V!=null))switch(L){case"type":c=B;break;case"name":r=B;break;case"checked":R=B;break;case"defaultChecked":Y=B;break;case"value":m=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,t));break;default:B!==V&&De(e,t,L,B,n,V)}}fi(e,m,b,j,R,Y,c,r);return;case"select":B=m=b=L=null;for(c in a)if(j=a[c],a.hasOwnProperty(c)&&j!=null)switch(c){case"value":break;case"multiple":B=j;default:n.hasOwnProperty(c)||De(e,t,c,null,n,j)}for(r in n)if(c=n[r],j=a[r],n.hasOwnProperty(r)&&(c!=null||j!=null))switch(r){case"value":L=c;break;case"defaultValue":b=c;break;case"multiple":m=c;default:c!==j&&De(e,t,r,c,n,j)}t=b,a=m,n=B,L!=null?As(e,!!a,L,!1):!!n!=!!a&&(t!=null?As(e,!!a,t,!0):As(e,!!a,a?[]:"",!1));return;case"textarea":B=L=null;for(b in a)if(r=a[b],a.hasOwnProperty(b)&&r!=null&&!n.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:De(e,t,b,null,n,r)}for(m in n)if(r=n[m],c=a[m],n.hasOwnProperty(m)&&(r!=null||c!=null))switch(m){case"value":L=r;break;case"defaultValue":B=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(i(91));break;default:r!==c&&De(e,t,m,r,n,c)}ru(e,L,B);return;case"option":for(var he in a)if(L=a[he],a.hasOwnProperty(he)&&L!=null&&!n.hasOwnProperty(he))switch(he){case"selected":e.selected=!1;break;default:De(e,t,he,null,n,L)}for(j in n)if(L=n[j],B=a[j],n.hasOwnProperty(j)&&L!==B&&(L!=null||B!=null))switch(j){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:De(e,t,j,L,n,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)L=a[oe],a.hasOwnProperty(oe)&&L!=null&&!n.hasOwnProperty(oe)&&De(e,t,oe,null,n,L);for(R in n)if(L=n[R],B=a[R],n.hasOwnProperty(R)&&L!==B&&(L!=null||B!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,t));break;default:De(e,t,R,L,n,B)}return;default:if(gi(t)){for(var Ue in a)L=a[Ue],a.hasOwnProperty(Ue)&&L!==void 0&&!n.hasOwnProperty(Ue)&&ec(e,t,Ue,void 0,n,L);for(Y in n)L=n[Y],B=a[Y],!n.hasOwnProperty(Y)||L===B||L===void 0&&B===void 0||ec(e,t,Y,L,n,B);return}}for(var A in a)L=a[A],a.hasOwnProperty(A)&&L!=null&&!n.hasOwnProperty(A)&&De(e,t,A,null,n,L);for(V in n)L=n[V],B=a[V],!n.hasOwnProperty(V)||L===B||L==null&&B==null||De(e,t,V,L,n,B)}var tc=null,ac=null;function Br(e){return e.nodeType===9?e:e.ownerDocument}function cf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nc=null;function Sg(){var e=window.event;return e&&e.type==="popstate"?e===nc?!1:(nc=e,!0):(nc=null,!1)}var df=typeof setTimeout=="function"?setTimeout:void 0,kg=typeof clearTimeout=="function"?clearTimeout:void 0,hf=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof hf<"u"?function(e){return hf.resolve(null).then(e).catch(Tg)}:df;function Tg(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function ff(e,t){var a=t,n=0,r=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(0<n&&8>n){a=n;var m=e.ownerDocument;if(a&1&&bl(m.documentElement),a&2&&bl(m.body),a&4)for(a=m.head,bl(a),m=a.firstChild;m;){var b=m.nextSibling,j=m.nodeName;m[Un]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=b}}if(r===0){e.removeChild(c),kl(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:n=a.charCodeAt(0)-48;else n=0;a=c}while(a);kl(t)}function lc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lc(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Ag(e,t,a,n){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Un])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Cg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Gt(e.nextSibling),e===null))return null;return e}function rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Og(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ic=null;function mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function gf(e,t,a){switch(t=Br(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function bl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ci(e)}var zt=new Map,xf=new Set;function Hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ga=Z.d;Z.d={f:Dg,r:Ug,D:Rg,C:Mg,L:zg,m:Lg,X:Bg,S:qg,M:Hg};function Dg(){var e=ga.f(),t=Or();return e||t}function Ug(e){var t=Ss(e);t!==null&&t.tag===5&&t.type==="form"?Md(t):ga.r(e)}var ln=typeof document>"u"?null:document;function pf(e,t,a){var n=ln;if(n&&typeof t=="string"&&t){var r=At(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),xf.has(r)||(xf.add(r),e={rel:e,crossOrigin:a,href:t},n.querySelector(r)===null&&(t=n.createElement("link"),lt(t,"link",e),Ie(t),n.head.appendChild(t)))}}function Rg(e){ga.D(e),pf("dns-prefetch",e,null)}function Mg(e,t){ga.C(e,t),pf("preconnect",e,t)}function zg(e,t,a){ga.L(e,t,a);var n=ln;if(n&&e&&t){var r='link[rel="preload"][as="'+At(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+At(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+At(a.imageSizes)+'"]')):r+='[href="'+At(e)+'"]';var c=r;switch(t){case"style":c=rn(e);break;case"script":c=on(e)}zt.has(c)||(e=y({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),zt.set(c,e),n.querySelector(r)!==null||t==="style"&&n.querySelector(yl(c))||t==="script"&&n.querySelector(vl(c))||(t=n.createElement("link"),lt(t,"link",e),Ie(t),n.head.appendChild(t)))}}function Lg(e,t){ga.m(e,t);var a=ln;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+At(n)+'"][href="'+At(e)+'"]',c=r;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=on(e)}if(!zt.has(c)&&(e=y({rel:"modulepreload",href:e},t),zt.set(c,e),a.querySelector(r)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(c)))return}n=a.createElement("link"),lt(n,"link",e),Ie(n),a.head.appendChild(n)}}}function qg(e,t,a){ga.S(e,t,a);var n=ln;if(n&&e){var r=ks(n).hoistableStyles,c=rn(e);t=t||"default";var m=r.get(c);if(!m){var b={loading:0,preload:null};if(m=n.querySelector(yl(c)))b.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},a),(a=zt.get(c))&&oc(e,a);var j=m=n.createElement("link");Ie(j),lt(j,"link",e),j._p=new Promise(function(R,Y){j.onload=R,j.onerror=Y}),j.addEventListener("load",function(){b.loading|=1}),j.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$r(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:b},r.set(c,m)}}}function Bg(e,t){ga.X(e,t);var a=ln;if(a&&e){var n=ks(a).hoistableScripts,r=on(e),c=n.get(r);c||(c=a.querySelector(vl(r)),c||(e=y({src:e,async:!0},t),(t=zt.get(r))&&cc(e,t),c=a.createElement("script"),Ie(c),lt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function Hg(e,t){ga.M(e,t);var a=ln;if(a&&e){var n=ks(a).hoistableScripts,r=on(e),c=n.get(r);c||(c=a.querySelector(vl(r)),c||(e=y({src:e,async:!0,type:"module"},t),(t=zt.get(r))&&cc(e,t),c=a.createElement("script"),Ie(c),lt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(r,c))}}function bf(e,t,a,n){var r=(r=se.current)?Hr(r):null;if(!r)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=rn(a.href),a=ks(r).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=rn(a.href);var c=ks(r).hoistableStyles,m=c.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=r.querySelector(yl(e)))&&!c._p&&(m.instance=c,m.state.loading=5),zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zt.set(e,a),c||$g(r,e,a,m.state))),t&&n===null)throw Error(i(528,""));return m}if(t&&n!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=on(a),a=ks(r).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function rn(e){return'href="'+At(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function yf(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function $g(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),lt(t,"link",a),Ie(t),e.head.appendChild(t))}function on(e){return'[src="'+At(e)+'"]'}function vl(e){return"script[async]"+e}function vf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+At(a.href)+'"]');if(n)return t.instance=n,Ie(n),n;var r=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ie(n),lt(n,"style",r),$r(n,a.precedence,e),t.instance=n;case"stylesheet":r=rn(a.href);var c=e.querySelector(yl(r));if(c)return t.state.loading|=4,t.instance=c,Ie(c),c;n=yf(a),(r=zt.get(r))&&oc(n,r),c=(e.ownerDocument||e).createElement("link"),Ie(c);var m=c;return m._p=new Promise(function(b,j){m.onload=b,m.onerror=j}),lt(c,"link",n),t.state.loading|=4,$r(c,a.precedence,e),t.instance=c;case"script":return c=on(a.src),(r=e.querySelector(vl(c)))?(t.instance=r,Ie(r),r):(n=a,(r=zt.get(c))&&(n=y({},a),cc(n,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ie(r),lt(r,"link",n),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,$r(n,a.precedence,e));return t.instance}function $r(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=n.length?n[n.length-1]:null,c=r,m=0;m<n.length;m++){var b=n[m];if(b.dataset.precedence===t)c=b;else if(c!==r)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function oc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yr=null;function wf(e,t,a){if(Yr===null){var n=new Map,r=Yr=new Map;r.set(a,n)}else r=Yr,n=r.get(a),n||(n=new Map,r.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var c=a[r];if(!(c[Un]||c[rt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var b=n.get(m);b?b.push(c):n.set(m,[c])}}return n}function jf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Yg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var wl=null;function Gg(){}function Pg(e,t,a){if(wl===null)throw Error(i(475));var n=wl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=rn(a.href),c=e.querySelector(yl(r));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Gr.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=c,Ie(c);return}c=e.ownerDocument||e,a=yf(a),(r=zt.get(r))&&oc(a,r),c=c.createElement("link"),Ie(c);var m=c;m._p=new Promise(function(b,j){m.onload=b,m.onerror=j}),lt(c,"link",a),t.instance=c}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Gr.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Vg(){if(wl===null)throw Error(i(475));var e=wl;return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Gr(){if(this.count--,this.count===0){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Pr=null;function uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Pr=new Map,t.forEach(Xg,e),Pr=null,Gr.call(e))}function Xg(e,t){if(!(t.state.loading&4)){var a=Pr.get(e);if(a)var n=a.get(null);else{a=new Map,Pr.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<r.length;c++){var m=r[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}r=t.instance,m=r.getAttribute("data-precedence"),c=a.get(m)||n,c===n&&a.set(null,r),a.set(m,r),this.count++,n=Gr.bind(this),r.addEventListener("load",n),r.addEventListener("error",n),c?c.parentNode.insertBefore(r,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var jl={$$typeof:k,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Qg(e,t,a,n,r,c,m,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=js(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=js(0),this.hiddenUpdates=js(null),this.identifierPrefix=n,this.onUncaughtError=r,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Nf(e,t,a,n,r,c,m,b,j,R,Y,V){return e=new Qg(e,t,a,m,b,j,R,V),t=1,c===!0&&(t|=24),c=yt(3,null,null,t),e.current=c,c.stateNode=e,t=Pi(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:a,cache:t},Ki(c),e}function Sf(e){return e?(e=qs,e):qs}function kf(e,t,a,n,r,c){r=Sf(r),n.context===null?n.context=r:n.pendingContext=r,n=Na(t),n.payload={element:a},c=c===void 0?null:c,c!==null&&(n.callback=c),a=Sa(e,n,t),a!==null&&(Nt(a,e,t),In(a,e,t))}function Ef(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function dc(e,t){Ef(e,t),(e=e.alternate)&&Ef(e,t)}function Tf(e){if(e.tag===13){var t=Ls(e,67108864);t!==null&&Nt(t,e,67108864),dc(e,67108864)}}var Vr=!0;function Kg(e,t,a,n){var r=M.T;M.T=null;var c=Z.p;try{Z.p=2,hc(e,t,a,n)}finally{Z.p=c,M.T=r}}function Zg(e,t,a,n){var r=M.T;M.T=null;var c=Z.p;try{Z.p=8,hc(e,t,a,n)}finally{Z.p=c,M.T=r}}function hc(e,t,a,n){if(Vr){var r=fc(n);if(r===null)Fo(e,t,n,Xr,a),Cf(e,n);else if(Wg(r,e,t,a,n))n.stopPropagation();else if(Cf(e,n),t&4&&-1<Jg.indexOf(e)){for(;r!==null;){var c=Ss(r);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=Xt(c.pendingLanes);if(m!==0){var b=c;for(b.pendingLanes|=2,b.entangledLanes|=2;m;){var j=1<<31-Ke(m);b.entanglements[1]|=j,m&=~j}It(c),(Ae&6)===0&&(Ar=kt()+500,gl(0))}}break;case 13:b=Ls(c,2),b!==null&&Nt(b,c,2),Or(),dc(c,2)}if(c=fc(n),c===null&&Fo(e,t,n,Xr,a),c===r)break;r=c}r!==null&&n.stopPropagation()}else Fo(e,t,n,null,a)}}function fc(e){return e=pi(e),mc(e)}var Xr=null;function mc(e){if(Xr=null,e=Ns(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xr=e,null}function Af(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ii()){case kn:return 2;case En:return 8;case ee:case Ne:return 32;case pt:return 268435456;default:return 32}default:return 32}}var gc=!1,qa=null,Ba=null,Ha=null,_l=new Map,Nl=new Map,$a=[],Jg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cf(e,t){switch(e){case"focusin":case"focusout":qa=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Sl(e,t,a,n,r,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:c,targetContainers:[r]},t!==null&&(t=Ss(t),t!==null&&Tf(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Wg(e,t,a,n,r){switch(t){case"focusin":return qa=Sl(qa,e,t,a,n,r),!0;case"dragenter":return Ba=Sl(Ba,e,t,a,n,r),!0;case"mouseover":return Ha=Sl(Ha,e,t,a,n,r),!0;case"pointerover":var c=r.pointerId;return _l.set(c,Sl(_l.get(c)||null,e,t,a,n,r)),!0;case"gotpointercapture":return c=r.pointerId,Nl.set(c,Sl(Nl.get(c)||null,e,t,a,n,r)),!0}return!1}function Of(e){var t=Ns(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Ht(e.priority,function(){if(a.tag===13){var n=_t();n=Fa(n);var r=Ls(a,n);r!==null&&Nt(r,a,n),dc(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=fc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);xi=n,a.target.dispatchEvent(n),xi=null}else return t=Ss(a),t!==null&&Tf(t),e.blockedOn=a,!1;t.shift()}return!0}function Df(e,t,a){Qr(e)&&a.delete(t)}function Ig(){gc=!1,qa!==null&&Qr(qa)&&(qa=null),Ba!==null&&Qr(Ba)&&(Ba=null),Ha!==null&&Qr(Ha)&&(Ha=null),_l.forEach(Df),Nl.forEach(Df)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,gc||(gc=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,Ig)))}var Zr=null;function Uf(e){Zr!==e&&(Zr=e,d.unstable_scheduleCallback(d.unstable_NormalPriority,function(){Zr===e&&(Zr=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],r=e[t+2];if(typeof n!="function"){if(mc(n||a)===null)continue;break}var c=Ss(a);c!==null&&(e.splice(t,3),t-=3,mo(c,{pending:!0,data:r,method:a.method,action:n},n,r))}}))}function kl(e){function t(j){return Kr(j,e)}qa!==null&&Kr(qa,e),Ba!==null&&Kr(Ba,e),Ha!==null&&Kr(Ha,e),_l.forEach(t),Nl.forEach(t);for(var a=0;a<$a.length;a++){var n=$a[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<$a.length&&(a=$a[0],a.blockedOn===null);)Of(a),a.blockedOn===null&&$a.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var r=a[n],c=a[n+1],m=r[dt]||null;if(typeof c=="function")m||Uf(a);else if(m){var b=null;if(c&&c.hasAttribute("formAction")){if(r=c,m=c[dt]||null)b=m.formAction;else if(mc(r)!==null)continue}else b=m.action;typeof b=="function"?a[n+1]=b:(a.splice(n,3),n-=3),Uf(a)}}}function xc(e){this._internalRoot=e}Jr.prototype.render=xc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,n=_t();kf(a,n,e,t,null,null)},Jr.prototype.unmount=xc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kf(e.current,2,null,e,null,null),Or(),t[_s]=null}};function Jr(e){this._internalRoot=e}Jr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<$a.length&&t!==0&&t<$a[a].priority;a++);$a.splice(a,0,e),a===0&&Of(e)}};var Rf=l.version;if(Rf!=="19.1.1")throw Error(i(527,Rf,"19.1.1"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Fg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wr.isDisabled&&Wr.supportsFiber)try{Bt=Wr.inject(Fg),Qe=Wr}catch{}}return Tl.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,n="",r=Zd,c=Jd,m=Wd,b=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(b=t.unstable_transitionCallbacks)),t=Nf(e,1,!1,null,null,a,n,r,c,m,b,null),e[_s]=t.current,Io(e),new xc(t)},Tl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var n=!1,r="",c=Zd,m=Jd,b=Wd,j=null,R=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(R=a.formState)),t=Nf(e,1,!0,t,a??null,n,r,c,m,b,j,R),t.context=Sf(null),a=t.current,n=_t(),n=Fa(n),r=Na(n),r.callback=null,Sa(a,r,n),a=n,t.current.lanes=a,ya(t,a),It(t),e[_s]=t.current,Io(e),new Jr(t)},Tl.version="19.1.1",Tl}var Pf;function ux(){if(Pf)return yc.exports;Pf=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(l){console.error(l)}}return d(),yc.exports=cx(),yc.exports}var dx=ux();const hx=Yc(dx),fx="modulepreload",mx=function(d){return"/NYX/"+d},Vf={},Ml=function(l,o,i){let u=Promise.resolve();if(o&&o.length>0){let f=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));u=f(o.map(g=>{if(g=mx(g),g in Vf)return;Vf[g]=!0;const y=g.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const _=document.createElement("link");if(_.rel=y?"stylesheet":fx,y||(_.as="script"),_.crossOrigin="",_.href=g,x&&_.setAttribute("nonce",x),document.head.appendChild(_),y)return new Promise((T,C)=>{_.addEventListener("load",T),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${g}`)))})}))}function h(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return u.then(f=>{for(const p of f||[])p.status==="rejected"&&h(p.reason);return l().catch(h)})},gx=d=>{let l;return d?l=d:typeof fetch>"u"?l=(...o)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>_n);return{default:i}},void 0).then(({default:i})=>i(...o)):l=fetch,(...o)=>l(...o)};class Pc extends Error{constructor(l,o="FunctionsError",i){super(l),this.name=o,this.context=i}}class Xf extends Pc{constructor(l){super("Failed to send a request to the Edge Function","FunctionsFetchError",l)}}class Qf extends Pc{constructor(l){super("Relay Error invoking the Edge Function","FunctionsRelayError",l)}}class Kf extends Pc{constructor(l){super("Edge Function returned a non-2xx status code","FunctionsHttpError",l)}}var Oc;(function(d){d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2"})(Oc||(Oc={}));var xx=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class px{constructor(l,{headers:o={},customFetch:i,region:u=Oc.Any}={}){this.url=l,this.headers=o,this.region=u,this.fetch=gx(i)}setAuth(l){this.headers.Authorization=`Bearer ${l}`}invoke(l,o={}){var i;return xx(this,void 0,void 0,function*(){try{const{headers:u,method:h,body:f,signal:p}=o;let x={},{region:g}=o;g||(g=this.region);const y=new URL(`${this.url}/${l}`);g&&g!=="any"&&(x["x-region"]=g,y.searchParams.set("forceFunctionRegion",g));let v;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",v=f):typeof f=="string"?(x["Content-Type"]="text/plain",v=f):typeof FormData<"u"&&f instanceof FormData?v=f:(x["Content-Type"]="application/json",v=JSON.stringify(f)));const _=yield this.fetch(y.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),u),body:v,signal:p}).catch(O=>{throw O.name==="AbortError"?O:new Xf(O)}),T=_.headers.get("x-relay-error");if(T&&T==="true")throw new Qf(_);if(!_.ok)throw new Kf(_);let C=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield _.json():C==="application/octet-stream"?E=yield _.blob():C==="text/event-stream"?E=_:C==="multipart/form-data"?E=yield _.formData():E=yield _.text(),{data:E,error:null,response:_}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new Xf(u)}:{data:null,error:u,response:u instanceof Kf||u instanceof Qf?u.context:void 0}}})}}var at={},cn={},un={},dn={},hn={},fn={},bx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=bx();const yx=jn.fetch,bm=jn.fetch.bind(jn),ym=jn.Headers,vx=jn.Request,wx=jn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:ym,Request:vx,Response:wx,default:bm,fetch:yx},Symbol.toStringTag,{value:"Module"})),jx=tx(_n);var Ir={},Zf;function vm(){if(Zf)return Ir;Zf=1,Object.defineProperty(Ir,"__esModule",{value:!0});class d extends Error{constructor(o){super(o.message),this.name="PostgrestError",this.details=o.details,this.hint=o.hint,this.code=o.code}}return Ir.default=d,Ir}var Jf;function wm(){if(Jf)return fn;Jf=1;var d=fn&&fn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(fn,"__esModule",{value:!0});const l=d(jx),o=d(vm());class i{constructor(h){var f,p;this.shouldThrowOnError=!1,this.method=h.method,this.url=h.url,this.headers=new Headers(h.headers),this.schema=h.schema,this.body=h.body,this.shouldThrowOnError=(f=h.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=h.signal,this.isMaybeSingle=(p=h.isMaybeSingle)!==null&&p!==void 0?p:!1,h.fetch?this.fetch=h.fetch:typeof fetch>"u"?this.fetch=l.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(h,f){return this.headers=new Headers(this.headers),this.headers.set(h,f),this}then(h,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let x=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,v,_,T;let C=null,E=null,O=null,K=g.status,S=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Q=await g.text();Q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?E=Q:E=JSON.parse(Q))}const z=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),$=(_=g.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");z&&$&&$.length>1&&(O=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(C={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,O=null,K=406,S="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const z=await g.text();try{C=JSON.parse(z),Array.isArray(C)&&g.status===404&&(E=[],C=null,K=200,S="OK")}catch{g.status===404&&z===""?(K=204,S="No Content"):C={message:z}}if(C&&this.isMaybeSingle&&(!((T=C==null?void 0:C.details)===null||T===void 0)&&T.includes("0 rows"))&&(C=null,K=200,S="OK"),C&&this.shouldThrowOnError)throw new o.default(C)}return{error:C,data:E,count:O,status:K,statusText:S}});return this.shouldThrowOnError||(x=x.catch(g=>{var y,v,_;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(v=g==null?void 0:g.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(_=g==null?void 0:g.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),x.then(h,f)}returns(){return this}overrideTypes(){return this}}return fn.default=i,fn}var Wf;function jm(){if(Wf)return hn;Wf=1;var d=hn&&hn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(hn,"__esModule",{value:!0});const l=d(wm());class o extends l.default{select(u){let h=!1;const f=(u??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:h=!0,nullsFirst:f,foreignTable:p,referencedTable:x=p}={}){const g=x?`${x}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${u}.${h?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:h,referencedTable:f=h}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${u}`),this}range(u,h,{foreignTable:f,referencedTable:p=f}={}){const x=typeof p>"u"?"offset":`${p}.offset`,g=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(x,`${u}`),this.url.searchParams.set(g,`${h-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:h=!1,settings:f=!1,buffers:p=!1,wal:x=!1,format:g="text"}={}){var y;const v=[u?"analyze":null,h?"verbose":null,f?"settings":null,p?"buffers":null,x?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${_}"; options=${v};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return hn.default=o,hn}var If;function Vc(){if(If)return dn;If=1;var d=dn&&dn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(dn,"__esModule",{value:!0});const l=d(jm());class o extends l.default{eq(u,h){return this.url.searchParams.append(u,`eq.${h}`),this}neq(u,h){return this.url.searchParams.append(u,`neq.${h}`),this}gt(u,h){return this.url.searchParams.append(u,`gt.${h}`),this}gte(u,h){return this.url.searchParams.append(u,`gte.${h}`),this}lt(u,h){return this.url.searchParams.append(u,`lt.${h}`),this}lte(u,h){return this.url.searchParams.append(u,`lte.${h}`),this}like(u,h){return this.url.searchParams.append(u,`like.${h}`),this}likeAllOf(u,h){return this.url.searchParams.append(u,`like(all).{${h.join(",")}}`),this}likeAnyOf(u,h){return this.url.searchParams.append(u,`like(any).{${h.join(",")}}`),this}ilike(u,h){return this.url.searchParams.append(u,`ilike.${h}`),this}ilikeAllOf(u,h){return this.url.searchParams.append(u,`ilike(all).{${h.join(",")}}`),this}ilikeAnyOf(u,h){return this.url.searchParams.append(u,`ilike(any).{${h.join(",")}}`),this}is(u,h){return this.url.searchParams.append(u,`is.${h}`),this}in(u,h){const f=Array.from(new Set(h)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cs.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cs.{${h.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(h)}`),this}containedBy(u,h){return typeof h=="string"?this.url.searchParams.append(u,`cd.${h}`):Array.isArray(h)?this.url.searchParams.append(u,`cd.{${h.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(h)}`),this}rangeGt(u,h){return this.url.searchParams.append(u,`sr.${h}`),this}rangeGte(u,h){return this.url.searchParams.append(u,`nxl.${h}`),this}rangeLt(u,h){return this.url.searchParams.append(u,`sl.${h}`),this}rangeLte(u,h){return this.url.searchParams.append(u,`nxr.${h}`),this}rangeAdjacent(u,h){return this.url.searchParams.append(u,`adj.${h}`),this}overlaps(u,h){return typeof h=="string"?this.url.searchParams.append(u,`ov.${h}`):this.url.searchParams.append(u,`ov.{${h.join(",")}}`),this}textSearch(u,h,{config:f,type:p}={}){let x="";p==="plain"?x="pl":p==="phrase"?x="ph":p==="websearch"&&(x="w");const g=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${x}fts${g}.${h}`),this}match(u){return Object.entries(u).forEach(([h,f])=>{this.url.searchParams.append(h,`eq.${f}`)}),this}not(u,h,f){return this.url.searchParams.append(u,`not.${h}.${f}`),this}or(u,{foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${u})`),this}filter(u,h,f){return this.url.searchParams.append(u,`${h}.${f}`),this}}return dn.default=o,dn}var Ff;function _m(){if(Ff)return un;Ff=1;var d=un&&un.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(un,"__esModule",{value:!0});const l=d(Vc());class o{constructor(u,{headers:h={},schema:f,fetch:p}){this.url=u,this.headers=new Headers(h),this.schema=f,this.fetch=p}select(u,{head:h=!1,count:f}={}){const p=h?"HEAD":"GET";let x=!1;const g=(u??"*").split("").map(y=>/\s/.test(y)&&!x?"":(y==='"'&&(x=!x),y)).join("");return this.url.searchParams.set("select",g),f&&this.headers.append("Prefer",`count=${f}`),new l.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:h,defaultToNull:f=!0}={}){var p;const x="POST";if(h&&this.headers.append("Prefer",`count=${h}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(g.length>0){const y=[...new Set(g)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new l.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(u,{onConflict:h,ignoreDuplicates:f=!1,count:p,defaultToNull:x=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),h!==void 0&&this.url.searchParams.set("on_conflict",h),p&&this.headers.append("Prefer",`count=${p}`),x||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const v=u.reduce((_,T)=>_.concat(Object.keys(T)),[]);if(v.length>0){const _=[...new Set(v)].map(T=>`"${T}"`);this.url.searchParams.set("columns",_.join(","))}}return new l.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:h}={}){var f;const p="PATCH";return h&&this.headers.append("Prefer",`count=${h}`),new l.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var h;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new l.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return un.default=o,un}var em;function _x(){if(em)return cn;em=1;var d=cn&&cn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(cn,"__esModule",{value:!0});const l=d(_m()),o=d(Vc());class i{constructor(h,{headers:f={},schema:p,fetch:x}={}){this.url=h,this.headers=new Headers(f),this.schemaName=p,this.fetch=x}from(h){const f=new URL(`${this.url}/${h}`);return new l.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new i(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,f={},{head:p=!1,get:x=!1,count:g}={}){var y;let v;const _=new URL(`${this.url}/rpc/${h}`);let T;p||x?(v=p?"HEAD":"GET",Object.entries(f).filter(([E,O])=>O!==void 0).map(([E,O])=>[E,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([E,O])=>{_.searchParams.append(E,O)})):(v="POST",T=f);const C=new Headers(this.headers);return g&&C.set("Prefer",`count=${g}`),new o.default({method:v,url:_,headers:C,schema:this.schemaName,body:T,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return cn.default=i,cn}var tm;function Nx(){if(tm)return at;tm=1;var d=at&&at.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(at,"__esModule",{value:!0}),at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const l=d(_x());at.PostgrestClient=l.default;const o=d(_m());at.PostgrestQueryBuilder=o.default;const i=d(Vc());at.PostgrestFilterBuilder=i.default;const u=d(jm());at.PostgrestTransformBuilder=u.default;const h=d(wm());at.PostgrestBuilder=h.default;const f=d(vm());return at.PostgrestError=f.default,at.default={PostgrestClient:l.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:h.default,PostgrestError:f.default},at}var Sx=Nx();const kx=Yc(Sx),{PostgrestClient:Ex,PostgrestQueryBuilder:dy,PostgrestFilterBuilder:hy,PostgrestTransformBuilder:fy,PostgrestBuilder:my,PostgrestError:gy}=kx;class Tx{static detectEnvironment(){var l;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((l=navigator.userAgent)===null||l===void 0)&&l.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const i=o.node,u=parseInt(i.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const l=this.detectEnvironment();if(l.constructor)return l.constructor;let o=l.error||"WebSocket not supported in this environment.";throw l.workaround&&(o+=`

Suggested solution: ${l.workaround}`),new Error(o)}static createWebSocket(l,o){const i=this.getWebSocketConstructor();return new i(l,o)}static isWebSocketSupported(){try{const l=this.detectEnvironment();return l.type==="native"||l.type==="ws"}catch{return!1}}}const Ax="2.15.5",Cx=`realtime-js/${Ax}`,Ox="1.0.0",Dc=1e4,Dx=1e3,Ux=100;var Ol;(function(d){d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed"})(Ol||(Ol={}));var We;(function(d){d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving"})(We||(We={}));var Pt;(function(d){d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token"})(Pt||(Pt={}));var Uc;(function(d){d.websocket="websocket"})(Uc||(Uc={}));var vs;(function(d){d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed"})(vs||(vs={}));class Rx{constructor(){this.HEADER_LENGTH=1}decode(l,o){return l.constructor===ArrayBuffer?o(this._binaryDecode(l)):o(typeof l=="string"?JSON.parse(l):{})}_binaryDecode(l){const o=new DataView(l),i=new TextDecoder;return this._decodeBroadcast(l,o,i)}_decodeBroadcast(l,o,i){const u=o.getUint8(1),h=o.getUint8(2);let f=this.HEADER_LENGTH+2;const p=i.decode(l.slice(f,f+u));f=f+u;const x=i.decode(l.slice(f,f+h));f=f+h;const g=JSON.parse(i.decode(l.slice(f,l.byteLength)));return{ref:null,topic:p,event:x,payload:g}}}class Nm{constructor(l,o){this.callback=l,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=l,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(d){d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange"})(Le||(Le={}));const am=(d,l,o={})=>{var i;const u=(i=o.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(l).reduce((h,f)=>(h[f]=Mx(f,d,l,u),h),{})},Mx=(d,l,o,i)=>{const u=l.find(p=>p.name===d),h=u==null?void 0:u.type,f=o[d];return h&&!i.includes(h)?Sm(h,f):Rc(f)},Sm=(d,l)=>{if(d.charAt(0)==="_"){const o=d.slice(1,d.length);return Bx(l,o)}switch(d){case Le.bool:return zx(l);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return Lx(l);case Le.json:case Le.jsonb:return qx(l);case Le.timestamp:return Hx(l);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Rc(l);default:return Rc(l)}},Rc=d=>d,zx=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},Lx=d=>{if(typeof d=="string"){const l=parseFloat(d);if(!Number.isNaN(l))return l}return d},qx=d=>{if(typeof d=="string")try{return JSON.parse(d)}catch(l){return console.log(`JSON parse error: ${l}`),d}return d},Bx=(d,l)=>{if(typeof d!="string")return d;const o=d.length-1,i=d[o];if(d[0]==="{"&&i==="}"){let h;const f=d.slice(1,o);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(p=>Sm(l,p))}return d},Hx=d=>typeof d=="string"?d.replace(" ","T"):d,km=d=>{let l=d;return l=l.replace(/^ws/i,"http"),l=l.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),l.replace(/\/+$/,"")+"/api/broadcast"};class _c{constructor(l,o,i={},u=Dc){this.channel=l,this.event=o,this.payload=i,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(l){this.timeout=l,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(l){this.payload=Object.assign(Object.assign({},this.payload),l)}receive(l,o){var i;return this._hasReceived(l)&&o((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:l,callback:o}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const l=o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)};this.channel._on(this.refEvent,{},l),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(l,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:l,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:l,response:o}){this.recHooks.filter(i=>i.status===l).forEach(i=>i.callback(o))}_hasReceived(l){return this.receivedResp&&this.receivedResp.status===l}}var sm;(function(d){d.SYNC="sync",d.JOIN="join",d.LEAVE="leave"})(sm||(sm={}));class Dl{constructor(l,o){this.channel=l,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(o==null?void 0:o.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dl.syncState(this.state,u,h,f),this.pendingDiffs.forEach(x=>{this.state=Dl.syncDiff(this.state,x,h,f)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Dl.syncDiff(this.state,u,h,f),p())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(l,o,i,u){const h=this.cloneDeep(l),f=this.transformState(o),p={},x={};return this.map(h,(g,y)=>{f[g]||(x[g]=y)}),this.map(f,(g,y)=>{const v=h[g];if(v){const _=y.map(O=>O.presence_ref),T=v.map(O=>O.presence_ref),C=y.filter(O=>T.indexOf(O.presence_ref)<0),E=v.filter(O=>_.indexOf(O.presence_ref)<0);C.length>0&&(p[g]=C),E.length>0&&(x[g]=E)}else p[g]=y}),this.syncDiff(h,{joins:p,leaves:x},i,u)}static syncDiff(l,o,i,u){const{joins:h,leaves:f}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return i||(i=()=>{}),u||(u=()=>{}),this.map(h,(p,x)=>{var g;const y=(g=l[p])!==null&&g!==void 0?g:[];if(l[p]=this.cloneDeep(x),y.length>0){const v=l[p].map(T=>T.presence_ref),_=y.filter(T=>v.indexOf(T.presence_ref)<0);l[p].unshift(..._)}i(p,y,x)}),this.map(f,(p,x)=>{let g=l[p];if(!g)return;const y=x.map(v=>v.presence_ref);g=g.filter(v=>y.indexOf(v.presence_ref)<0),l[p]=g,u(p,g,x),g.length===0&&delete l[p]}),l}static map(l,o){return Object.getOwnPropertyNames(l).map(i=>o(i,l[i]))}static transformState(l){return l=this.cloneDeep(l),Object.getOwnPropertyNames(l).reduce((o,i)=>{const u=l[i];return"metas"in u?o[i]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):o[i]=u,o},{})}static cloneDeep(l){return JSON.parse(JSON.stringify(l))}onJoin(l){this.caller.onJoin=l}onLeave(l){this.caller.onLeave=l}onSync(l){this.caller.onSync=l}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nm;(function(d){d.ALL="*",d.INSERT="INSERT",d.UPDATE="UPDATE",d.DELETE="DELETE"})(nm||(nm={}));var Ul;(function(d){d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system"})(Ul||(Ul={}));var xa;(function(d){d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class Xc{constructor(l,o={config:{}},i){this.topic=l,this.params=o,this.socket=i,this.bindings={},this.state=We.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=l.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new _c(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new Nm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=We.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=We.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=We.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Dl(this),this.broadcastEndpointURL=km(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(l,o=this.timeout){var i,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==We.closed){const{config:{broadcast:f,presence:p,private:x}}=this.params,g=(u=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(T=>T.filter))!==null&&u!==void 0?u:[],y=!!this.bindings[Ul.PRESENCE]&&this.bindings[Ul.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,v={},_={broadcast:f,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:x};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(T=>l==null?void 0:l(xa.CHANNEL_ERROR,T)),this._onClose(()=>l==null?void 0:l(xa.CLOSED)),this.updateJoinPayload(Object.assign({config:_},v)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",async({postgres_changes:T})=>{var C;if(this.socket.setAuth(),T===void 0){l==null||l(xa.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(C=E==null?void 0:E.length)!==null&&C!==void 0?C:0,K=[];for(let S=0;S<O;S++){const k=E[S],{filter:{event:z,schema:$,table:Q,filter:F}}=k,J=T&&T[S];if(J&&J.event===z&&J.schema===$&&J.table===Q&&J.filter===F)K.push(Object.assign(Object.assign({},k),{id:J.id}));else{this.unsubscribe(),this.state=We.errored,l==null||l(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=K,l&&l(xa.SUBSCRIBED);return}}).receive("error",T=>{this.state=We.errored,l==null||l(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{l==null||l(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(l,o={}){return await this.send({type:"presence",event:"track",payload:l},o.timeout||this.timeout)}async untrack(l={}){return await this.send({type:"presence",event:"untrack"},l)}on(l,o,i){return this.state===We.joined&&l===Ul.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(l,o,i)}async send(l,o={}){var i,u;if(!this._canPush()&&l.type==="broadcast"){const{event:h,payload:f}=l,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(i=o.timeout)!==null&&i!==void 0?i:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,p,x;const g=this._push(l.type,l,o.timeout||this.timeout);l.type==="broadcast"&&!(!((x=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||x===void 0)&&x.ack)&&h("ok"),g.receive("ok",()=>h("ok")),g.receive("error",()=>h("error")),g.receive("timeout",()=>h("timed out"))})}updateJoinPayload(l){this.joinPush.updatePayload(l)}unsubscribe(l=this.timeout){this.state=We.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(u=>{i=new _c(this,Pt.leave,{},l),i.receive("ok",()=>{o(),u("ok")}).receive("timeout",()=>{o(),u("timed out")}).receive("error",()=>{u("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(l=>l.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=We.closed,this.bindings={}}async _fetchWithTimeout(l,o,i){const u=new AbortController,h=setTimeout(()=>u.abort(),i),f=await this.socket.fetch(l,Object.assign(Object.assign({},o),{signal:u.signal}));return clearTimeout(h),f}_push(l,o,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${l}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new _c(this,l,o,i);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(l){if(l.startTimeout(),this.pushBuffer.push(l),this.pushBuffer.length>Ux){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(l,o,i){return o}_isMember(l){return this.topic===l}_joinRef(){return this.joinPush.ref}_trigger(l,o,i){var u,h;const f=l.toLocaleLowerCase(),{close:p,error:x,leave:g,join:y}=Pt;if(i&&[p,x,g,y].indexOf(f)>=0&&i!==this._joinRef())return;let _=this._onMessage(f,o,i);if(o&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var C,E,O;return((C=T.filter)===null||C===void 0?void 0:C.event)==="*"||((O=(E=T.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===f}).map(T=>T.callback(_,i)):(h=this.bindings[f])===null||h===void 0||h.filter(T=>{var C,E,O,K,S,k;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in T){const z=T.id,$=(C=T.filter)===null||C===void 0?void 0:C.event;return z&&((E=o.ids)===null||E===void 0?void 0:E.includes(z))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((O=o.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const z=(S=(K=T==null?void 0:T.filter)===null||K===void 0?void 0:K.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return z==="*"||z===((k=o==null?void 0:o.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===f}).map(T=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:E,table:O,commit_timestamp:K,type:S,errors:k}=C;_=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:K,eventType:S,new:{},old:{},errors:k}),this._getPayloadRecords(C))}T.callback(_,i)})}_isClosed(){return this.state===We.closed}_isJoined(){return this.state===We.joined}_isJoining(){return this.state===We.joining}_isLeaving(){return this.state===We.leaving}_replyEventName(l){return`chan_reply_${l}`}_on(l,o,i){const u=l.toLocaleLowerCase(),h={type:u,filter:o,callback:i};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(l,o){const i=l.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===i&&Xc.isEqual(u.filter,o))})),this}static isEqual(l,o){if(Object.keys(l).length!==Object.keys(o).length)return!1;for(const i in l)if(l[i]!==o[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(l){this._on(Pt.close,{},l)}_onError(l){this._on(Pt.error,{},o=>l(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(l=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=We.joining,this.joinPush.resend(l))}_getPayloadRecords(l){const o={new:{},old:{}};return(l.type==="INSERT"||l.type==="UPDATE")&&(o.new=am(l.columns,l.record)),(l.type==="UPDATE"||l.type==="DELETE")&&(o.old=am(l.columns,l.old_record)),o}}const Nc=()=>{},Fr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$x=[1e3,2e3,5e3,1e4],Yx=1e4,Gx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Px{constructor(l,o){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dc,this.transport=null,this.heartbeatIntervalMs=Fr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nc,this.ref=0,this.reconnectTimer=null,this.logger=Nc,this.conn=null,this.sendBuffer=[],this.serializer=new Rx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let h;return u?h=u:typeof fetch>"u"?h=(...f)=>Ml(async()=>{const{default:p}=await Promise.resolve().then(()=>_n);return{default:p}},void 0).then(({default:p})=>p(...f)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):h=fetch,(...f)=>h(...f)},!(!((i=o==null?void 0:o.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${l}/${Uc.websocket}`,this.httpEndpoint=km(l),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o==null?void 0:o.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tx.createWebSocket(this.endpointURL())}catch(l){this._setConnectionState("disconnected");const o=l.message;throw o.includes("Node.js")?new Error(`${o}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ox}))}disconnect(l,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},l?this.conn.close(l,o??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(l){const o=await l.unsubscribe();return this.channels.length===0&&this.disconnect(),o}async removeAllChannels(){const l=await Promise.all(this.channels.map(o=>o.unsubscribe()));return this.channels=[],this.disconnect(),l}log(l,o,i){this.logger(l,o,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ol.connecting:return vs.Connecting;case Ol.open:return vs.Open;case Ol.closing:return vs.Closing;default:return vs.Closed}}isConnected(){return this.connectionState()===vs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(l,o={config:{}}){const i=`realtime:${l}`,u=this.getChannels().find(h=>h.topic===i);if(u)return u;{const h=new Xc(`realtime:${l}`,o,this);return this.channels.push(h),h}}push(l){const{topic:o,event:i,payload:u,ref:h}=l,f=()=>{this.encode(l,p=>{var x;(x=this.conn)===null||x===void 0||x.send(p)})};this.log("push",`${o} ${i} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(l=null){this._authPromise=this._performAuth(l);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var l;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(o){this.log("error","error in heartbeat callback",o)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(o){this.log("error","error in heartbeat callback",o)}this._wasManualDisconnect=!1,(l=this.conn)===null||l===void 0||l.close(Dx,"heartbeat timeout"),setTimeout(()=>{var o;this.isConnected()||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout()},Fr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(o){this.log("error","error in heartbeat callback",o)}this._setAuthSafely("heartbeat")}onHeartbeat(l){this.heartbeatCallback=l}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(l=>l()),this.sendBuffer=[])}_makeRef(){let l=this.ref+1;return l===this.ref?this.ref=0:this.ref=l,this.ref.toString()}_leaveOpenTopic(l){let o=this.channels.find(i=>i.topic===l&&(i._isJoined()||i._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${l}"`),o.unsubscribe())}_remove(l){this.channels=this.channels.filter(o=>o.topic!==l.topic)}_onConnMessage(l){this.decode(l.data,o=>{if(o.topic==="phoenix"&&o.event==="phx_reply")try{this.heartbeatCallback(o.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:u,payload:h,ref:f}=o,p=f?`(${f})`:"",x=h.status||"";this.log("receive",`${x} ${i} ${u} ${p}`.trim(),h),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(u,h,f)),this._triggerStateCallbacks("message",o)})}_clearTimer(l){var o;l==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):l==="reconnect"&&((o=this.reconnectTimer)===null||o===void 0||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=l=>this._onConnError(l),this.conn.onmessage=l=>this._onConnMessage(l),this.conn.onclose=l=>this._onConnClose(l))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(l=>l.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const l=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(l),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{o.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(l){var o;this._setConnectionState("disconnected"),this.log("transport","close",l),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(o=this.reconnectTimer)===null||o===void 0||o.scheduleTimeout(),this._triggerStateCallbacks("close",l)}_onConnError(l){this._setConnectionState("disconnected"),this.log("transport",`${l}`),this._triggerChanError(),this._triggerStateCallbacks("error",l)}_triggerChanError(){this.channels.forEach(l=>l._trigger(Pt.error))}_appendParams(l,o){if(Object.keys(o).length===0)return l;const i=l.match(/\?/)?"&":"?",u=new URLSearchParams(o);return`${l}${i}${u}`}_workerObjectUrl(l){let o;if(l)o=l;else{const i=new Blob([Gx],{type:"application/javascript"});o=URL.createObjectURL(i)}return o}_setConnectionState(l,o=!1){this._connectionState=l,l==="connecting"?this._wasManualDisconnect=!1:l==="disconnecting"&&(this._wasManualDisconnect=o)}async _performAuth(l=null){let o;l?o=l:this.accessToken?o=await this.accessToken():o=this.accessTokenValue,this.accessTokenValue!=o&&(this.accessTokenValue=o,this.channels.forEach(i=>{const u={access_token:o,version:Cx};o&&i.updateJoinPayload(u),i.joinedOnce&&i._isJoined()&&i._push(Pt.access_token,{access_token:o})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(l="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${l}`,o)})}_triggerStateCallbacks(l,o){try{this.stateChangeCallbacks[l].forEach(i=>{try{i(o)}catch(u){this.log("error",`error in ${l} callback`,u)}})}catch(i){this.log("error",`error triggering ${l} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Nm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(l){var o,i,u,h,f,p,x,g,y;if(this.transport=(o=l==null?void 0:l.transport)!==null&&o!==void 0?o:null,this.timeout=(i=l==null?void 0:l.timeout)!==null&&i!==void 0?i:Dc,this.heartbeatIntervalMs=(u=l==null?void 0:l.heartbeatIntervalMs)!==null&&u!==void 0?u:Fr.HEARTBEAT_INTERVAL,this.worker=(h=l==null?void 0:l.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=l==null?void 0:l.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(p=l==null?void 0:l.heartbeatCallback)!==null&&p!==void 0?p:Nc,l!=null&&l.params&&(this.params=l.params),l!=null&&l.logger&&(this.logger=l.logger),(l!=null&&l.logLevel||l!=null&&l.log_level)&&(this.logLevel=l.logLevel||l.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=l==null?void 0:l.reconnectAfterMs)!==null&&x!==void 0?x:(v=>$x[v-1]||Yx),this.encode=(g=l==null?void 0:l.encode)!==null&&g!==void 0?g:((v,_)=>_(JSON.stringify(v))),this.decode=(y=l==null?void 0:l.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=l==null?void 0:l.workerUrl}}}class Qc extends Error{constructor(l){super(l),this.__isStorageError=!0,this.name="StorageError"}}function Xe(d){return typeof d=="object"&&d!==null&&"__isStorageError"in d}class Vx extends Qc{constructor(l,o,i){super(l),this.name="StorageApiError",this.status=o,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mc extends Qc{constructor(l,o){super(l),this.name="StorageUnknownError",this.originalError=o}}var Xx=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const Em=d=>{let l;return d?l=d:typeof fetch>"u"?l=(...o)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>_n);return{default:i}},void 0).then(({default:i})=>i(...o)):l=fetch,(...o)=>l(...o)},Qx=()=>Xx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ml(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),zc=d=>{if(Array.isArray(d))return d.map(o=>zc(o));if(typeof d=="function"||d!==Object(d))return d;const l={};return Object.entries(d).forEach(([o,i])=>{const u=o.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));l[u]=zc(i)}),l},Kx=d=>{if(typeof d!="object"||d===null)return!1;const l=Object.getPrototypeOf(d);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in d)&&!(Symbol.iterator in d)};var ws=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const Sc=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),Zx=(d,l,o)=>ws(void 0,void 0,void 0,function*(){const i=yield Qx();d instanceof i&&!(o!=null&&o.noResolveJson)?d.json().then(u=>{const h=d.status||500,f=(u==null?void 0:u.statusCode)||h+"";l(new Vx(Sc(u),h,f))}).catch(u=>{l(new Mc(Sc(u),u))}):l(new Mc(Sc(d),d))}),Jx=(d,l,o,i)=>{const u={method:d,headers:(l==null?void 0:l.headers)||{}};return d==="GET"||!i?u:(Kx(i)?(u.headers=Object.assign({"Content-Type":"application/json"},l==null?void 0:l.headers),u.body=JSON.stringify(i)):u.body=i,l!=null&&l.duplex&&(u.duplex=l.duplex),Object.assign(Object.assign({},u),o))};function zl(d,l,o,i,u,h){return ws(this,void 0,void 0,function*(){return new Promise((f,p)=>{d(o,Jx(l,i,u,h)).then(x=>{if(!x.ok)throw x;return i!=null&&i.noResolveJson?x:x.json()}).then(x=>f(x)).catch(x=>Zx(x,p,i))})})}function ai(d,l,o,i){return ws(this,void 0,void 0,function*(){return zl(d,"GET",l,o,i)})}function ea(d,l,o,i,u){return ws(this,void 0,void 0,function*(){return zl(d,"POST",l,i,u,o)})}function Lc(d,l,o,i,u){return ws(this,void 0,void 0,function*(){return zl(d,"PUT",l,i,u,o)})}function Wx(d,l,o,i){return ws(this,void 0,void 0,function*(){return zl(d,"HEAD",l,Object.assign(Object.assign({},o),{noResolveJson:!0}),i)})}function Tm(d,l,o,i,u){return ws(this,void 0,void 0,function*(){return zl(d,"DELETE",l,i,u,o)})}var Ix=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class Fx{constructor(l,o){this.downloadFn=l,this.shouldThrowOnError=o}then(l,o){return this.execute().then(l,o)}execute(){return Ix(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}}var ep=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class tp{constructor(l,o){this.downloadFn=l,this.shouldThrowOnError=o}asStream(){return new Fx(this.downloadFn,this.shouldThrowOnError)}then(l,o){return this.execute().then(l,o)}execute(){return ep(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}}var xt=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const ap={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},lm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sp{constructor(l,o={},i,u){this.shouldThrowOnError=!1,this.url=l,this.headers=o,this.bucketId=i,this.fetch=Em(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(l,o,i,u){return xt(this,void 0,void 0,function*(){try{let h;const f=Object.assign(Object.assign({},lm),u);let p=Object.assign(Object.assign({},this.headers),l==="POST"&&{"x-upsert":String(f.upsert)});const x=f.metadata;typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),x&&h.append("metadata",this.encodeMetadata(x)),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",f.cacheControl),x&&h.append("metadata",this.encodeMetadata(x))):(h=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,x&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),u!=null&&u.headers&&(p=Object.assign(Object.assign({},p),u.headers));const g=this._removeEmptyFolders(o),y=this._getFinalPath(g),v=yield(l=="PUT"?Lc:ea)(this.fetch,`${this.url}/object/${y}`,h,Object.assign({headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:v.Id,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Xe(h))return{data:null,error:h};throw h}})}upload(l,o,i){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",l,o,i)})}uploadToSignedUrl(l,o,i,u){return xt(this,void 0,void 0,function*(){const h=this._removeEmptyFolders(l),f=this._getFinalPath(h),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",o);try{let x;const g=Object.assign({upsert:lm.upsert},u),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(x=new FormData,x.append("cacheControl",g.cacheControl),x.append("",i)):typeof FormData<"u"&&i instanceof FormData?(x=i,x.append("cacheControl",g.cacheControl)):(x=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const v=yield Lc(this.fetch,p.toString(),x,{headers:y});return{data:{path:h,fullPath:v.Key},error:null}}catch(x){if(this.shouldThrowOnError)throw x;if(Xe(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(l,o){return xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(l);const u=Object.assign({},this.headers);o!=null&&o.upsert&&(u["x-upsert"]="true");const h=yield ea(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:u}),f=new URL(this.url+h.url),p=f.searchParams.get("token");if(!p)throw new Qc("No token returned by API");return{data:{signedUrl:f.toString(),path:l,token:p},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}update(l,o,i){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",l,o,i)})}move(l,o,i){return xt(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:l,destinationKey:o,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Xe(u))return{data:null,error:u};throw u}})}copy(l,o,i){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield ea(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:l,destinationKey:o,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Xe(u))return{data:null,error:u};throw u}})}createSignedUrl(l,o,i){return xt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(l),h=yield ea(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:o},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return h={signedUrl:encodeURI(`${this.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Xe(u))return{data:null,error:u};throw u}})}createSignedUrls(l,o,i){return xt(this,void 0,void 0,function*(){try{const u=yield ea(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:l},{headers:this.headers}),h=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Xe(u))return{data:null,error:u};throw u}})}download(l,o){const u=typeof(o==null?void 0:o.transform)<"u"?"render/image/authenticated":"object",h=this.transformOptsToQueryString((o==null?void 0:o.transform)||{}),f=h?`?${h}`:"",p=this._getFinalPath(l),x=()=>ai(this.fetch,`${this.url}/${u}/${p}${f}`,{headers:this.headers,noResolveJson:!0});return new tp(x,this.shouldThrowOnError)}info(l){return xt(this,void 0,void 0,function*(){const o=this._getFinalPath(l);try{const i=yield ai(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:zc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}exists(l){return xt(this,void 0,void 0,function*(){const o=this._getFinalPath(l);try{return yield Wx(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i)&&i instanceof Mc){const u=i.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:i}}throw i}})}getPublicUrl(l,o){const i=this._getFinalPath(l),u=[],h=o!=null&&o.download?`download=${o.download===!0?"":o.download}`:"";h!==""&&u.push(h);const p=typeof(o==null?void 0:o.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((o==null?void 0:o.transform)||{});x!==""&&u.push(x);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${g}`)}}}remove(l){return xt(this,void 0,void 0,function*(){try{return{data:yield Tm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:l},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}list(l,o,i){return xt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},ap),o),{prefix:l||""});return{data:yield ea(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},i),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Xe(u))return{data:null,error:u};throw u}})}listV2(l,o){return xt(this,void 0,void 0,function*(){try{const i=Object.assign({},l);return{data:yield ea(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},o),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const o=[];return l.width&&o.push(`width=${l.width}`),l.height&&o.push(`height=${l.height}`),l.resize&&o.push(`resize=${l.resize}`),l.format&&o.push(`format=${l.format}`),l.quality&&o.push(`quality=${l.quality}`),o.join("&")}}const np="2.12.2",lp={"X-Client-Info":`storage-js/${np}`};var mn=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class rp{constructor(l,o={},i,u){this.shouldThrowOnError=!1;const h=new URL(l);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(h.hostname)&&!h.hostname.includes("storage.supabase.")&&(h.hostname=h.hostname.replace("supabase.","storage.supabase.")),this.url=h.href,this.headers=Object.assign(Object.assign({},lp),o),this.fetch=Em(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Xe(l))return{data:null,error:l};throw l}})}getBucket(l){return mn(this,void 0,void 0,function*(){try{return{data:yield ai(this.fetch,`${this.url}/bucket/${l}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}createBucket(l,o={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket`,{id:l,name:l,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}updateBucket(l,o){return mn(this,void 0,void 0,function*(){try{return{data:yield Lc(this.fetch,`${this.url}/bucket/${l}`,{id:l,name:l,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Xe(i))return{data:null,error:i};throw i}})}emptyBucket(l){return mn(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${l}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}deleteBucket(l){return mn(this,void 0,void 0,function*(){try{return{data:yield Tm(this.fetch,`${this.url}/bucket/${l}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Xe(o))return{data:null,error:o};throw o}})}}class ip extends rp{constructor(l,o={},i,u){super(l,o,i,u)}from(l){return new sp(this.url,this.headers,l,this.fetch)}}const op="2.58.0";let Cl="";typeof Deno<"u"?Cl="deno":typeof document<"u"?Cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cl="react-native":Cl="node";const cp={"X-Client-Info":`supabase-js-${Cl}/${op}`},up={headers:cp},dp={schema:"public"},hp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fp={};var mp=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};const gp=d=>{let l;return d?l=d:typeof fetch>"u"?l=bm:l=fetch,(...o)=>l(...o)},xp=()=>typeof Headers>"u"?ym:Headers,pp=(d,l,o)=>{const i=gp(o),u=xp();return(h,f)=>mp(void 0,void 0,void 0,function*(){var p;const x=(p=yield l())!==null&&p!==void 0?p:d;let g=new u(f==null?void 0:f.headers);return g.has("apikey")||g.set("apikey",d),g.has("Authorization")||g.set("Authorization",`Bearer ${x}`),i(h,Object.assign(Object.assign({},f),{headers:g}))})};var bp=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};function yp(d){return d.endsWith("/")?d:d+"/"}function vp(d,l){var o,i;const{db:u,auth:h,realtime:f,global:p}=d,{db:x,auth:g,realtime:y,global:v}=l,_={db:Object.assign(Object.assign({},x),u),auth:Object.assign(Object.assign({},g),h),realtime:Object.assign(Object.assign({},y),f),storage:{},global:Object.assign(Object.assign(Object.assign({},v),p),{headers:Object.assign(Object.assign({},(o=v==null?void 0:v.headers)!==null&&o!==void 0?o:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>bp(this,void 0,void 0,function*(){return""})};return d.accessToken?_.accessToken=d.accessToken:delete _.accessToken,_}function wp(d){const l=d==null?void 0:d.trim();if(!l)throw new Error("supabaseUrl is required.");if(!l.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(yp(l))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Am="2.72.0",vn=30*1e3,qc=3,kc=qc*vn,jp="http://localhost:9999",_p="supabase.auth.token",Np={"X-Client-Info":`gotrue-js/${Am}`},Bc="X-Supabase-Api-Version",Cm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kp=600*1e3;class Kc extends Error{constructor(l,o,i){super(l),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=i}}function ge(d){return typeof d=="object"&&d!==null&&"__isAuthError"in d}class Ep extends Kc{constructor(l,o,i){super(l,o,i),this.name="AuthApiError",this.status=o,this.code=i}}function Tp(d){return ge(d)&&d.name==="AuthApiError"}class Om extends Kc{constructor(l,o){super(l),this.name="AuthUnknownError",this.originalError=o}}class Xa extends Kc{constructor(l,o,i,u){super(l,i,u),this.name=o,this.status=i}}class Pa extends Xa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ap(d){return ge(d)&&d.name==="AuthSessionMissingError"}class Al extends Xa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ei extends Xa{constructor(l){super(l,"AuthInvalidCredentialsError",400,void 0)}}class ti extends Xa{constructor(l,o=null){super(l,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cp(d){return ge(d)&&d.name==="AuthImplicitGrantRedirectError"}class rm extends Xa{constructor(l,o=null){super(l,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hc extends Xa{constructor(l,o){super(l,"AuthRetryableFetchError",o,void 0)}}function Ec(d){return ge(d)&&d.name==="AuthRetryableFetchError"}class im extends Xa{constructor(l,o,i){super(l,"AuthWeakPasswordError",o,"weak_password"),this.reasons=i}}class $c extends Xa{constructor(l){super(l,"AuthInvalidJwtError",400,"invalid_jwt")}}const si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),om=` 	
\r=`.split(""),Op=(()=>{const d=new Array(128);for(let l=0;l<d.length;l+=1)d[l]=-1;for(let l=0;l<om.length;l+=1)d[om[l].charCodeAt(0)]=-2;for(let l=0;l<si.length;l+=1)d[si[l].charCodeAt(0)]=l;return d})();function cm(d,l,o){if(d!==null)for(l.queue=l.queue<<8|d,l.queuedBits+=8;l.queuedBits>=6;){const i=l.queue>>l.queuedBits-6&63;o(si[i]),l.queuedBits-=6}else if(l.queuedBits>0)for(l.queue=l.queue<<6-l.queuedBits,l.queuedBits=6;l.queuedBits>=6;){const i=l.queue>>l.queuedBits-6&63;o(si[i]),l.queuedBits-=6}}function Dm(d,l,o){const i=Op[d];if(i>-1)for(l.queue=l.queue<<6|i,l.queuedBits+=6;l.queuedBits>=8;)o(l.queue>>l.queuedBits-8&255),l.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}}function um(d){const l=[],o=f=>{l.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{Rp(f,i,o)};for(let f=0;f<d.length;f+=1)Dm(d.charCodeAt(f),u,h);return l.join("")}function Dp(d,l){if(d<=127){l(d);return}else if(d<=2047){l(192|d>>6),l(128|d&63);return}else if(d<=65535){l(224|d>>12),l(128|d>>6&63),l(128|d&63);return}else if(d<=1114111){l(240|d>>18),l(128|d>>12&63),l(128|d>>6&63),l(128|d&63);return}throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}function Up(d,l){for(let o=0;o<d.length;o+=1){let i=d.charCodeAt(o);if(i>55295&&i<=56319){const u=(i-55296)*1024&65535;i=(d.charCodeAt(o+1)-56320&65535|u)+65536,o+=1}Dp(i,l)}}function Rp(d,l,o){if(l.utf8seq===0){if(d<=127){o(d);return}for(let i=1;i<6;i+=1)if((d>>7-i&1)===0){l.utf8seq=i;break}if(l.utf8seq===2)l.codepoint=d&31;else if(l.utf8seq===3)l.codepoint=d&15;else if(l.utf8seq===4)l.codepoint=d&7;else throw new Error("Invalid UTF-8 sequence");l.utf8seq-=1}else if(l.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");l.codepoint=l.codepoint<<6|d&63,l.utf8seq-=1,l.utf8seq===0&&o(l.codepoint)}}function Mp(d){const l=[],o={queue:0,queuedBits:0},i=u=>{l.push(u)};for(let u=0;u<d.length;u+=1)Dm(d.charCodeAt(u),o,i);return new Uint8Array(l)}function zp(d){const l=[];return Up(d,o=>l.push(o)),new Uint8Array(l)}function Lp(d){const l=[],o={queue:0,queuedBits:0},i=u=>{l.push(u)};return d.forEach(u=>cm(u,o,i)),cm(null,o,i),l.join("")}function qp(d){return Math.round(Date.now()/1e3)+d}function Bp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){const l=Math.random()*16|0;return(d=="x"?l:l&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},Um=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function Hp(d){const l={},o=new URL(d);if(o.hash&&o.hash[0]==="#")try{new URLSearchParams(o.hash.substring(1)).forEach((u,h)=>{l[h]=u})}catch{}return o.searchParams.forEach((i,u)=>{l[u]=i}),l}const Rm=d=>{let l;return d?l=d:typeof fetch>"u"?l=(...o)=>Ml(async()=>{const{default:i}=await Promise.resolve().then(()=>_n);return{default:i}},void 0).then(({default:i})=>i(...o)):l=fetch,(...o)=>l(...o)},$p=d=>typeof d=="object"&&d!==null&&"status"in d&&"ok"in d&&"json"in d&&typeof d.json=="function",wn=async(d,l,o)=>{await d.setItem(l,JSON.stringify(o))},bs=async(d,l)=>{const o=await d.getItem(l);if(!o)return null;try{return JSON.parse(o)}catch{return o}},Ga=async(d,l)=>{await d.removeItem(l)};class ni{constructor(){this.promise=new ni.promiseConstructor((l,o)=>{this.resolve=l,this.reject=o})}}ni.promiseConstructor=Promise;function Tc(d){const l=d.split(".");if(l.length!==3)throw new $c("Invalid JWT structure");for(let i=0;i<l.length;i++)if(!Sp.test(l[i]))throw new $c("JWT not in base64url format");return{header:JSON.parse(um(l[0])),payload:JSON.parse(um(l[1])),signature:Mp(l[2]),raw:{header:l[0],payload:l[1]}}}async function Yp(d){return await new Promise(l=>{setTimeout(()=>l(null),d)})}function Gp(d,l){return new Promise((i,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await d(h);if(!l(h,null,f)){i(f);return}}catch(f){if(!l(h,f)){u(f);return}}})()})}function Pp(d){return("0"+d.toString(16)).substr(-2)}function Vp(){const l=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=o.length;let u="";for(let h=0;h<56;h++)u+=o.charAt(Math.floor(Math.random()*i));return u}return crypto.getRandomValues(l),Array.from(l,Pp).join("")}async function Xp(d){const o=new TextEncoder().encode(d),i=await crypto.subtle.digest("SHA-256",o),u=new Uint8Array(i);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function Qp(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const o=await Xp(d);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(d,l,o=!1){const i=Vp();let u=i;o&&(u+="/PASSWORD_RECOVERY"),await wn(d,`${l}-code-verifier`,u);const h=await Qp(i);return[h,i===h?"plain":"s256"]}const Kp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zp(d){const l=d.headers.get(Bc);if(!l||!l.match(Kp))return null;try{return new Date(`${l}T00:00:00.0Z`)}catch{return null}}function Jp(d){if(!d)throw new Error("Missing exp claim");const l=Math.floor(Date.now()/1e3);if(d<=l)throw new Error("JWT has expired")}function Wp(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ip=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xn(d){if(!Ip.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ac(){const d={};return new Proxy(d,{get:(l,o)=>{if(o==="__isUserNotAvailableProxy")return!0;if(typeof o=="symbol"){const i=o.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(l,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(l,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dm(d){return JSON.parse(JSON.stringify(d))}var Fp=function(d,l){var o={};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&l.indexOf(i)<0&&(o[i]=d[i]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(d);u<i.length;u++)l.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(d,i[u])&&(o[i[u]]=d[i[u]]);return o};const ys=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),eb=[502,503,504];async function hm(d){var l;if(!$p(d))throw new Hc(ys(d),0);if(eb.includes(d.status))throw new Hc(ys(d),d.status);let o;try{o=await d.json()}catch(h){throw new Om(ys(h),h)}let i;const u=Zp(d);if(u&&u.getTime()>=Cm["2024-01-01"].timestamp&&typeof o=="object"&&o&&typeof o.code=="string"?i=o.code:typeof o=="object"&&o&&typeof o.error_code=="string"&&(i=o.error_code),i){if(i==="weak_password")throw new im(ys(o),d.status,((l=o.weak_password)===null||l===void 0?void 0:l.reasons)||[]);if(i==="session_not_found")throw new Pa}else if(typeof o=="object"&&o&&typeof o.weak_password=="object"&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new im(ys(o),d.status,o.weak_password.reasons);throw new Ep(ys(o),d.status||500,i)}const tb=(d,l,o,i)=>{const u={method:d,headers:(l==null?void 0:l.headers)||{}};return d==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},l==null?void 0:l.headers),u.body=JSON.stringify(i),Object.assign(Object.assign({},u),o))};async function ve(d,l,o,i){var u;const h=Object.assign({},i==null?void 0:i.headers);h[Bc]||(h[Bc]=Cm["2024-01-01"].name),i!=null&&i.jwt&&(h.Authorization=`Bearer ${i.jwt}`);const f=(u=i==null?void 0:i.query)!==null&&u!==void 0?u:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",x=await ab(d,l,o+p,{headers:h,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(x):{data:Object.assign({},x),error:null}}async function ab(d,l,o,i,u,h){const f=tb(l,i,u,h);let p;try{p=await d(o,Object.assign({},f))}catch(x){throw console.error(x),new Hc(ys(x),0)}if(p.ok||await hm(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(x){await hm(x)}}function Ft(d){var l;let o=null;rb(d)&&(o=Object.assign({},d),d.expires_at||(o.expires_at=qp(d.expires_in)));const i=(l=d.user)!==null&&l!==void 0?l:d;return{data:{session:o,user:i},error:null}}function fm(d){const l=Ft(d);return!l.error&&d.weak_password&&typeof d.weak_password=="object"&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&typeof d.weak_password.message=="string"&&d.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0)&&(l.data.weak_password=d.weak_password),l}function Va(d){var l;return{data:{user:(l=d.user)!==null&&l!==void 0?l:d},error:null}}function sb(d){return{data:d,error:null}}function nb(d){const{action_link:l,email_otp:o,hashed_token:i,redirect_to:u,verification_type:h}=d,f=Fp(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:l,email_otp:o,hashed_token:i,redirect_to:u,verification_type:h},x=Object.assign({},f);return{data:{properties:p,user:x},error:null}}function lb(d){return d}function rb(d){return d.access_token&&d.refresh_token&&d.expires_in}const Cc=["global","local","others"];var ib=function(d,l){var o={};for(var i in d)Object.prototype.hasOwnProperty.call(d,i)&&l.indexOf(i)<0&&(o[i]=d[i]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(d);u<i.length;u++)l.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(d,i[u])&&(o[i[u]]=d[i[u]]);return o};class ob{constructor({url:l="",headers:o={},fetch:i}){this.url=l,this.headers=o,this.fetch=Rm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(l,o=Cc[0]){if(Cc.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cc.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${o}`,{headers:this.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}async inviteUserByEmail(l,o={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:l,data:o.data},headers:this.headers,redirectTo:o.redirectTo,xform:Va})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async generateLink(l){try{const{options:o}=l,i=ib(l,["options"]),u=Object.assign(Object.assign({},i),o);return"newEmail"in i&&(u.new_email=i==null?void 0:i.newEmail,delete u.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:nb,redirectTo:o==null?void 0:o.redirectTo})}catch(o){if(ge(o))return{data:{properties:null,user:null},error:o};throw o}}async createUser(l){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:l,headers:this.headers,xform:Va})}catch(o){if(ge(o))return{data:{user:null},error:o};throw o}}async listUsers(l){var o,i,u,h,f,p,x;try{const g={nextPage:null,lastPage:0,total:0},y=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(o=l==null?void 0:l.page)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:"",per_page:(h=(u=l==null?void 0:l.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:lb});if(y.error)throw y.error;const v=await y.json(),_=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,T=(x=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&x!==void 0?x:[];return T.length>0&&(T.forEach(C=>{const E=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(C.split(";")[1].split("=")[1]);g[`${O}Page`]=E}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},v),g),error:null}}catch(g){if(ge(g))return{data:{users:[]},error:g};throw g}}async getUserById(l){xn(l);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${l}`,{headers:this.headers,xform:Va})}catch(o){if(ge(o))return{data:{user:null},error:o};throw o}}async updateUserById(l,o){xn(l);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${l}`,{body:o,headers:this.headers,xform:Va})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async deleteUser(l,o=!1){xn(l);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${l}`,{headers:this.headers,body:{should_soft_delete:o},xform:Va})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async _listFactors(l){xn(l.userId);try{const{data:o,error:i}=await ve(this.fetch,"GET",`${this.url}/admin/users/${l.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:o,error:i}}catch(o){if(ge(o))return{data:null,error:o};throw o}}async _deleteFactor(l){xn(l.userId),xn(l.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${l.userId}/factors/${l.id}`,{headers:this.headers}),error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}}}function mm(d={}){return{getItem:l=>d[l]||null,setItem:(l,o)=>{d[l]=o},removeItem:l=>{delete d[l]}}}function cb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const pn={debug:!!(globalThis&&Um()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Mm extends Error{constructor(l){super(l),this.isAcquireTimeout=!0}}class ub extends Mm{}async function db(d,l,o){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,l);const i=new globalThis.AbortController;return l>0&&setTimeout(()=>{i.abort(),pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},l),await Promise.resolve().then(()=>globalThis.navigator.locks.request(d,l===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async u=>{if(u){pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,u.name);try{return await o()}finally{pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,u.name)}}else{if(l===0)throw pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new ub(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(pn.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await o()}}))}function zm(d){if(!/^0x[a-fA-F0-9]{40}$/.test(d))throw new Error(`@supabase/auth-js: Address "${d}" is invalid.`);return d.toLowerCase()}function hb(d){return parseInt(d,16)}function fb(d){const l=new TextEncoder().encode(d);return"0x"+Array.from(l,i=>i.toString(16).padStart(2,"0")).join("")}function mb(d){var l;const{chainId:o,domain:i,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:p,requestId:x,resources:g,scheme:y,uri:v,version:_}=d;{if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((l=d.statement)===null||l===void 0)&&l.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${d.statement}`)}const T=zm(d.address),C=y?`${y}://${i}`:i,E=d.statement?`${d.statement}
`:"",O=`${C} wants you to sign in with your Ethereum account:
${T}

${E}`;let K=`URI: ${v}
Version: ${_}
Chain ID: ${o}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(K+=`
Expiration Time: ${u.toISOString()}`),p&&(K+=`
Not Before: ${p.toISOString()}`),x&&(K+=`
Request ID: ${x}`),g){let S=`
Resources:`;for(const k of g){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);S+=`
- ${k}`}K+=S}return`${O}
${K}`}cb();const gb={url:jp,storageKey:_p,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Np,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gm(d,l,o){return await o()}const bn={};class Rl{constructor(l){var o,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rl.nextInstanceID,Rl.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},gb),l);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new ob({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Rm(u.fetch),this.lock=u.lock||gm,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Lt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=db:this.lock=gm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Um()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mm(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=mm(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}get jwks(){var l,o;return(o=(l=bn[this.storageKey])===null||l===void 0?void 0:l.jwks)!==null&&o!==void 0?o:{keys:[]}}set jwks(l){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{jwks:l})}get jwks_cached_at(){var l,o;return(o=(l=bn[this.storageKey])===null||l===void 0?void 0:l.cachedAt)!==null&&o!==void 0?o:Number.MIN_SAFE_INTEGER}set jwks_cached_at(l){bn[this.storageKey]=Object.assign(Object.assign({},bn[this.storageKey]),{cachedAt:l})}_debug(...l){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Am}) ${new Date().toISOString()}`,...l),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var l;try{const o=Hp(window.location.href);let i="none";if(this._isImplicitGrantCallback(o)?i="implicit":await this._isPKCECallback(o)&&(i="pkce"),Lt()&&this.detectSessionInUrl&&i!=="none"){const{data:u,error:h}=await this._getSessionFromURL(o,i);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Cp(h)){const x=(l=h.details)===null||l===void 0?void 0:l.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:f,redirectType:p}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(o){return ge(o)?{error:o}:{error:new Om("Unexpected error during initialization",o)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(l){var o,i,u;try{const h=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(o=l==null?void 0:l.options)===null||o===void 0?void 0:o.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(u=l==null?void 0:l.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ft}),{data:f,error:p}=h;if(p||!f)return{data:{user:null,session:null},error:p};const x=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(h){if(ge(h))return{data:{user:null,session:null},error:h};throw h}}async signUp(l){var o,i,u;try{let h;if("email"in l){const{email:y,password:v,options:_}=l;let T=null,C=null;this.flowType==="pkce"&&([T,C]=await gn(this.storage,this.storageKey)),h=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:v,data:(o=_==null?void 0:_.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:T,code_challenge_method:C},xform:Ft})}else if("phone"in l){const{phone:y,password:v,options:_}=l;h=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(u=_==null?void 0:_.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ft})}else throw new ei("You must provide either an email or phone number and a password");const{data:f,error:p}=h;if(p||!f)return{data:{user:null,session:null},error:p};const x=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(h){if(ge(h))return{data:{user:null,session:null},error:h};throw h}}async signInWithPassword(l){try{let o;if("email"in l){const{email:h,password:f,options:p}=l;o=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:fm})}else if("phone"in l){const{phone:h,password:f,options:p}=l;o=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:fm})}else throw new ei("You must provide either an email or phone number and a password");const{data:i,error:u}=o;return u?{data:{user:null,session:null},error:u}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Al}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:u})}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOAuth(l){var o,i,u,h;return await this._handleProviderSignIn(l.provider,{redirectTo:(o=l.options)===null||o===void 0?void 0:o.redirectTo,scopes:(i=l.options)===null||i===void 0?void 0:i.scopes,queryParams:(u=l.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=l.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(l){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(l))}async signInWithWeb3(l){const{chain:o}=l;switch(o){case"ethereum":return await this.signInWithEthereum(l);case"solana":return await this.signInWithSolana(l);default:throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)}}async signInWithEthereum(l){var o,i,u,h,f,p,x,g,y,v,_;let T,C;if("message"in l)T=l.message,C=l.signature;else{const{chain:E,wallet:O,statement:K,options:S}=l;let k;if(Lt())if(typeof O=="object")k=O;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")k=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=O}const z=new URL((o=S==null?void 0:S.url)!==null&&o!==void 0?o:window.location.href),$=await k.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=zm($[0]);let F=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!F){const le=await k.request({method:"eth_chainId"});F=hb(le)}const J={domain:z.host,address:Q,statement:K,uri:z.href,version:"1",chainId:F,nonce:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(g=S==null?void 0:S.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=S==null?void 0:S.signInWithEthereum)===null||y===void 0?void 0:y.resources};T=mb(J),C=await k.request({method:"personal_sign",params:[fb(T),Q]})}try{const{data:E,error:O}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:C},!((v=l.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=l.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ft});if(O)throw O;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new Al}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:O})}catch(E){if(ge(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(l){var o,i,u,h,f,p,x,g,y,v,_,T;let C,E;if("message"in l)C=l.message,E=l.signature;else{const{chain:O,wallet:K,statement:S,options:k}=l;let z;if(Lt())if(typeof K=="object")z=K;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))z=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof K!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=K}const $=new URL((o=k==null?void 0:k.url)!==null&&o!==void 0?o:window.location.href);if("signIn"in z&&z.signIn){const Q=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),S?{statement:S}:null));let F;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")F=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)F=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)C=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${$.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(u=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((f=k==null?void 0:k.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((x=k==null?void 0:k.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((g=k==null?void 0:k.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((v=(y=k==null?void 0:k.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...k.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const Q=await z.signMessage(new TextEncoder().encode(C),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=Q}}try{const{data:O,error:K}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Lp(E)},!((_=l.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(T=l.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:Ft});if(K)throw K;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Al}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:K})}catch(O){if(ge(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(l){const o=await bs(this.storage,`${this.storageKey}-code-verifier`),[i,u]=(o??"").split("/");try{const{data:h,error:f}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:l,code_verifier:i},xform:Ft});if(await Ga(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!h||!h.session||!h.user?{data:{user:null,session:null,redirectType:null},error:new Al}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(ge(h))return{data:{user:null,session:null,redirectType:null},error:h};throw h}}async signInWithIdToken(l){try{const{options:o,provider:i,token:u,access_token:h,nonce:f}=l,p=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ft}),{data:x,error:g}=p;return g?{data:{user:null,session:null},error:g}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Al}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:g})}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithOtp(l){var o,i,u,h,f;try{if("email"in l){const{email:p,options:x}=l;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await gn(this.storage,this.storageKey));const{error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(o=x==null?void 0:x.data)!==null&&o!==void 0?o:{},create_user:(i=x==null?void 0:x.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in l){const{phone:p,options:x}=l,{data:g,error:y}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(u=x==null?void 0:x.data)!==null&&u!==void 0?u:{},create_user:(h=x==null?void 0:x.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(f=x==null?void 0:x.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new ei("You must provide either an email or phone number.")}catch(p){if(ge(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(l){var o,i;try{let u,h;"options"in l&&(u=(o=l.options)===null||o===void 0?void 0:o.redirectTo,h=(i=l.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:p}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},l),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Ft});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const x=f.session,g=f.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(l.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:g,session:x},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(l){var o,i,u;try{let h=null,f=null;return this.flowType==="pkce"&&([h,f]=await gn(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in l?{provider_id:l.providerId}:null),"domain"in l?{domain:l.domain}:null),{redirect_to:(i=(o=l.options)===null||o===void 0?void 0:o.redirectTo)!==null&&i!==void 0?i:void 0}),!((u=l==null?void 0:l.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:l.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:sb})}catch(h){if(ge(h))return{data:null,error:h};throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async l=>{const{data:{session:o},error:i}=l;if(i)throw i;if(!o)throw new Pa;const{error:u}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:o.access_token});return{data:{user:null,session:null},error:u}})}catch(l){if(ge(l))return{data:{user:null,session:null},error:l};throw l}}async resend(l){try{const o=`${this.url}/resend`;if("email"in l){const{email:i,type:u,options:h}=l,{error:f}=await ve(this.fetch,"POST",o,{headers:this.headers,body:{email:i,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in l){const{phone:i,type:u,options:h}=l,{data:f,error:p}=await ve(this.fetch,"POST",o,{headers:this.headers,body:{phone:i,type:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new ei("You must provide either an email or phone number and a type")}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async o=>o))}async _acquireLock(l,o){this._debug("#_acquireLock","begin",l);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await i,await o()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,l,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=o();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(l){this._debug("#_useSession","begin");try{const o=await this.__loadSession();return await l(o)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let l=null;const o=await bs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",o),o!==null&&(this._isValidSession(o)?l=o:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!l)return{data:{session:null},error:null};const i=l.expires_at?l.expires_at*1e3-Date.now()<kc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",l.expires_at),!i){if(this.userStorage){const f=await bs(this.userStorage,this.storageKey+"-user");f!=null&&f.user?l.user=f.user:l.user=Ac()}if(this.storage.isServer&&l.user){let f=this.suppressGetSessionWarning;l=new Proxy(l,{get:(x,g,y)=>(!f&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,g,y))})}return{data:{session:l},error:null}}const{session:u,error:h}=await this._callRefreshToken(l.refresh_token);return h?{data:{session:null},error:h}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(l){return l?await this._getUser(l):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(l){try{return l?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:l,xform:Va}):await this._useSession(async o=>{var i,u,h;const{data:f,error:p}=o;if(p)throw p;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pa}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:Va})})}catch(o){if(ge(o))return Ap(o)&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}}async updateUser(l,o={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(l,o))}async _updateUser(l,o={}){try{return await this._useSession(async i=>{const{data:u,error:h}=i;if(h)throw h;if(!u.session)throw new Pa;const f=u.session;let p=null,x=null;this.flowType==="pkce"&&l.email!=null&&([p,x]=await gn(this.storage,this.storageKey));const{data:g,error:y}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:o==null?void 0:o.emailRedirectTo,body:Object.assign(Object.assign({},l),{code_challenge:p,code_challenge_method:x}),jwt:f.access_token,xform:Va});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(ge(i))return{data:{user:null},error:i};throw i}}async setSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(l))}async _setSession(l){try{if(!l.access_token||!l.refresh_token)throw new Pa;const o=Date.now()/1e3;let i=o,u=!0,h=null;const{payload:f}=Tc(l.access_token);if(f.exp&&(i=f.exp,u=i<=o),u){const{session:p,error:x}=await this._callRefreshToken(l.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!p)return{data:{user:null,session:null},error:null};h=p}else{const{data:p,error:x}=await this._getUser(l.access_token);if(x)throw x;h={access_token:l.access_token,refresh_token:l.refresh_token,user:p.user,token_type:"bearer",expires_in:i-o,expires_at:i},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return{data:{user:h.user,session:h},error:null}}catch(o){if(ge(o))return{data:{session:null,user:null},error:o};throw o}}async refreshSession(l){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(l))}async _refreshSession(l){try{return await this._useSession(async o=>{var i;if(!l){const{data:f,error:p}=o;if(p)throw p;l=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(l!=null&&l.refresh_token))throw new Pa;const{session:u,error:h}=await this._callRefreshToken(l.refresh_token);return h?{data:{user:null,session:null},error:h}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async _getSessionFromURL(l,o){try{if(!Lt())throw new ti("No browser detected.");if(l.error||l.error_description||l.error_code)throw new ti(l.error_description||"Error in URL with unspecified error_description",{error:l.error||"unspecified_error",code:l.error_code||"unspecified_code"});switch(o){case"implicit":if(this.flowType==="pkce")throw new rm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ti("Not a valid implicit grant flow url.");break;default:}if(o==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!l.code)throw new rm("No code detected.");const{data:S,error:k}=await this._exchangeCodeForSession(l.code);if(k)throw k;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:p,expires_at:x,token_type:g}=l;if(!h||!p||!f||!g)throw new ti("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(p);let _=y+v;x&&(_=parseInt(x));const T=_-y;T*1e3<=vn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${v}s`);const C=_-v;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,y);const{data:E,error:O}=await this._getUser(h);if(O)throw O;const K={provider_token:i,provider_refresh_token:u,access_token:h,expires_in:v,expires_at:_,refresh_token:f,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:K,redirectType:l.type},error:null}}catch(i){if(ge(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(l){return!!(l.access_token||l.error_description)}async _isPKCECallback(l){const o=await bs(this.storage,`${this.storageKey}-code-verifier`);return!!(l.code&&o)}async signOut(l={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(l))}async _signOut({scope:l}={scope:"global"}){return await this._useSession(async o=>{var i;const{data:u,error:h}=o;if(h)return{error:h};const f=(i=u.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:p}=await this.admin.signOut(f,l);if(p&&!(Tp(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return l!=="others"&&(await this._removeSession(),await Ga(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(l){const o=Bp(),i={id:o,callback:l,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(o)})))(),{data:{subscription:i}}}async _emitInitialSession(l){return await this._useSession(async o=>{var i,u;try{const{data:{session:h},error:f}=o;if(f)throw f;await((i=this.stateChangeEmitters.get(l))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",l,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(l))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",l,"error",h),console.error(h)}})}async resetPasswordForEmail(l,o={}){let i=null,u=null;this.flowType==="pkce"&&([i,u]=await gn(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:l,code_challenge:i,code_challenge_method:u,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:this.headers,redirectTo:o.redirectTo})}catch(h){if(ge(h))return{data:null,error:h};throw h}}async getUserIdentities(){var l;try{const{data:o,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(l=o.user.identities)!==null&&l!==void 0?l:[]},error:null}}catch(o){if(ge(o))return{data:null,error:o};throw o}}async linkIdentity(l){var o;try{const{data:i,error:u}=await this._useSession(async h=>{var f,p,x,g,y;const{data:v,error:_}=h;if(_)throw _;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,l.provider,{redirectTo:(f=l.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=l.options)===null||p===void 0?void 0:p.scopes,queryParams:(x=l.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(g=v.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(u)throw u;return Lt()&&!(!((o=l.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:l.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ge(i))return{data:{provider:l.provider,url:null},error:i};throw i}}async unlinkIdentity(l){try{return await this._useSession(async o=>{var i,u;const{data:h,error:f}=o;if(f)throw f;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${l.identity_id}`,{headers:this.headers,jwt:(u=(i=h.session)===null||i===void 0?void 0:i.access_token)!==null&&u!==void 0?u:void 0})})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async _refreshAccessToken(l){const o=`#_refreshAccessToken(${l.substring(0,5)}...)`;this._debug(o,"begin");try{const i=Date.now();return await Gp(async u=>(u>0&&await Yp(200*Math.pow(2,u-1)),this._debug(o,"refreshing attempt",u),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:l},headers:this.headers,xform:Ft})),(u,h)=>{const f=200*Math.pow(2,u);return h&&Ec(h)&&Date.now()+f-i<vn})}catch(i){if(this._debug(o,"error",i),ge(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(o,"end")}}_isValidSession(l){return typeof l=="object"&&l!==null&&"access_token"in l&&"refresh_token"in l&&"expires_at"in l}async _handleProviderSignIn(l,o){const i=await this._getUrlForProvider(`${this.url}/authorize`,l,{redirectTo:o.redirectTo,scopes:o.scopes,queryParams:o.queryParams});return this._debug("#_handleProviderSignIn()","provider",l,"options",o,"url",i),Lt()&&!o.skipBrowserRedirect&&window.location.assign(i),{data:{provider:l,url:i},error:null}}async _recoverAndRefresh(){var l,o;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const u=await bs(this.storage,this.storageKey);if(u&&this.userStorage){let f=await bs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await wn(this.userStorage,this.storageKey+"-user",f)),u.user=(l=f==null?void 0:f.user)!==null&&l!==void 0?l:Ac()}else if(u&&!u.user&&!u.user){const f=await bs(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(u.user=f.user,await Ga(this.storage,this.storageKey+"-user"),await wn(this.storage,this.storageKey,u)):u.user=Ac()}if(this._debug(i,"session from storage",u),!this._isValidSession(u)){this._debug(i,"session is not valid"),u!==null&&await this._removeSession();return}const h=((o=u.expires_at)!==null&&o!==void 0?o:1/0)*1e3-Date.now()<kc;if(this._debug(i,`session has${h?"":" not"} expired with margin of ${kc}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Ec(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:p}=await this._getUser(u.access_token);!p&&(f!=null&&f.user)?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(i,"error",u),console.error(u);return}finally{this._debug(i,"end")}}async _callRefreshToken(l){var o,i;if(!l)throw new Pa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${l.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ni;const{data:h,error:f}=await this._refreshAccessToken(l);if(f)throw f;if(!h.session)throw new Pa;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const p={session:h.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(h){if(this._debug(u,"error",h),ge(h)){const f={session:null,error:h};return Ec(h)||await this._removeSession(),(o=this.refreshingDeferred)===null||o===void 0||o.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(l,o,i=!0){const u=`#_notifyAllSubscribers(${l})`;this._debug(u,"begin",o,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:l,session:o});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(l,o)}catch(x){h.push(x)}});if(await Promise.all(f),h.length>0){for(let p=0;p<h.length;p+=1)console.error(h[p]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(l){this._debug("#_saveSession()",l),this.suppressGetSessionWarning=!0;const o=Object.assign({},l),i=o.user&&o.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&o.user&&await wn(this.userStorage,this.storageKey+"-user",{user:o.user});const u=Object.assign({},o);delete u.user;const h=dm(u);await wn(this.storage,this.storageKey,h)}else{const u=dm(o);await wn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Ga(this.storage,this.storageKey),await Ga(this.storage,this.storageKey+"-code-verifier"),await Ga(this.storage,this.storageKey+"-user"),this.userStorage&&await Ga(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const l=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{l&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",l)}catch(o){console.error("removing visibilitychange callback failed",o)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const l=setInterval(()=>this._autoRefreshTokenTick(),vn);this.autoRefreshTicker=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const l=this.autoRefreshTicker;this.autoRefreshTicker=null,l&&clearInterval(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const l=Date.now();try{return await this._useSession(async o=>{const{data:{session:i}}=o;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((i.expires_at*1e3-l)/vn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${vn}ms, refresh threshold is ${qc} ticks`),u<=qc&&await this._callRefreshToken(i.refresh_token)})}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(l){if(l.isAcquireTimeout||l instanceof Mm)this._debug("auto refresh token tick lock not available");else throw l}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}}async _onVisibilityChanged(l){const o=`#_onVisibilityChanged(${l})`;this._debug(o,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),l||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(l,o,i){const u=[`provider=${encodeURIComponent(o)}`];if(i!=null&&i.redirectTo&&u.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&u.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[h,f]=await gn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(p.toString())}if(i!=null&&i.queryParams){const h=new URLSearchParams(i.queryParams);u.push(h.toString())}return i!=null&&i.skipBrowserRedirect&&u.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${l}?${u.join("&")}`}async _unenroll(l){try{return await this._useSession(async o=>{var i;const{data:u,error:h}=o;return h?{data:null,error:h}:await ve(this.fetch,"DELETE",`${this.url}/factors/${l.factorId}`,{headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token})})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async _enroll(l){try{return await this._useSession(async o=>{var i,u;const{data:h,error:f}=o;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:l.friendlyName,factor_type:l.factorType},l.factorType==="phone"?{phone:l.phone}:{issuer:l.issuer}),{data:x,error:g}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=h==null?void 0:h.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(l.factorType==="totp"&&(!((u=x==null?void 0:x.totp)===null||u===void 0)&&u.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(o){if(ge(o))return{data:null,error:o};throw o}}async _verify(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var i;const{data:u,error:h}=o;if(h)return{data:null,error:h};const{data:f,error:p}=await ve(this.fetch,"POST",`${this.url}/factors/${l.factorId}/verify`,{body:{code:l.code,challenge_id:l.challengeId},headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(o){if(ge(o))return{data:null,error:o};throw o}})}async _challenge(l){return this._acquireLock(-1,async()=>{try{return await this._useSession(async o=>{var i;const{data:u,error:h}=o;return h?{data:null,error:h}:await ve(this.fetch,"POST",`${this.url}/factors/${l.factorId}/challenge`,{body:{channel:l.channel},headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token})})}catch(o){if(ge(o))return{data:null,error:o};throw o}})}async _challengeAndVerify(l){const{data:o,error:i}=await this._challenge({factorId:l.factorId});return i?{data:null,error:i}:await this._verify({factorId:l.factorId,challengeId:o.id,code:l.code})}async _listFactors(){const{data:{user:l},error:o}=await this.getUser();if(o)return{data:null,error:o};const i=(l==null?void 0:l.factors)||[],u=i.filter(f=>f.factor_type==="totp"&&f.status==="verified"),h=i.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:i,totp:u,phone:h},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async l=>{var o,i;const{data:{session:u},error:h}=l;if(h)return{data:null,error:h};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Tc(u.access_token);let p=null;f.aal&&(p=f.aal);let x=p;((i=(o=u.user.factors)===null||o===void 0?void 0:o.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(x="aal2");const y=f.amr||[];return{data:{currentLevel:p,nextLevel:x,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(l,o={keys:[]}){let i=o.keys.find(p=>p.kid===l);if(i)return i;const u=Date.now();if(i=this.jwks.keys.find(p=>p.kid===l),i&&this.jwks_cached_at+kp>u)return i;const{data:h,error:f}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,i=h.keys.find(p=>p.kid===l),!i)?null:i}async getClaims(l,o={}){try{let i=l;if(!i){const{data:T,error:C}=await this.getSession();if(C||!T.session)return{data:null,error:C};i=T.session.access_token}const{header:u,payload:h,signature:f,raw:{header:p,payload:x}}=Tc(i);o!=null&&o.allowExpired||Jp(h.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,o!=null&&o.keys?{keys:o.keys}:o==null?void 0:o.jwks);if(!g){const{error:T}=await this.getUser(i);if(T)throw T;return{data:{claims:h,header:u,signature:f},error:null}}const y=Wp(u.alg),v=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,f,zp(`${p}.${x}`)))throw new $c("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(i){if(ge(i))return{data:null,error:i};throw i}}}Rl.nextInstanceID=0;const xb=Rl;class pb extends xb{constructor(l){super(l)}}var bb=function(d,l,o,i){function u(h){return h instanceof o?h:new o(function(f){f(h)})}return new(o||(o=Promise))(function(h,f){function p(y){try{g(i.next(y))}catch(v){f(v)}}function x(y){try{g(i.throw(y))}catch(v){f(v)}}function g(y){y.done?h(y.value):u(y.value).then(p,x)}g((i=i.apply(d,l||[])).next())})};class yb{constructor(l,o,i){var u,h,f;this.supabaseUrl=l,this.supabaseKey=o;const p=wp(l);if(!o)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const x=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:dp,realtime:fp,auth:Object.assign(Object.assign({},hp),{storageKey:x}),global:up},y=vp(i??{},g);this.storageKey=(u=y.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(h=y.global.headers)!==null&&h!==void 0?h:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=pp(o,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Ex(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new ip(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new px(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,o={},i={}){return this.rest.rpc(l,o,i)}channel(l,o={config:{}}){return this.realtime.channel(l,o)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var l,o;return bb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(o=(l=i.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:o,detectSessionInUrl:i,storage:u,userStorage:h,storageKey:f,flowType:p,lock:x,debug:g},y,v){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pb({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:f,autoRefreshToken:l,persistSession:o,detectSessionInUrl:i,storage:u,userStorage:h,flowType:p,lock:x,debug:g,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new Px(this.realtimeUrl.href,Object.assign(Object.assign({},l),{params:Object.assign({apikey:this.supabaseKey},l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,i)=>{this._handleTokenChanged(o,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(l,o,i){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),o=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vb=(d,l,o)=>new yb(d,l,o);function wb(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const l=d.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}wb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Lm="https://dpbyrvnvxjlhvtooyuru.supabase.co",qm="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRwYnlydm52eGpsaHZ0b295dXJ1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgxMTExODAsImV4cCI6MjA3MzY4NzE4MH0.txkD2Awid_RJhWhFJb0I13QBseIHdrDqHfeGgXrG0EE";console.log(" Supabase URL:",Lm);console.log(" Supabase Key:",qm.substring(0,20)+"...");const ae=vb(Lm,qm,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),yn=(d,l)=>{var o;return{id:d.id,firstName:d.first_name||"",lastName:d.last_name||"",nickname:d.nickname||((o=l==null?void 0:l.user_metadata)==null?void 0:o.nickname)||"user",email:(l==null?void 0:l.email)||d.email||"",roles:Array.isArray(d.roles)?d.roles.length>0?d.roles:["user"]:typeof d.roles=="string"?d.roles.replace(/[{}]/g,"").split(",").filter(i=>i.trim()!==""):["user"],profilePicture:d.profile_picture,newsletterSubscribed:d.newsletter_subscribed??!1}},Bm=q.createContext(void 0),jb=({children:d})=>{const[l,o]=q.useState(null),[i,u]=q.useState(!1),[h,f]=q.useState(!1);q.useEffect(()=>{const z=async()=>{var F,J,le,I,fe,ue,de,pe,me,M,Z,te;try{const{data:{session:D},error:w}=await ae.auth.getSession();if(w){console.error(" Session error:",w),o(null),u(!1);return}if(D!=null&&D.user){const{data:H,error:W}=await ae.from("profiles").select("*").eq("id",D.user.id).single();if(W){console.warn(" User exists in auth but not in profiles. Creating profile...");const X=((F=D.user.email)==null?void 0:F.split("@")[0])||"user",ie=(((J=D.user.user_metadata)==null?void 0:J.full_name)||"").split(" "),{error:se}=await ae.from("profiles").insert({id:D.user.id,first_name:((le=D.user.user_metadata)==null?void 0:le.first_name)||ie[0]||X,last_name:((I=D.user.user_metadata)==null?void 0:I.last_name)||ie.slice(1).join(" ")||"",nickname:((fe=D.user.user_metadata)==null?void 0:fe.nickname)||X,email:D.user.email||"",newsletter_subscribed:((ue=D.user.user_metadata)==null?void 0:ue.newsletter_subscribed)||!1,roles:["user"],created_at:D.user.created_at,updated_at:new Date().toISOString(),is_active:!0});if(se)console.error(" Failed to create profile:",se),await ae.auth.signOut(),o(null);else{const{data:Me}=await ae.from("profiles").select("*").eq("id",D.user.id).single();Me&&o(yn(Me,D.user))}}else if(H){if(!H.is_active||(de=H.email)!=null&&de.includes("deleted_")){await ae.auth.signOut(),o(null);return}const X=((pe=D.user.email)==null?void 0:pe.split("@")[0])||"";if(H.first_name===X&&X){const ie=(((me=D.user.user_metadata)==null?void 0:me.full_name)||"").split(" "),{error:se}=await ae.from("profiles").update({first_name:((M=D.user.user_metadata)==null?void 0:M.first_name)||ie[0]||X,last_name:((Z=D.user.user_metadata)==null?void 0:Z.last_name)||ie.slice(1).join(" ")||"",nickname:((te=D.user.user_metadata)==null?void 0:te.nickname)||X,updated_at:new Date().toISOString()}).eq("id",D.user.id);if(se)console.error(" Failed to update profile:",se);else{const{data:Me}=await ae.from("profiles").select("*").eq("id",D.user.id).single();if(Me){o(yn(Me,D.user));return}}}o(yn(H,D.user))}}else o(null)}catch(D){console.error(" Error fetching initial session:",D),o(null)}finally{u(!1)}},$=setTimeout(()=>{u(!1)},3e3);z().finally(()=>{clearTimeout($)});const{data:Q}=ae.auth.onAuthStateChange(async(F,J)=>{var le,I,fe,ue,de,pe,me;if(console.log(" Auth state change:",F,(le=J==null?void 0:J.user)==null?void 0:le.id),F==="PASSWORD_RECOVERY")f(!0);else if(F==="USER_UPDATED"){if(console.log(" User updated:",(I=J==null?void 0:J.user)==null?void 0:I.email),J!=null&&J.user){const{error:M}=await ae.from("profiles").update({email:J.user.email,updated_at:new Date().toISOString()}).eq("id",J.user.id);M?console.error(" Profile email update error:",M):console.log(" Profile email updated successfully"),o(Z=>{var te;return Z?{...Z,email:J.user.email||Z.email,profilePicture:((te=J.user.user_metadata)==null?void 0:te.avatar_url)||Z.profilePicture}:null})}}else if(J!=null&&J.user){console.log(" User session found:",J.user.email);const{data:M,error:Z}=await ae.from("profiles").select("*").eq("id",J.user.id).single();Z&&console.error(" Profile loading error:",Z),o(M?yn(M,J.user):{id:J.user.id,firstName:((fe=J.user.user_metadata)==null?void 0:fe.first_name)||"",lastName:((ue=J.user.user_metadata)==null?void 0:ue.last_name)||"",nickname:((de=J.user.user_metadata)==null?void 0:de.nickname)||((pe=J.user.email)==null?void 0:pe.split("@")[0])||"user",email:J.user.email||"",roles:["user"],profilePicture:((me=J.user.user_metadata)==null?void 0:me.avatar_url)||null,newsletterSubscribed:!1}),f(!1)}else o(null),f(!1)});return()=>{Q.subscription.unsubscribe()}},[]);const p=q.useCallback(async(z,$)=>{const Q=z.trim();try{console.log(" Starting login process..."),console.log(" Checking if email exists...");const{data:F,error:J}=await ae.from("profiles").select("id, email").eq("email",Q).single();console.log(" Attempting email login...");const{data:le,error:I}=await ae.auth.signInWithPassword({email:Q,password:$});if(I)throw console.error(" Login error:",I),I.message.includes("Invalid login credentials")?F&&!J?new Error("Password does not match. Please check your password and try again."):new Error("Account not found. Please check your email address or sign up for a new account."):I.message.includes("email_not_confirmed")?new Error("Please check your email and click the confirmation link to complete your registration."):new Error(I.message||"Login failed. Please try again.");if(!le.user)throw new Error("Login failed. Could not authenticate user.");return console.log(" Login successful:",le.user.email),le}catch(F){throw console.error(" Login error:",F),F}},[]),x=q.useCallback(async(z,$,Q,F,J,le)=>{const I=z.trim(),fe=$.trim(),ue=Q.trim(),de=F.trim();if(ue.toLowerCase(),!ue||!de||!I||!fe)throw new Error("All fields must be filled out.");try{const pe=new Promise((M,Z)=>setTimeout(()=>Z(new Error("Signup timeout - please check your internet connection")),15e3)),me=(async()=>{console.log(" Starting signup process..."),console.log(" Skipping nickname check to avoid timeout..."),console.log(" Creating user account...");const M=ae.auth.signUp({email:de,password:J,options:{data:{first_name:I,last_name:fe,nickname:ue,newsletter_subscribed:le}}}),Z=new Promise((w,H)=>setTimeout(()=>H(new Error("Auth signup timeout")),1e4)),{data:te,error:D}=await Promise.race([M,Z]);if(D)throw console.error(" Auth signup error:",D),D.message.includes("User already registered")?new Error("This email is already registered. Please try logging in or resetting your password."):D.message.includes("Database error")?new Error("Database error. Please try again in a few moments."):new Error(D.message||"Signup failed. Please try again.");if(!te.user)throw new Error("Signup failed. Could not create user.");return console.log(" User created successfully:",te.user.id),console.log(" Signup completed successfully!"),te.user&&!te.user.email_confirmed_at&&(console.log(" Email confirmation required"),console.log(" Signup successful! Please check your email and click the confirmation link.")),te})();await Promise.race([me,pe])}catch(pe){throw console.error(" Signup error:",pe),pe}},[]),g=q.useCallback(async()=>{try{const{error:z}=await ae.auth.signOut();if(z)throw console.error(" Logout error:",z),z;o(null)}catch(z){throw console.error(" Logout failed:",z),z}},[]),y=q.useCallback(async(z,$)=>{const Q={};if($.firstName&&(Q.first_name=$.firstName.trim()),$.lastName&&(Q.last_name=$.lastName.trim()),$.profilePicture&&(Q.profile_picture=$.profilePicture),$.nickname){const fe=$.nickname.trim();if(!fe)throw new Error("Nickname cannot be empty.");const{data:ue,error:de}=await ae.from("profiles").select("id").eq("nickname",fe.toLowerCase()).single();if(de&&de.code!=="PGRST116")throw de;if(ue&&ue.id!==z)throw new Error("This nickname is already taken. Please choose another one.");const{error:pe}=await ae.auth.updateUser({data:{nickname:fe}});if(pe)throw pe;Q.nickname=fe}const{data:F,error:J}=await ae.from("profiles").update(Q).eq("id",z).select().single();if(J)throw J.message.includes("duplicate key value violates unique constraint")?new Error("This nickname is already taken."):J;if(!F)throw new Error("Could not update profile.");const{data:{user:le}}=await ae.auth.getUser(),I=yn(F,le);return o(I),I},[]),v=q.useCallback(async(z,$,Q)=>{if(!l)throw new Error("User not authenticated.");const{error:F}=await ae.auth.signInWithPassword({email:l.email,password:$});if(F)throw new Error("Incorrect current password.");const{error:J}=await ae.auth.updateUser({password:Q});if(J)throw J},[l]),_=q.useCallback(async z=>{const{error:$}=await ae.auth.signInWithOAuth({provider:z,options:{redirectTo:window.location.origin}});if($)throw $},[]),T=q.useCallback(async z=>{const{error:$}=await ae.auth.resetPasswordForEmail(z,{redirectTo:window.location.origin});if($)throw $},[]),C=q.useCallback(async z=>{const{error:$}=await ae.auth.updateUser({password:z});if($)throw $},[]),E=q.useCallback(async()=>{if(!l||!l.roles.includes("admin")&&!l.roles.includes("super-admin"))throw new Error("Insufficient permissions");const{data:z,error:$}=await ae.from("profiles").select("*").order("created_at",{ascending:!1});if($)throw $;return z.map(Q=>yn(Q,null))},[l]),O=q.useCallback(async(z,$)=>{if(!l||!l.roles.includes("admin")&&!l.roles.includes("super-admin"))throw new Error("Insufficient permissions");const{error:Q}=await ae.from("profiles").update({roles:$,updated_at:new Date().toISOString()}).eq("id",z);if(Q)throw Q},[l]),K=q.useCallback(async z=>{if(!l||!l.roles.includes("admin")&&!l.roles.includes("super-admin"))throw new Error("Insufficient permissions");const{error:$}=await ae.from("profiles").delete().eq("id",z);if($)throw $},[l]),S=q.useCallback(async()=>{if(!l)throw new Error("Not logged in.");try{const{error:z}=await ae.from("orders").delete().eq("user_id",l.id);z&&console.warn(" Orders deletion warning:",z);const{error:$}=await ae.from("user_favorites").delete().eq("user_id",l.id);$&&console.warn(" Favorites deletion warning:",$);const{error:Q}=await ae.from("cart_items").delete().eq("user_id",l.id);Q&&console.warn(" Cart deletion warning:",Q);const F=Date.now(),{error:J}=await ae.from("profiles").update({is_active:!1,email:`deleted_${F}@deleted.com`,first_name:"Deleted",last_name:"User",nickname:`deleted_${F}`,updated_at:new Date().toISOString()}).eq("id",l.id);if(J)throw console.error(" Profile update error:",J),J;const{error:le}=await ae.auth.signOut();le&&console.error(" Sign out error:",le),o(null)}catch(z){throw console.error(" Account deletion failed:",z),z}},[l]),k=q.useMemo(()=>({user:l,loading:i,isPasswordRecoveryFlow:h,login:p,signup:x,logout:g,updateUser:y,changePassword:v,signInWithProvider:_,sendPasswordResetEmail:T,updatePassword:C,fetchAllUsers:E,updateUserRoles:O,deleteUserAsAdmin:K,deleteUserAccount:S}),[l,i,h,p,x,g,y,v,_,T,C,E,O,K,S]);return s.jsx(Bm.Provider,{value:k,children:d})},qt=()=>{const d=q.useContext(Bm);if(d===void 0)throw new Error("useAuth must be used within an AuthProvider");return d},Hm=q.createContext(void 0),_b=({children:d})=>{const[l,o]=q.useState([]),[i,u]=q.useState(!1),h=()=>u(!0),f=()=>u(!1),p=(_,T)=>{o(C=>C.find(O=>O.id===_.id)?C.map(O=>O.id===_.id?{...O,quantity:Math.min(O.quantity+T,5)}:O):[...C,{..._,quantity:T}])},x=_=>{o(T=>T.filter(C=>C.id!==_))},g=(_,T)=>{o(C=>C.map(E=>E.id===_?{...E,quantity:Math.max(0,Math.min(T,5))}:E).filter(E=>E.quantity>0))},y=()=>l.reduce((_,T)=>_+T.quantity,0),v=()=>l.reduce((_,T)=>_+T.price*T.quantity,0);return s.jsx(Hm.Provider,{value:{cartItems:l,isCartOpen:i,addToCart:p,removeFromCart:x,updateItemQuantity:g,getCartTotalQuantity:y,getCartTotalPrice:v,openCart:h,closeCart:f},children:d})},Ll=()=>{const d=q.useContext(Hm);if(d===void 0)throw new Error("useCart must be used within a CartProvider");return d},Nb=({navigateTo:d})=>{var y,v,_,T,C,E;const{user:l,logout:o}=qt(),{getCartTotalQuantity:i,openCart:u}=Ll(),[h,f]=q.useState(!1),[p,x]=q.useState(!1),g=async()=>{try{await o(),d("home")}catch(O){console.error("Logout error:",O)}};return s.jsxs("header",{className:"relative bg-nyx-black/90 backdrop-blur-xl border-b border-white/20 sticky top-0 z-50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-nyx-black via-purple-900/5 to-nyx-black"}),s.jsx("div",{className:"absolute top-0 left-1/4 w-32 h-32 bg-gradient-to-r from-brand-purple/10 to-brand-pink/10 rounded-full blur-2xl animate-pulse"}),s.jsx("div",{className:"absolute top-0 right-1/4 w-24 h-24 bg-gradient-to-r from-nyx-blue/10 to-cyan-400/10 rounded-full blur-2xl animate-pulse delay-1000"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("button",{onClick:()=>d("home"),className:"group relative text-2xl font-bold text-white hover:text-blue-400 transition-all duration-300",children:[s.jsx("span",{className:"relative z-10 bg-gradient-to-r from-blue-400 via-blue-500 to-purple-600 bg-clip-text text-transparent group-hover:from-blue-500 group-hover:via-purple-500 group-hover:to-purple-700 transition-all duration-300",children:"NYX"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-600 rounded-lg blur opacity-0 group-hover:opacity-20 transition-all duration-300"})]})}),s.jsx("nav",{className:"hidden md:flex items-center space-x-2",children:[{name:"Home",page:"home"},{name:"Products",page:"products"},{name:"Blog",page:"blog"},{name:"Contact",page:"contact"}].map(O=>s.jsxs("button",{onClick:()=>d(O.page),className:"group relative px-4 py-2 text-white hover:text-blue-400 transition-colors duration-300 rounded-lg",children:[s.jsx("span",{className:"relative z-10 font-medium",children:O.name}),s.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-blue-400 group-hover:w-full transition-all duration-300"})]},O.name))}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:u,className:"relative p-2 text-white hover:text-blue-400 transition-colors duration-300",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5"})}),i()>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-400 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:i()})]}),l?s.jsxs("div",{style:{position:"relative"},children:[s.jsxs("button",{onMouseEnter:()=>{window.dispatchEvent(new CustomEvent("profileClick"))},onMouseLeave:()=>{},style:{display:"flex",alignItems:"center",gap:"8px",color:"white",padding:"8px",borderRadius:"12px",border:"none",background:"rgba(255, 255, 255, 0.05)",cursor:"pointer",zIndex:1e3,transition:"all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)",backdropFilter:"blur(10px)",transform:"scale(1)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[s.jsxs("div",{style:{width:"32px",height:"32px",background:"linear-gradient(45deg, #3b82f6, #8b5cf6)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.3s cubic-bezier(0.16, 1, 0.3, 1)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",position:"relative",overflow:"hidden"},children:[s.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent)",animation:"shimmer 2s infinite",opacity:.6}}),s.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"12px",position:"relative",zIndex:1,transition:"all 0.3s ease"},children:((y=l==null?void 0:l.nickname)==null?void 0:y.substring(0,2).toUpperCase())||((_=(v=l==null?void 0:l.user_metadata)==null?void 0:v.full_name)==null?void 0:_.split(" ").map(O=>O[0]).join(""))||((T=l==null?void 0:l.email)==null?void 0:T.split("@")[0].substring(0,2).toUpperCase())||"U"})]}),s.jsx("span",{style:{fontWeight:"500"},children:(l==null?void 0:l.nickname)||((C=l==null?void 0:l.user_metadata)==null?void 0:C.full_name)||((E=l==null?void 0:l.email)==null?void 0:E.split("@")[0])||"User"}),s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&s.jsxs("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"300px",backgroundColor:"#1f2937",border:"4px solid #10b981",borderRadius:"12px",boxShadow:"0 20px 40px rgba(0,0,0,0.8)",zIndex:1e3},children:[s.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #4b5563"},children:[s.jsx("p",{style:{color:"white",fontWeight:"600",fontSize:"14px",margin:"0 0 4px 0"},children:"Test User"}),s.jsx("p",{style:{color:"#9ca3af",fontSize:"12px",margin:"0"},children:"test@nyx.com"}),s.jsx("p",{style:{color:"#10b981",fontSize:"12px",margin:"4px 0 0 0"},children:" MENU AILDI!"})]}),s.jsxs("div",{style:{padding:"8px 0"},children:[s.jsxs("button",{onClick:()=>{d("profile"),x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",color:"white",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px"},onMouseEnter:O=>O.target.style.backgroundColor="#374151",onMouseLeave:O=>O.target.style.backgroundColor="transparent",children:[s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile"]}),s.jsxs("button",{onClick:()=>{d("admin"),x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",color:"white",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px"},onMouseEnter:O=>O.target.style.backgroundColor="#374151",onMouseLeave:O=>O.target.style.backgroundColor="transparent",children:[s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Admin Dashboard"]}),s.jsxs("button",{onClick:async()=>{try{await g()}catch(O){console.error(" Logout failed:",O)}x(!1)},style:{width:"100%",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",color:"#ef4444",background:"transparent",border:"none",cursor:"pointer",fontSize:"14px"},onMouseEnter:O=>O.target.style.backgroundColor="#7f1d1d",onMouseLeave:O=>O.target.style.backgroundColor="transparent",children:[s.jsx("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]})]})]}):s.jsx("button",{onClick:()=>{d("login")},className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Login"}),s.jsx("button",{onClick:()=>f(!h),className:"md:hidden p-2 text-white hover:text-blue-400 transition-colors duration-300 rounded-lg",children:s.jsxs("div",{className:"w-6 h-6 flex flex-col justify-center items-center",children:[s.jsx("span",{className:`block w-5 h-0.5 bg-current transition-all duration-300 ${h?"rotate-45 translate-y-1":""}`}),s.jsx("span",{className:`block w-5 h-0.5 bg-current transition-all duration-300 mt-1 ${h?"opacity-0":""}`}),s.jsx("span",{className:`block w-5 h-0.5 bg-current transition-all duration-300 mt-1 ${h?"-rotate-45 -translate-y-1":""}`})]})})]})]}),h&&s.jsx("div",{className:"md:hidden border-t border-white/10 py-4 animate-slide-up",children:s.jsx("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-2xl p-4 border border-white/10",children:s.jsx("nav",{className:"flex flex-col space-y-2",children:[{name:"Home",page:"home"},{name:"Products",page:"products"},{name:"Blog",page:"blog"},{name:"Contact",page:"contact"}].map(O=>s.jsxs("button",{onClick:()=>{d(O.page),f(!1)},className:"flex items-center space-x-3 px-4 py-3 text-white hover:text-blue-400 transition-colors duration-200 rounded-lg hover:bg-white/10",children:[s.jsx("span",{className:"font-medium",children:O.name}),s.jsx("svg",{className:"w-4 h-4 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},O.name))})})})]})]})},Sb=({navigateTo:d})=>s.jsx("footer",{className:"bg-nyx-black border-t border-nyx-gray/50",children:s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"NYX"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Revolutionizing smart home technology with beautiful, intuitive devices that make life simpler."}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.746-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001.012.001z"})})}),s.jsx("a",{href:"#",className:"text-gray-400 hover:text-nyx-blue transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Products"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"All Products"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products",{category:"sensors"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Smart Sensors"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products",{category:"lighting"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Smart Lighting"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("products",{category:"security"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Security Cameras"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("how-it-works"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"How it Works"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("setup-videos"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Setup Videos"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("faq"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"FAQ"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("contact"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Contact Us"})})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("button",{onClick:()=>d("our-story"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Our Story"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("why-us"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Why Us"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("blog"),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Blog"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("legal",{slug:"privacy-policy",title:"Privacy Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("button",{onClick:()=>d("legal",{slug:"terms-of-service",title:"Terms of Service"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Terms of Service"})})]})]})]}),s.jsx("div",{className:"border-t border-nyx-gray/50 mt-8 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[s.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 NYX. All rights reserved."}),s.jsxs("div",{className:"flex space-x-6",children:[s.jsx("button",{onClick:()=>d("legal",{slug:"privacy-policy",title:"Privacy Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Privacy"}),s.jsx("button",{onClick:()=>d("legal",{slug:"terms-of-service",title:"Terms of Service"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Terms"}),s.jsx("button",{onClick:()=>d("legal",{slug:"shipping-policy",title:"Shipping Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Shipping"}),s.jsx("button",{onClick:()=>d("legal",{slug:"return-policy",title:"Return Policy"}),className:"text-gray-400 hover:text-nyx-blue transition-colors text-sm",children:"Returns"})]})]})})]})}),kb=d=>Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},Te.createElement("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",ry:"2"}),Te.createElement("rect",{x:"9",y:"9",width:"6",height:"6"}),Te.createElement("line",{x1:"9",y1:"1",x2:"9",y2:"4"}),Te.createElement("line",{x1:"15",y1:"1",x2:"15",y2:"4"}),Te.createElement("line",{x1:"9",y1:"20",x2:"9",y2:"23"}),Te.createElement("line",{x1:"15",y1:"20",x2:"15",y2:"23"}),Te.createElement("line",{x1:"20",y1:"9",x2:"23",y2:"9"}),Te.createElement("line",{x1:"20",y1:"14",x2:"23",y2:"14"}),Te.createElement("line",{x1:"1",y1:"9",x2:"4",y2:"9"}),Te.createElement("line",{x1:"1",y1:"14",x2:"4",y2:"14"})),Eb=d=>Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},Te.createElement("rect",{x:"1",y:"6",width:"18",height:"12",rx:"2",ry:"2"}),Te.createElement("line",{x1:"23",y1:"13",x2:"23",y2:"11"})),Tb=d=>Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},Te.createElement("path",{d:"M12 2L2 7l10 5 10-5-10-5z"}),Te.createElement("path",{d:"M2 17l10 5 10-5"}),Te.createElement("path",{d:"M2 12l10 5 10-5"})),Ab=d=>Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d},Te.createElement("path",{d:"M5 12.55a8 8 0 0 1 14.08 0"}),Te.createElement("path",{d:"M1.42 9a12 12 0 0 1 21.16 0"}),Te.createElement("path",{d:"M8.53 16.11a4 4 0 0 1 6.95 0"}),Te.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"20"})),Cb=[{icon:kb,title:"Adaptive AI Learning",description:"Our onboard AI learns your habits to reduce false triggers and anticipate your needs, providing smarter, more intuitive lighting."},{icon:Eb,title:"Extended Battery Life",description:"Engineered for efficiency, the NYX sensor boasts an industry-leading 24-month battery life on a single charge."},{icon:Tb,title:"Minimalist Aesthetics",description:"Crafted from a single piece of bead-blasted aluminum, its sleek, unobtrusive design complements any modern interior."},{icon:Ab,title:"Seamless Integration",description:"Connects effortlessly with all major smart home ecosystems, including Apple HomeKit, Google Home, and Amazon Alexa."}],Ob=[{question:"How long does the battery last on the NYX-1 Sensor?",answer:"The NYX-1 Smart PIR Motion Sensor is engineered for maximum efficiency. It features an industry-leading 24-month battery life on a single charge under typical usage conditions."},{question:"Are NYX products compatible with Apple HomeKit, Google Home, and Amazon Alexa?",answer:"Yes, absolutely. Seamless integration is a core principle of our design philosophy. All NYX devices connect effortlessly with all major smart home ecosystems, including Apple HomeKit, Google Home, and Amazon Alexa, providing you with a unified control experience."},{question:"What is Adaptive AI Learning?",answer:"Our proprietary Adaptive AI Learning is an onboard intelligence system within the NYX-1 Sensor. It learns your household's patterns and habits over time to significantly reduce false motion triggers and eventually anticipate your needs, such as adjusting lighting before you enter a room."},{question:"What is the warranty period for NYX devices?",answer:"All NYX products come with a comprehensive 2-year limited warranty covering any manufacturing defects. We stand by the quality and durability of our devices."},{question:"Can I control the NYX-Bulb's color and brightness?",answer:"Yes. The NYX-Bulb offers a palette of 16 million colors (RGBW) and full dimming capabilities. You can control the color, brightness, and set dynamic scenes directly from the NYX app or through your connected voice assistant."},{question:"Do I need a separate hub for NYX products to work?",answer:"No, you do not. Our devices are designed to be simple and accessible. Each NYX product connects directly to your home's 2.4GHz Wi-Fi network, eliminating the need for an extra hub or bridge."}],xm=({navigateTo:d})=>{const{addToCart:l}=Ll(),[o,i]=q.useState([]),[u,h]=q.useState(!1);q.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:x,error:g}=await ae.from("products").select("*").eq("is_featured",!0).eq("is_visible",!0).limit(4);if(g){console.error(" HomePage: Supabase error:",g),i([]);return}const y=(x==null?void 0:x.map(v=>{var _,T;return{id:v.id,name:v.name,price:v.price,imageUrl:((_=v.images)==null?void 0:_[0])||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",images:v.images||["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center"],description:v.description,tagline:((T=v.description)==null?void 0:T.substring(0,50))+"..."||"Smart home device",category:v.category,isVisible:v.is_visible,stock:v.stock,created_at:v.created_at}}))||[];setTimeout(()=>{i(y),h(!1)},0)}catch(x){console.error("Error fetching featured products:",x),i([]),h(!1)}},p=x=>{l(x,1)};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("section",{className:"relative pt-0 pb-0 md:pt-0 md:pb-0 overflow-hidden min-h-screen flex items-center",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-purple-900/30 to-nyx-black"}),s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute top-3/4 right-1/4 w-96 h-96 bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-gradient-to-r from-brand-pink/20 to-nyx-blue/20 rounded-full blur-3xl animate-pulse delay-2000"})]}),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(139,92,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(139,92,246,0.03)_1px,transparent_1px)] bg-[size:50px_50px]"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 -mt-16 md:-mt-20",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 border border-brand-purple/30 mb-4",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Next-Gen Smart Home Technology"})]})}),s.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tight mb-3 leading-tight",children:["The Future of",s.jsx("span",{className:"block bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue text-transparent bg-clip-text animate-pulse",children:"Smart Living"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-6 max-w-4xl mx-auto leading-relaxed",children:["Experience the perfect blend of ",s.jsx("span",{className:"text-nyx-blue font-semibold",children:"intelligent technology"})," and",s.jsx("span",{className:"text-brand-purple font-semibold",children:" elegant design"}),". NYX devices learn your habits to create a truly personalized smart home."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-8",children:[s.jsxs("button",{onClick:()=>d("products"),className:"group relative bg-gradient-to-r from-nyx-blue to-cyan-400 text-nyx-black font-bold py-5 px-10 rounded-full hover:from-cyan-400 hover:to-nyx-blue transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-nyx-blue/25",children:[s.jsx("span",{className:"relative z-10",children:"Explore Products"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-nyx-blue to-cyan-400 rounded-full blur opacity-0 group-hover:opacity-75 transition-opacity duration-500"})]}),s.jsx("button",{onClick:()=>d("how-it-works"),className:"group border-2 border-white/30 text-white font-semibold py-5 px-10 rounded-full hover:border-brand-purple/50 hover:bg-brand-purple/10 transition-all duration-300 backdrop-blur-sm",children:"See How It Works"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-nyx-blue mb-2",children:"24"}),s.jsx("div",{className:"text-gray-400",children:"Months Battery Life"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl md:text-4xl font-bold text-brand-purple mb-2",children:"16M"}),s.jsx("div",{className:"text-gray-400",children:"Color Options"})]})]})]})}),s.jsx("div",{className:"absolute bottom-24 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-white/70 rounded-full flex justify-center hover:border-white/90 transition-colors cursor-pointer",children:s.jsx("div",{className:"w-1 h-3 bg-white/90 rounded-full mt-2 animate-pulse"})})})]}),s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/20 to-nyx-black"}),s.jsx("div",{className:"absolute top-1/4 right-0 w-72 h-72 bg-gradient-to-l from-nyx-blue/20 to-transparent rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-gradient-to-r from-brand-pink/20 to-transparent rounded-full blur-3xl"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 border border-nyx-blue/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-brand-pink rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Premium Collection"})]}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6",children:["Featured",s.jsx("span",{className:"block bg-gradient-to-r from-nyx-blue via-brand-purple to-brand-pink text-transparent bg-clip-text",children:"Products"})]}),s.jsxs("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["Discover our most popular smart home devices, designed to work together",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" seamlessly"}),"."]})]}),u?s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"text-gray-400",children:"Loading products..."})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map(x=>{var g,y;return s.jsxs("div",{className:"product-card",children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:((g=x.images)==null?void 0:g[0])||x.imageUrl||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",alt:x.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 hover:text-nyx-blue transition-colors",children:x.name}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:x.tagline||((y=x.description)==null?void 0:y.substring(0,50))+"..."||"Smart home device"}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",x.price]})})}),s.jsx("button",{onClick:()=>p(x),className:"w-full bg-nyx-blue text-nyx-black py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Add to Cart"})]})]},x.id)})}),s.jsx("div",{className:"text-center mt-12",children:s.jsx("button",{onClick:()=>d("products"),className:"bg-transparent border border-nyx-blue text-nyx-blue font-semibold py-3 px-8 rounded-full hover:bg-nyx-blue hover:text-nyx-black transition-all duration-300",children:"View All Products"})})]})]}),s.jsxs("section",{className:"relative py-24 md:py-32 bg-dark-accent overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-purple-900/10 to-nyx-black"}),s.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-gradient-to-r from-brand-purple/10 to-brand-pink/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-80 h-80 bg-gradient-to-r from-nyx-blue/10 to-brand-purple/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-20",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 border border-brand-purple/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Advanced Features"})]}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6",children:["Why Choose",s.jsx("span",{className:"block bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue text-transparent bg-clip-text",children:"NYX?"})]}),s.jsxs("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:["We've reimagined smart home technology with a focus on",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" simplicity"}),",",s.jsx("span",{className:"text-brand-purple font-semibold",children:" beauty"}),", and",s.jsx("span",{className:"text-brand-pink font-semibold",children:" intelligence"}),"."]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:Cb.map((x,g)=>s.jsx("div",{className:"group relative",children:s.jsxs("div",{className:"bg-nyx-gray/50 backdrop-blur-sm rounded-3xl p-8 border border-white/10 hover:border-brand-purple/30 transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-brand-purple/10",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-brand-purple to-brand-pink rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300 animate-glow",children:s.jsx(x.icon,{className:"w-10 h-10 text-white"})}),s.jsx("h3",{className:"text-2xl font-bold mb-4 text-white group-hover:text-nyx-blue transition-colors",children:x.title}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:x.description})]})},g))})]})]}),s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-purple via-brand-pink to-nyx-blue"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nyx-black/50 to-transparent"}),s.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-96 h-96 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-1/4 w-80 h-80 bg-nyx-blue/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-1/4 w-72 h-72 bg-brand-pink/20 rounded-full blur-3xl"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-white/20 backdrop-blur-sm border border-white/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-white rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-white",children:"Ready to Start?"})]}),s.jsxs("h2",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6 text-white",children:["Ready to Transform",s.jsx("span",{className:"block bg-gradient-to-r from-white via-cyan-200 to-white text-transparent bg-clip-text",children:"Your Home?"})]}),s.jsxs("p",{className:"text-xl text-white/90 mb-12 max-w-3xl mx-auto leading-relaxed",children:["Join the smart home revolution. Start with one device and build your",s.jsx("span",{className:"text-cyan-200 font-semibold",children:" perfect ecosystem"}),"."]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[s.jsxs("button",{onClick:()=>d("products"),className:"group relative bg-white text-brand-purple font-bold py-5 px-10 rounded-full hover:bg-gray-100 transition-all duration-500 transform hover:scale-105 hover:shadow-2xl hover:shadow-white/25",children:[s.jsx("span",{className:"relative z-10",children:"Shop Now"}),s.jsx("div",{className:"absolute inset-0 bg-white rounded-full blur opacity-0 group-hover:opacity-50 transition-opacity duration-500"})]}),s.jsx("button",{onClick:()=>d("contact"),className:"group border-2 border-white/50 text-white font-semibold py-5 px-10 rounded-full hover:border-white hover:bg-white/10 transition-all duration-300 backdrop-blur-sm",children:"Get in Touch"})]})]})})]})]})},Db=({navigateTo:d})=>{var kn,En;const{user:l,signOut:o,deleteUserAccount:i}=qt(),[u,h]=q.useState(!1),[f,p]=q.useState(null),[x,g]=q.useState({}),[y,v]=q.useState(!0),[_,T]=q.useState(!1),[C,E]=q.useState(!1),[O,K]=q.useState({orders:0,favorites:0}),[S,k]=q.useState([]),[z,$]=q.useState("profile"),[Q,F]=q.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[J,le]=q.useState({currentEmail:"",newEmail:""}),[I,fe]=q.useState(!1),[ue,de]=q.useState(null),[pe,me]=q.useState(null),[M,Z]=q.useState(null),[te,D]=q.useState("+90"),[w,H]=q.useState(""),[W,X]=q.useState(!0),[G,ie]=q.useState(!1),[se,Me]=q.useState(!0),[ke,St]=q.useState(!0),Qa=[{code:"+90",country:"Turkey",flag:""},{code:"+1",country:"United States",flag:""},{code:"+44",country:"United Kingdom",flag:""},{code:"+49",country:"Germany",flag:""},{code:"+33",country:"France",flag:""},{code:"+39",country:"Italy",flag:""},{code:"+34",country:"Spain",flag:""},{code:"+31",country:"Netherlands",flag:""},{code:"+46",country:"Sweden",flag:""},{code:"+47",country:"Norway",flag:""},{code:"+45",country:"Denmark",flag:""},{code:"+41",country:"Switzerland",flag:""},{code:"+43",country:"Austria",flag:""},{code:"+32",country:"Belgium",flag:""},{code:"+351",country:"Portugal",flag:""},{code:"+30",country:"Greece",flag:""},{code:"+7",country:"Russia",flag:""},{code:"+86",country:"China",flag:""},{code:"+81",country:"Japan",flag:""},{code:"+82",country:"South Korea",flag:""},{code:"+91",country:"India",flag:""},{code:"+55",country:"Brazil",flag:""},{code:"+54",country:"Argentina",flag:""},{code:"+52",country:"Mexico",flag:""},{code:"+61",country:"Australia",flag:""},{code:"+64",country:"New Zealand",flag:""},{code:"+27",country:"South Africa",flag:""},{code:"+20",country:"Egypt",flag:""},{code:"+971",country:"UAE",flag:""},{code:"+966",country:"Saudi Arabia",flag:""}];q.useEffect(()=>{(async()=>{var Ne,pt,Ka,Tn,Bt,Qe,ut,Ke,Za,ql,Bl,Ja,Wa,Xt,Ia,ba,Hl,An,Cn,js,ya,$l,On;if(!l){v(!1);return}try{v(!0);const{data:Et,error:Fa}=await ae.from("profiles").select("*").eq("id",l.id).single();if(Fa&&Fa.code!=="PGRST116"){console.error("Error loading profile:",Fa);const Ht={id:l.id,first_name:((pt=(Ne=l.user_metadata)==null?void 0:Ne.full_name)==null?void 0:pt.split(" ")[0])||((Ka=l.email)==null?void 0:Ka.split("@")[0])||"User",last_name:((Bt=(Tn=l.user_metadata)==null?void 0:Tn.full_name)==null?void 0:Bt.split(" ")[1])||"",nickname:((Qe=l.user_metadata)==null?void 0:Qe.nickname)||((ut=l.email)==null?void 0:ut.split("@")[0])||"user",email:l.email||"",created_at:l.created_at,role:((Ke=l.user_metadata)==null?void 0:Ke.role)||"user"};p(Ht)}else if(Et){const Ht={...Et,first_name:Et.first_name||((ql=(Za=l.user_metadata)==null?void 0:Za.full_name)==null?void 0:ql.split(" ")[0])||((Bl=l.email)==null?void 0:Bl.split("@")[0])||"User",last_name:Et.last_name||((Wa=(Ja=l.user_metadata)==null?void 0:Ja.full_name)==null?void 0:Wa.split(" ")[1])||"",nickname:Et.nickname||((Xt=l.user_metadata)==null?void 0:Xt.nickname)||((Ia=l.email)==null?void 0:Ia.split("@")[0])||"user",email:Et.email||l.email||"",created_at:Et.created_at||l.created_at};p(Ht)}else{const Ht={id:l.id,first_name:((Hl=(ba=l.user_metadata)==null?void 0:ba.full_name)==null?void 0:Hl.split(" ")[0])||((An=l.email)==null?void 0:An.split("@")[0])||"User",last_name:((js=(Cn=l.user_metadata)==null?void 0:Cn.full_name)==null?void 0:js.split(" ")[1])||"",nickname:((ya=l.user_metadata)==null?void 0:ya.nickname)||(($l=l.email)==null?void 0:$l.split("@")[0])||"user",email:l.email||"",created_at:l.created_at,role:((On=l.user_metadata)==null?void 0:On.role)||"user"};p(Ht)}K({orders:0,favorites:0});const va=[],{data:Dn}=await ae.from("profiles").select("updated_at").eq("id",l.id).not("updated_at","is",null).order("updated_at",{ascending:!1}).limit(2);Dn&&Dn.forEach(Ht=>{va.push({type:"profile",id:"profile-update",title:"Profile updated",description:"Your profile information was modified",date:Ht.updated_at,status:"completed",icon:"user"})}),va.push({type:"account",id:"account-created",title:"Account created",description:"Welcome to NYX! Your account was successfully created",date:l.created_at,status:"completed",icon:"user-plus"}),va.sort((Ht,Qt)=>new Date(Qt.date).getTime()-new Date(Ht.date).getTime()),k(va.slice(0,5))}catch(Et){console.error("Error loading profile data:",Et)}finally{v(!1)}})()},[l]);const Vt=()=>{f&&(h(!0),g(f))},Nn=async()=>{var ee;if(!(!l||!x)){de({type:"success",text:"Saving changes..."});try{const{error:Ne}=await ae.from("profiles").upsert({id:l.id,first_name:x.first_name,last_name:x.last_name,nickname:x.nickname||((ee=l.email)==null?void 0:ee.split("@")[0])||"user",email:l.email||"",phone:x.phone,address:x.address,bio:x.bio,updated_at:new Date().toISOString()});if(Ne){de({type:"error",text:Ne.message});return}p(pt=>pt?{...pt,...x}:null),h(!1),de({type:"success",text:" Profile updated successfully! Your changes have been saved."}),setTimeout(()=>{de(null)},3e3)}catch{de({type:"error",text:"Failed to save profile"})}}},Sn=()=>{g(f||{}),h(!1)},pa=(ee,Ne)=>{g(pt=>({...pt,[ee]:Ne}))},li=async()=>{if(!Q.currentPassword){me({type:"error",text:"Please enter your current password"});return}if(Q.newPassword!==Q.confirmPassword){me({type:"error",text:"New passwords do not match"});return}if(Q.newPassword.length<6){me({type:"error",text:"Password must be at least 6 characters"});return}T(!0),me(null);try{const{error:ee}=await ae.auth.updateUser({password:Q.newPassword});if(ee){console.error("Password update error:",ee),ee.message.includes("Password should be at least")?me({type:"error",text:"Password must be at least 6 characters long"}):ee.message.includes("Invalid password")?me({type:"error",text:"Current password is incorrect"}):me({type:"error",text:ee.message}),T(!1);return}console.log(" Password updated successfully"),me({type:"success",text:" Password updated successfully! Your new password is now active."}),F({currentPassword:"",newPassword:"",confirmPassword:""}),T(!1)}catch(ee){console.error("Password update catch error:",ee),me({type:"error",text:"Failed to update password"}),T(!1)}},ri=async()=>{if(!J.currentEmail||!J.newEmail){Z({type:"error",text:"Please enter both current and new email addresses"});return}if(J.currentEmail!==(l==null?void 0:l.email)){Z({type:"error",text:"Current email does not match your account email"});return}if(J.currentEmail===J.newEmail){Z({type:"error",text:"New email must be different from current email"});return}E(!0),Z(null);try{const{error:ee}=await ae.auth.updateUser({email:J.newEmail});if(ee){console.error("Email update error:",ee),ee.message.includes("Email rate limit exceeded")?Z({type:"error",text:"Too many email change requests. Please wait before trying again."}):ee.message.includes("Invalid email")?Z({type:"error",text:"Please enter a valid email address"}):ee.message.includes("User already registered")?Z({type:"error",text:"This email address is already in use"}):Z({type:"error",text:ee.message}),E(!1);return}console.log(" Email update request sent successfully"),Z({type:"success",text:" Verification email sent to your new email address. Please check your inbox and click the verification link to complete the email change."}),le({currentEmail:"",newEmail:""}),E(!1),setTimeout(()=>{console.log(" Refreshing page to sync auth state..."),window.location.reload()},3e3)}catch(ee){console.error("Email update catch error:",ee),Z({type:"error",text:"Failed to update email"}),E(!1)}},kt=async ee=>{var pt;const Ne=(pt=ee.target.files)==null?void 0:pt[0];if(Ne){if(Ne.size>5*1024*1024){de({type:"error",text:"File size must be less than 5MB"});return}try{fe(!0);const Ka=Ne.name.split(".").pop(),Bt=`avatars/${`${l==null?void 0:l.id}-${Date.now()}.${Ka}`}`,{error:Qe}=await ae.storage.from("avatars").upload(Bt,Ne);if(Qe){de({type:"error",text:Qe.message});return}const{data:{publicUrl:ut}}=ae.storage.from("avatars").getPublicUrl(Bt),{error:Ke}=await ae.from("profiles").upsert({id:l==null?void 0:l.id,avatar_url:ut,updated_at:new Date().toISOString()});if(Ke){de({type:"error",text:Ke.message});return}p(Za=>Za?{...Za,avatar_url:ut}:null),de({type:"success",text:"Avatar updated successfully"})}catch{de({type:"error",text:"Failed to upload avatar"})}finally{fe(!1)}}},ii=async()=>{if(!window.confirm(` WARNING: This action cannot be undone!

Are you absolutely sure you want to delete your account? All your data, including:
 Profile information
 Orders and favorites
 Security settings
 All associated data

Will be permanently deleted from our database.`)||!window.confirm(` FINAL CONFIRMATION 

This is your last chance to cancel.

Type "DELETE" in the next prompt to confirm account deletion.`))return;if(window.prompt('Type "DELETE" to confirm account deletion:')!=="DELETE"){de({type:"error",text:'Account deletion cancelled. You must type "DELETE" exactly to confirm.'});return}try{v(!0),de({type:"success",text:" Deleting account and all associated data..."}),await i(),de({type:"success",text:" Account and all data deleted successfully from database. You will be redirected to the home page."}),setTimeout(()=>{d("home")},3e3)}catch(Ne){console.error(" Account deletion error:",Ne),de({type:"error",text:" Failed to delete account from database. Please try again or contact support."})}finally{v(!1)}};return y?s.jsx("div",{className:"min-h-screen bg-dark text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300",children:"Loading profile..."})]})}):f?s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900/20 via-blue-900/20 to-indigo-900/20"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(120,119,198,0.3),transparent_50%)]"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_80%,rgba(120,119,198,0.2),transparent_50%)]"}),s.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-full blur-xl animate-float"}),s.jsx("div",{className:"absolute top-40 right-20 w-24 h-24 bg-gradient-to-r from-blue-500/20 to-indigo-500/20 rounded-full blur-xl animate-float",style:{animationDelay:"2s"}}),s.jsx("div",{className:"absolute bottom-20 left-1/3 w-20 h-20 bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-full blur-xl animate-float",style:{animationDelay:"4s"}}),s.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:50px_50px]"}),s.jsx("div",{className:"relative z-10 container mx-auto px-6 py-24",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-indigo-400 bg-clip-text text-transparent",children:"Profile"})}),s.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Manage your account settings and preferences"})]})})})]}),s.jsx("div",{className:"relative z-10 container mx-auto px-6 py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[ue&&s.jsxs("div",{className:`mb-6 p-4 rounded-xl animate-slide-down flex items-center gap-3 ${ue.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:[s.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${ue.type==="success"?"bg-green-500":"bg-red-500"}`,children:ue.type==="success"?s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):s.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("span",{className:"font-medium",children:ue.text})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[s.jsx("button",{onClick:()=>$("profile"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${z==="profile"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Profile"}),s.jsx("button",{onClick:()=>$("security"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${z==="security"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Security"}),s.jsx("button",{onClick:()=>$("orders"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${z==="orders"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Orders"}),s.jsx("button",{onClick:()=>$("settings"),className:`px-6 py-3 rounded-xl font-medium transition-all duration-300 ${z==="settings"?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg":"bg-white/5 text-gray-300 hover:bg-white/10"}`,children:"Settings"})]}),z==="profile"&&s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 shadow-2xl",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6 mb-8",children:[s.jsxs("div",{className:"relative group",children:[f.avatar_url?s.jsx("img",{src:f.avatar_url,alt:"Profile",className:"w-24 h-24 rounded-2xl object-cover shadow-lg"}):s.jsxs("div",{className:"w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center text-2xl font-bold text-white shadow-lg",children:[((kn=f.first_name)==null?void 0:kn[0])||"U",((En=f.last_name)==null?void 0:En[0])||""]}),s.jsx("div",{className:"absolute -bottom-2 -right-2 w-8 h-8 bg-green-500 rounded-full border-4 border-white/20 flex items-center justify-center",children:s.jsx("div",{className:"w-3 h-3 bg-white rounded-full"})}),s.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-2xl flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsxs("label",{className:"cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:kt,className:"hidden",disabled:I}),s.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-2",children:I?s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]})})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:[f.first_name||"User"," ",f.last_name||""]}),s.jsx("p",{className:"text-gray-300 text-lg mb-1",children:f.email}),s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsxs("span",{className:"text-gray-400",children:["Member since ",new Date(f.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"})]})}),s.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:((l==null?void 0:l.roles)||["user"]).map((ee,Ne)=>s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ee==="super-admin"?"bg-gradient-to-r from-red-500/20 to-red-600/20 border border-red-500/30 text-red-300":ee==="admin"?"bg-gradient-to-r from-purple-500/20 to-purple-600/20 border border-purple-500/30 text-purple-300":ee==="seller"?"bg-gradient-to-r from-green-500/20 to-green-600/20 border border-green-500/30 text-green-300":ee==="content_writer"?"bg-gradient-to-r from-orange-500/20 to-orange-600/20 border border-orange-500/30 text-orange-300":ee==="Web Developer"?"bg-gradient-to-r from-cyan-500/20 to-cyan-600/20 border border-cyan-500/30 text-cyan-300":ee==="UI/UX Designer"?"bg-gradient-to-r from-pink-500/20 to-pink-600/20 border border-pink-500/30 text-pink-300":"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/30 text-blue-300"}`,children:ee.toUpperCase()},Ne))})]}),u?s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-orange-500/20 border border-orange-500/30 rounded-xl",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-orange-300 font-medium",children:"Editing Mode"})]}):s.jsxs("button",{onClick:Vt,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),s.jsxs("div",{className:`mb-8 transition-all duration-300 ${u?"ring-2 ring-blue-500/30 rounded-2xl p-6 bg-blue-500/5":""}`,children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[u&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Personal Information",u&&s.jsx("span",{className:"text-sm text-blue-300 font-normal",children:"(Click to edit)"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"First Name"}),u?s.jsx("input",{type:"text",value:x.first_name||"",onChange:ee=>pa("first_name",ee.target.value),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter first name"}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.first_name||"No first name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Last Name"}),u?s.jsx("input",{type:"text",value:x.last_name||"",onChange:ee=>pa("last_name",ee.target.value),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter last name"}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.last_name||"No last name"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nickname"}),u?s.jsx("input",{type:"text",value:x.nickname||"",onChange:ee=>pa("nickname",ee.target.value),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter nickname"}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.nickname||"No nickname"})]})]})]}),s.jsxs("div",{className:`mb-8 transition-all duration-300 ${u?"ring-2 ring-blue-500/30 rounded-2xl p-6 bg-blue-500/5":""}`,children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[u&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"About",u&&s.jsx("span",{className:"text-sm text-blue-300 font-normal",children:"(Click to edit)"})]}),u?s.jsx("textarea",{value:x.bio||"",onChange:ee=>pa("bio",ee.target.value),className:"w-full p-4 bg-white/10 border-2 border-blue-500/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg resize-none",rows:3,placeholder:"Tell us about yourself..."}):s.jsx("p",{className:"text-gray-300 leading-relaxed",children:f.bio||"No bio available."})]}),s.jsxs("div",{className:`mb-8 transition-all duration-300 ${u?"ring-2 ring-blue-500/30 rounded-2xl p-6 bg-blue-500/5":""}`,children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-3 flex items-center gap-2",children:[u&&s.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),"Contact Information",u&&s.jsx("span",{className:"text-sm text-blue-300 font-normal",children:"(Click to edit)"})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Phone Number"}),u?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{value:te,onChange:ee=>D(ee.target.value),className:"p-3 bg-white/5 rounded-lg text-white no-focus",style:{outline:"none !important",border:"none !important",boxShadow:"none !important",ring:"none !important","--tw-ring-width":"0 !important","--tw-ring-color":"transparent !important","--tw-ring-offset-width":"0 !important","--tw-ring-offset-color":"transparent !important",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:Qa.map(ee=>s.jsxs("option",{value:ee.code,className:"bg-gray-800 text-white",children:[ee.flag," ",ee.code]},ee.code))}),s.jsx("input",{type:"tel",value:w,onChange:ee=>H(ee.target.value),className:"flex-1 p-3 bg-white/5 rounded-lg text-white placeholder-gray-400 no-focus",style:{outline:"none !important",border:"none !important",boxShadow:"none !important",ring:"none !important","--tw-ring-width":"0 !important","--tw-ring-color":"transparent !important","--tw-ring-offset-width":"0 !important","--tw-ring-offset-color":"transparent !important"},placeholder:"Enter phone number"})]}):s.jsx("p",{className:"text-gray-300 p-3 bg-white/5 rounded-lg",children:f.phone?`${te} ${f.phone}`:"No phone number"})]})})]}),u&&s.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-white/10 bg-gradient-to-r from-green-500/5 to-blue-500/5 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-300 mb-4",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-sm font-medium",children:"Ready to save your changes?"})]}),s.jsxs("div",{className:"flex gap-4 w-full",children:[s.jsxs("button",{onClick:Nn,className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors duration-200 flex items-center justify-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save Changes"]}),s.jsxs("button",{onClick:Sn,className:"px-6 py-3 bg-white/10 text-white rounded-xl font-medium hover:bg-white/20 transition-all duration-300 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]})]})]}),z==="orders"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:O.orders}),s.jsx("p",{className:"text-gray-400",children:"Orders Placed"})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-6 text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:O.favorites}),s.jsx("p",{className:"text-gray-400",children:"Favorites"})]})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Recent Activity"}),s.jsx("div",{className:"space-y-4",children:S.length>0?S.map((ee,Ne)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${ee.type==="order"?"bg-gradient-to-r from-blue-500 to-purple-600":ee.type==="profile"?"bg-gradient-to-r from-green-500 to-emerald-600":ee.type==="account"?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gradient-to-r from-gray-500 to-gray-600"}`,children:[ee.icon==="shopping-bag"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),ee.icon==="user"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),ee.icon==="user-plus"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-white font-medium",children:ee.title}),s.jsx("p",{className:"text-gray-400 text-sm",children:ee.description}),s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:new Date(ee.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${ee.status==="completed"?"bg-green-500/20 text-green-400":ee.status==="pending"?"bg-yellow-500/20 text-yellow-400":ee.status==="cancelled"?"bg-red-500/20 text-red-400":"bg-gray-500/20 text-gray-400"}`,children:ee.status})]},Ne)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("p",{className:"text-gray-400",children:"No recent activity"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Your orders and activities will appear here"})]})})]}),s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl border border-white/10 p-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Order Tracking"}),s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"Track Your Orders"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Monitor your order status and delivery progress"}),s.jsx("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"View All Orders"})]})]})]}),z==="security"&&s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 shadow-2xl",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Security Settings"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Change Password"}),pe&&s.jsx("div",{className:`mb-4 p-4 rounded-lg ${pe.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:pe.text}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Current Password"}),s.jsx("input",{type:"password",value:Q.currentPassword,onChange:ee=>F(Ne=>({...Ne,currentPassword:ee.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter current password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"New Password"}),s.jsx("input",{type:"password",value:Q.newPassword,onChange:ee=>F(Ne=>({...Ne,newPassword:ee.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirm New Password"}),s.jsx("input",{type:"password",value:Q.confirmPassword,onChange:ee=>F(Ne=>({...Ne,confirmPassword:ee.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Confirm new password"})]}),s.jsx("button",{onClick:li,disabled:_,className:"px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl font-medium hover:from-green-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:_?"Updating...":"Update Password"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Change Email"}),M&&s.jsx("div",{className:`mb-4 p-4 rounded-lg ${M.type==="success"?"bg-green-500/20 border border-green-500/30 text-green-300":"bg-red-500/20 border border-red-500/30 text-red-300"}`,children:M.text}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Current Email Address"}),s.jsx("input",{type:"email",value:J.currentEmail,onChange:ee=>le(Ne=>({...Ne,currentEmail:ee.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter your current email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"New Email Address"}),s.jsx("input",{type:"email",value:J.newEmail,onChange:ee=>le(Ne=>({...Ne,newEmail:ee.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter new email address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Current Password (Required)"}),s.jsx("input",{type:"password",value:Q.currentPassword,onChange:ee=>F(Ne=>({...Ne,currentPassword:ee.target.value})),className:"w-full p-3 bg-white/10 border-2 border-blue-500/50 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 shadow-lg",placeholder:"Enter your current password"})]}),s.jsx("div",{className:"p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:s.jsx("p",{className:"text-blue-300 text-sm",children:" You will receive a verification link at your new email address. Please check your inbox and click the link to complete the email change."})}),s.jsx("button",{onClick:()=>{ri(),setTimeout(()=>{C&&(console.log(" Fallback: Resetting email loading state"),E(!1))},5e3)},disabled:C,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-medium hover:from-blue-600 hover:to-purple-700 transition-all duration-300 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Sending...":"Send Verification Email"})]})]}),s.jsxs("div",{className:"mt-8 p-6 bg-red-500/10 border border-red-500/20 rounded-xl",children:[s.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-2",children:" Delete Account"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-red-500/20 border border-red-500/30 rounded-lg",children:[s.jsx("p",{className:"text-red-300 text-sm font-medium mb-2",children:" WARNING: This action is irreversible!"}),s.jsx("p",{className:"text-gray-300 text-sm",children:"Deleting your account will permanently remove:"}),s.jsxs("ul",{className:"text-gray-400 text-sm mt-2 ml-4 list-disc",children:[s.jsx("li",{children:"Your profile and personal information"}),s.jsx("li",{children:"All orders and purchase history"}),s.jsx("li",{children:"Favorites and wishlists"}),s.jsx("li",{children:"Security settings and preferences"}),s.jsx("li",{children:"All associated data from our database"})]})]}),s.jsx("p",{className:"text-gray-300 text-sm",children:"This action cannot be undone. Please be absolutely certain before proceeding."}),s.jsx("button",{onClick:ii,className:"px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-medium hover:from-red-600 hover:to-red-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:" Delete Account Permanently"})]})]})]}),z==="settings"&&s.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-3xl border border-white/10 p-8 mb-8 shadow-2xl",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Account Settings"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Receive email updates about your orders and account"})]}),s.jsx("button",{onClick:()=>X(!W),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${W?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${W?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"SMS Notifications"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Receive SMS updates for important account changes"})]}),s.jsx("button",{onClick:()=>ie(!G),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${G?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${G?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Add an extra layer of security to your account"})]}),s.jsx("button",{onClick:()=>Me(!se),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${se?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${se?"right-1":"left-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium",children:"Dark Mode"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Use dark theme for better experience"})]}),s.jsx("button",{onClick:()=>St(!ke),className:`w-12 h-6 rounded-full relative cursor-pointer transition-colors duration-300 ${ke?"bg-blue-500":"bg-gray-600"}`,children:s.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform duration-300 ${ke?"right-1":"left-1"}`})})]})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-dark text-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Profile Not Found"}),s.jsx("p",{className:"text-gray-300",children:"Unable to load your profile data."})]})})},Ub=({onClose:d,onSuccess:l})=>{const{cartItems:o,getCartTotalPrice:i,getCartTotalQuantity:u}=Ll(),{user:h}=qt(),[f,p]=q.useState(!1),[x,g]=q.useState(""),[y,v]=q.useState(null),[_,T]=q.useState(""),[C,E]=q.useState({email:(h==null?void 0:h.email)||"",firstName:(h==null?void 0:h.firstName)||"",lastName:(h==null?void 0:h.lastName)||"",address:"",city:"",state:"",zipCode:"",country:"US",phone:"",paymentMethod:"card",cardNumber:"",expiryDate:"",cvv:"",nameOnCard:""}),O=i(),S=O*.08,k=O>100?0:15,z=y?Q(O):0,$=O+S+k-z;function Q(I){if(!y)return 0;if(y.type==="percentage"){const fe=I*y.value/100;return y.maximum_discount?Math.min(fe,y.maximum_discount):fe}else return Math.min(y.value,I)}const F=async()=>{if(x.trim())try{const{data:I,error:fe}=await ae.from("coupons").select("*").eq("code",x.toUpperCase()).eq("is_active",!0).single();if(fe)throw fe;if(!I){T("Invalid coupon code");return}const ue=new Date,de=new Date(I.valid_from),pe=I.valid_until?new Date(I.valid_until):null;if(ue<de||pe&&ue>pe){T("Coupon has expired");return}if(I.usage_limit&&I.used_count>=I.usage_limit){T("Coupon usage limit reached");return}if(O<I.minimum_amount){T(`Minimum order amount of $${I.minimum_amount} required`);return}v(I),T("")}catch{T("Invalid coupon code")}},J=()=>{v(null),g(""),T("")},le=async I=>{I.preventDefault(),p(!0);try{const{data:fe}=await ae.rpc("generate_order_number"),{data:ue,error:de}=await ae.from("orders").insert([{order_number:fe,user_id:h==null?void 0:h.id,status:"pending",subtotal:O,tax_amount:S,shipping_amount:k,discount_amount:z,total_amount:$,payment_status:"pending",payment_method:C.paymentMethod,shipping_address:{firstName:C.firstName,lastName:C.lastName,address:C.address,city:C.city,state:C.state,zipCode:C.zipCode,country:C.country,phone:C.phone},billing_address:{firstName:C.firstName,lastName:C.lastName,address:C.address,city:C.city,state:C.state,zipCode:C.zipCode,country:C.country,phone:C.phone}}]).select().single();if(de)throw de;const pe=o.map(M=>({order_id:ue.id,product_id:M.id,quantity:M.quantity,unit_price:M.price,total_price:M.price*M.quantity,product_snapshot:{name:M.name,tagline:M.tagline,images:M.images,specs:M.specs}})),{error:me}=await ae.from("order_items").insert(pe);if(me)throw me;for(const M of o)await ae.rpc("update_product_stock",{product_uuid:M.id,quantity_change:M.quantity,transaction_type:"out",reason:`Order ${fe}`});y&&await ae.from("coupon_usages").insert([{coupon_id:y.id,user_id:h==null?void 0:h.id,order_id:ue.id,discount_amount:z}]),l()}catch(fe){console.error("Error creating order:",fe),alert("Error creating order. Please try again.")}finally{p(!1)}};return o.length===0?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 p-8 text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Your cart is empty"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Add some products to your cart before checkout."}),s.jsx("button",{onClick:d,className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Continue Shopping"})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Checkout"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:s.jsxs("form",{onSubmit:le,className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Shipping Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"First Name"}),s.jsx("input",{type:"text",value:C.firstName,onChange:I=>E({...C,firstName:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Last Name"}),s.jsx("input",{type:"text",value:C.lastName,onChange:I=>E({...C,lastName:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-white mb-2",children:"Email"}),s.jsx("input",{type:"email",value:C.email,onChange:I=>E({...C,email:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-white mb-2",children:"Address"}),s.jsx("input",{type:"text",value:C.address,onChange:I=>E({...C,address:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"City"}),s.jsx("input",{type:"text",value:C.city,onChange:I=>E({...C,city:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"State"}),s.jsx("input",{type:"text",value:C.state,onChange:I=>E({...C,state:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"ZIP Code"}),s.jsx("input",{type:"text",value:C.zipCode,onChange:I=>E({...C,zipCode:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Phone"}),s.jsx("input",{type:"tel",value:C.phone,onChange:I=>E({...C,phone:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Payment Information"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Card Number"}),s.jsx("input",{type:"text",value:C.cardNumber,onChange:I=>E({...C,cardNumber:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"1234 5678 9012 3456",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Expiry Date"}),s.jsx("input",{type:"text",value:C.expiryDate,onChange:I=>E({...C,expiryDate:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"MM/YY",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"CVV"}),s.jsx("input",{type:"text",value:C.cvv,onChange:I=>E({...C,cvv:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"123",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Name on Card"}),s.jsx("input",{type:"text",value:C.nameOnCard,onChange:I=>E({...C,nameOnCard:I.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Order Summary"}),s.jsx("div",{className:"space-y-3",children:o.map(I=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:I.images[0],alt:I.name,className:"w-12 h-12 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:I.name}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Qty: ",I.quantity]})]})]}),s.jsxs("p",{className:"text-white font-semibold",children:["$",(I.price*I.quantity).toFixed(2)]})]},I.id))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Coupon Code"}),s.jsxs("div",{className:"space-y-3",children:[y?s.jsx("div",{className:"bg-green-600/20 border border-green-600/50 rounded-lg p-3",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-green-400 font-semibold",children:y.code}),s.jsx("p",{className:"text-green-300 text-sm",children:y.name})]}),s.jsx("button",{type:"button",onClick:J,className:"text-red-400 hover:text-red-300",children:"Remove"})]})}):s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:x,onChange:I=>g(I.target.value.toUpperCase()),placeholder:"Enter coupon code",className:"flex-1 bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"}),s.jsx("button",{type:"button",onClick:F,className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Apply"})]}),_&&s.jsx("p",{className:"text-red-400 text-sm",children:_})]})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Subtotal"}),s.jsxs("span",{className:"text-white",children:["$",O.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Tax"}),s.jsxs("span",{className:"text-white",children:["$",S.toFixed(2)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Shipping"}),s.jsx("span",{className:"text-white",children:k===0?"Free":`$${k.toFixed(2)}`})]}),z>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-green-400",children:"Discount"}),s.jsxs("span",{className:"text-green-400",children:["-$",z.toFixed(2)]})]}),s.jsx("div",{className:"border-t border-gray-700 pt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-white font-semibold text-lg",children:"Total"}),s.jsxs("span",{className:"text-white font-semibold text-lg",children:["$",$.toFixed(2)]})]})})]}),s.jsx("button",{type:"submit",disabled:f,className:"w-full bg-nyx-blue text-nyx-black py-3 rounded-lg font-semibold hover:bg-white transition-colors disabled:opacity-50",children:f?"Processing...":`Place Order - $${$.toFixed(2)}`})]})]})})]})})},Rb=({className:d="w-6 h-6"})=>s.jsx("svg",{className:d,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),pm=({className:d="w-6 h-6"})=>s.jsx("svg",{className:d,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Mb=({navigateTo:d})=>{const{isCartOpen:l,closeCart:o,cartItems:i,removeFromCart:u,updateItemQuantity:h,getCartTotalPrice:f}=Ll(),[p,x]=q.useState(!1),[g,y]=q.useState(!1);return l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[99] backdrop-blur-sm",onClick:o}),s.jsxs("aside",{className:`fixed top-0 right-0 h-full w-full max-w-md bg-nyx-black border-l border-nyx-gray/50 z-[100] transform transition-transform duration-300 ease-in-out ${l?"translate-x-0":"translate-x-full"} flex flex-col`,children:[s.jsxs("header",{className:"flex justify-between items-center p-6 border-b border-nyx-gray/50",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Your Cart"}),s.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white",children:s.jsx(Rb,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"flex-grow p-6 overflow-y-auto",children:i.length===0?s.jsxs("div",{className:"text-center text-gray-400 h-full flex flex-col justify-center items-center",children:[s.jsx("p",{className:"text-lg",children:"Your cart is empty."}),s.jsx("button",{onClick:o,className:"mt-4 text-nyx-blue hover:underline",children:"Continue Shopping"})]}):s.jsx("ul",{className:"space-y-4",children:i.map(v=>s.jsxs("li",{className:"flex gap-4 items-center",children:[s.jsx("img",{src:v.images[0],alt:v.name,className:"w-20 h-20 object-cover rounded-md bg-nyx-gray"}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h3",{className:"font-semibold",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-400",children:["",v.price.toFixed(2)]}),s.jsx("div",{className:"flex items-center mt-2",children:s.jsxs("div",{className:"flex items-center border border-gray-700 rounded-full text-sm",children:[v.quantity===1?s.jsx("button",{onClick:()=>u(v.id),className:"w-8 py-1 hover:bg-nyx-gray/50 rounded-l-full flex items-center justify-center","aria-label":"Remove item",children:s.jsx(pm,{className:"w-4 h-4 text-red-500"})}):s.jsx("button",{onClick:()=>h(v.id,v.quantity-1),className:"w-8 py-1 hover:bg-nyx-gray/50 rounded-l-full","aria-label":"Decrease quantity",children:"-"}),s.jsx("span",{className:"px-3 select-none",children:v.quantity}),s.jsx("button",{onClick:()=>h(v.id,v.quantity+1),disabled:v.quantity>=5,className:"w-8 py-1 hover:bg-nyx-gray/50 rounded-r-full disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Increase quantity",children:"+"})]})})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-semibold",children:["",(v.price*v.quantity).toFixed(2)]}),s.jsx("button",{onClick:()=>u(v.id),className:"text-gray-500 hover:text-red-500 transition-colors mt-2",children:s.jsx(pm,{className:"w-5 h-5"})})]})]},v.id))})}),i.length>0&&s.jsxs("footer",{className:"p-6 border-t border-nyx-gray/50",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 text-lg",children:[s.jsx("span",{className:"font-medium",children:"Subtotal"}),s.jsxs("span",{className:"font-bold text-nyx-blue",children:["",f().toFixed(2)]})]}),s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("input",{type:"checkbox",id:"cart-terms",checked:p,onChange:v=>x(v.target.checked),className:"mt-1 h-4 w-4 shrink-0 rounded border-gray-600 bg-nyx-black text-nyx-blue focus:ring-nyx-blue focus:ring-offset-nyx-black"}),s.jsxs("label",{htmlFor:"cart-terms",className:"text-xs text-gray-400",children:["I agree to the"," ",s.jsx("button",{type:"button",onClick:()=>{o(),d("legal",{slug:"terms-conditions",title:"Terms & Conditions"})},className:"font-semibold text-nyx-blue hover:underline focus:outline-none",children:"Terms & Conditions"})," and"," ",s.jsx("button",{type:"button",onClick:()=>{o(),d("legal",{slug:"privacy-policy",title:"Privacy Policy"})},className:"font-semibold text-nyx-blue hover:underline focus:outline-none",children:"Privacy Policy"}),"."]})]}),s.jsx("button",{onClick:()=>y(!0),disabled:!p,className:"w-full bg-nyx-blue text-nyx-black font-bold py-3 px-8 rounded-full hover:bg-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100",children:"Proceed to Checkout"})]})]}),g&&s.jsx(Ub,{onClose:()=>y(!1),onSuccess:()=>{y(!1),o(),alert("Order placed successfully!")}})]}):null},zb=()=>{const[d,l]=q.useState(!1);q.useEffect(()=>{localStorage.getItem("cookie-consent")||l(!0)},[]);const o=()=>{localStorage.setItem("cookie-consent","accepted"),l(!1)},i=()=>{localStorage.setItem("cookie-consent","declined"),l(!1)};return d?s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-nyx-black border-t border-nyx-gray/50 p-4 z-50",children:s.jsx("div",{className:"container mx-auto max-w-6xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("p",{className:"text-white text-sm",children:['We use cookies to enhance your experience and analyze our traffic. By clicking "Accept All", you consent to our use of cookies.'," ",s.jsx("button",{className:"text-nyx-blue hover:underline",children:"Learn more"})]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:i,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Decline"}),s.jsx("button",{onClick:o,className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg hover:bg-white transition-colors text-sm font-semibold",children:"Accept All"})]})]})})}):null},Lb=({product:d,navigateTo:l})=>{var u,h;const{addToCart:o}=Ll(),i=f=>{f.stopPropagation(),o(d,1)};return s.jsxs("div",{className:"product-card cursor-pointer",onClick:()=>l("product-detail",{product:d}),children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:((u=d.images)==null?void 0:u[0])||d.imageUrl||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",alt:d.name,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 hover:text-nyx-blue transition-colors",children:d.name}),s.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:[(h=d.description)==null?void 0:h.substring(0,100),"..."]}),s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-2xl font-bold text-white",children:["$",d.price]})})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-400",children:d.stock>0?`${d.stock} in stock`:"Out of stock"}),s.jsx("button",{onClick:i,disabled:d.stock===0,className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:d.stock>0?"Add to Cart":"Out of Stock"})]})]})]})},Zc=({onClose:d,openAddForm:l=!1})=>{const{user:o}=qt(),[i,u]=q.useState([]),[h,f]=q.useState(!0),[p,x]=q.useState(null),[g,y]=q.useState(!1),v=o&&(o.roles.includes("seller")||o.roles.includes("admin")||o.roles.includes("super-admin"));o&&(o.roles.includes("admin")||o.roles.includes("super-admin"));const[_,T]=q.useState({name:"",tagline:"",description:"",price:"",originalPrice:"",stock:"",sku:"",images:"",specs:"",features:"",isVisible:!1,isFeatured:!1}),[C,E]=q.useState(!1),[O,K]=q.useState(""),[S,k]=q.useState([]),[z,$]=q.useState(""),[Q,F]=q.useState([{name:"",value:""}]),[J,le]=q.useState(!1);q.useEffect(()=>{I()},[]),q.useEffect(()=>{l&&(y(!0),x(null),M())},[l]);const I=async()=>{try{const{data:D,error:w}=await ae.from("products").select("*").order("created_at",{ascending:!1});if(w)throw w;u(D||[])}catch(D){console.error("Error fetching products:",D)}finally{f(!1)}},fe=async D=>{le(!0);const w=Array.from(D).map(async H=>{const W=H.name.split(".").pop(),G=`products/${`${Date.now()}-${Math.random().toString(36).substring(2)}.${W}`}`,{error:ie}=await ae.storage.from("product-images").upload(G,H);if(ie)throw ie;const{data:se}=ae.storage.from("product-images").getPublicUrl(G);return se.publicUrl});try{const H=await Promise.all(w);k(W=>[...W,...H])}catch(H){console.error("Error uploading images:",H),alert("Error uploading images. Please try again.")}finally{le(!1)}},ue=()=>{F(D=>[...D,{name:"",value:""}])},de=D=>{F(w=>w.filter((H,W)=>W!==D))},pe=(D,w,H)=>{F(W=>W.map((X,G)=>G===D?{...X,[w]:H}:X))},me=async D=>{D.preventDefault(),console.log(" Form submitted!",_);try{const w=[...S,...z.split(",").map(X=>X.trim()).filter(X=>X)],H=Q.reduce((X,G)=>(G.name&&G.value&&(X[G.name]=G.value),X),{}),W={..._,price:parseFloat(C?O:_.price),originalPrice:C?parseFloat(_.price):null,stock:parseInt(_.stock),images:w,specs:H,features:_.features.split(",").map(X=>X.trim()).filter(X=>X),slug:_.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")};if(p){const{error:X}=await ae.from("products").update(W).eq("id",p.id);if(X)throw X}else{const{error:X}=await ae.from("products").insert([W]);if(X)throw X}x(null),y(!1),M(),I()}catch(w){console.error("Error saving product:",w)}},M=()=>{T({name:"",tagline:"",description:"",price:"",originalPrice:"",stock:"",sku:"",images:"",specs:"",features:"",isVisible:!1,isFeatured:!1}),E(!1),K(""),k([]),$(""),F([{name:"",value:""}])},Z=D=>{var H;x(D),T({name:D.name,tagline:D.tagline,description:D.description||"",price:D.price.toString(),originalPrice:((H=D.originalPrice)==null?void 0:H.toString())||"",stock:D.stock.toString(),sku:D.sku||"",images:D.images.join(", "),specs:JSON.stringify(D.specs,null,2),features:D.features.join(", "),isVisible:D.isVisible,isFeatured:D.isFeatured||!1}),E(!!D.originalPrice),K(D.originalPrice?D.price.toString():""),k([]),$(D.images.join(", "));const w=Object.entries(D.specs||{}).map(([W,X])=>({name:W,value:X}));F(w.length>0?w:[{name:"",value:""}]),y(!0)},te=async D=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:w}=await ae.from("products").delete().eq("id",D);if(w)throw w;I()}catch(w){console.error("Error deleting product:",w)}};return v?h?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading products..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Product Management"}),s.jsx("div",{className:"flex gap-3",children:s.jsxs("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Close"]})})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:g?s.jsxs("form",{onSubmit:me,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Product Name"}),s.jsx("input",{type:"text",value:_.name,onChange:D=>T({..._,name:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Tagline"}),s.jsx("input",{type:"text",value:_.tagline,onChange:D=>T({..._,tagline:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Original Price"}),s.jsx("input",{type:"number",step:"0.01",value:_.price,onChange:D=>T({..._,price:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center text-white mb-2",children:[s.jsxs("div",{className:"relative inline-block w-12 h-6 mr-3",children:[s.jsx("input",{type:"checkbox",checked:C,onChange:D=>E(D.target.checked),className:"sr-only"}),s.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${C?"bg-nyx-blue":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${C?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),"Apply Discount"]}),C&&s.jsx("input",{type:"number",step:"0.01",value:O,onChange:D=>K(D.target.value),placeholder:"Discounted price",className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Stock"}),s.jsx("input",{type:"number",value:_.stock,onChange:D=>T({..._,stock:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"SKU"}),s.jsx("input",{type:"text",value:_.sku,onChange:D=>T({..._,sku:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Description"}),s.jsx("textarea",{value:_.description,onChange:D=>T({..._,description:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-24"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Product Images"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Upload Images"}),s.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:D=>D.target.files&&fe(D.target.files),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-nyx-blue file:text-nyx-black hover:file:bg-white",disabled:J}),J&&s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Uploading images..."})]}),S.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Uploaded Images"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map((D,w)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:D,alt:`Uploaded ${w+1}`,className:"w-20 h-20 object-cover rounded-lg"}),s.jsx("button",{type:"button",onClick:()=>k(H=>H.filter((W,X)=>X!==w)),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600",children:""})]},w))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Or add image URLs (comma-separated)"}),s.jsx("textarea",{value:z,onChange:D=>$(D.target.value),placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Product Specifications"}),s.jsxs("div",{className:"space-y-3",children:[Q.map((D,w)=>s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx("input",{type:"text",placeholder:"Spec name (e.g., Weight, Dimensions)",value:D.name,onChange:H=>pe(w,"name",H.target.value),className:"flex-1 bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"}),s.jsx("input",{type:"text",placeholder:"Spec value (e.g., 2.5kg, 10x15cm)",value:D.value,onChange:H=>pe(w,"value",H.target.value),className:"flex-1 bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"}),s.jsx("button",{type:"button",onClick:()=>de(w),className:"bg-red-500 text-white w-8 h-8 rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center",disabled:Q.length===1,title:"Remove specification",children:""})]},w)),s.jsx("button",{type:"button",onClick:ue,className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Add Specification"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Features (comma-separated)"}),s.jsx("input",{type:"text",value:_.features,onChange:D=>T({..._,features:D.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsxs("div",{className:"relative inline-block w-12 h-6 mr-3",children:[s.jsx("input",{type:"checkbox",checked:_.isVisible,onChange:D=>T({..._,isVisible:D.target.checked}),className:"sr-only"}),s.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${_.isVisible?"bg-green-500":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${_.isVisible?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Visible to Everyone"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Product will be visible on the website"})]})]})}),s.jsx("div",{className:"flex items-center",children:s.jsxs("label",{className:"flex items-center cursor-pointer",children:[s.jsxs("div",{className:"relative inline-block w-12 h-6 mr-3",children:[s.jsx("input",{type:"checkbox",checked:_.isFeatured,onChange:D=>T({..._,isFeatured:D.target.checked}),className:"sr-only"}),s.jsx("div",{className:`w-12 h-6 rounded-full transition-colors duration-200 ${_.isFeatured?"bg-yellow-500":"bg-gray-600"}`,children:s.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform duration-200 ${_.isFeatured?"translate-x-6":"translate-x-0.5"} mt-0.5`})})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-medium",children:"Featured Product"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Product will be highlighted on homepage and featured sections"})]})]})})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:p?"Update Product":"Add Product"}),s.jsx("button",{type:"button",onClick:d,className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}):s.jsx("div",{className:"space-y-4",children:i.map(D=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:D.name}),s.jsx("p",{className:"text-gray-300 mb-2",children:D.tagline}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Price: $",D.price]}),s.jsxs("span",{children:["Stock: ",D.stock]}),s.jsxs("span",{children:["SKU: ",D.sku||"N/A"]}),s.jsx("span",{className:D.isVisible?"text-green-400":"text-red-400",children:D.isVisible?"Visible":"Hidden"}),D.isFeatured&&s.jsx("span",{className:"text-yellow-400",children:"Featured"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>Z(D),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>te(D.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]})},D.id))})})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have permission to manage products."}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Required roles: Seller, Admin, or Super Admin"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})})},qb=({onClose:d})=>{const{user:l}=qt(),[o,i]=q.useState([]),[u,h]=q.useState(!0),[f,p]=q.useState(null),[x,g]=q.useState(!1),y=l&&(l.roles.includes("content_writer")||l.roles.includes("admin")||l.roles.includes("super-admin"));l&&(l.roles.includes("admin")||l.roles.includes("super-admin"));const[v,_]=q.useState({title:"",excerpt:"",content:"",featuredImage:"",status:"draft",tags:"",seoTitle:"",seoDescription:"",isFeatured:!1});q.useEffect(()=>{T()},[]);const T=async()=>{try{const{data:k,error:z}=await ae.from("blog_posts").select("*").order("created_at",{ascending:!1});if(z)throw z;i(k||[])}catch(k){console.error("Error fetching blog posts:",k)}finally{h(!1)}},C=async k=>{k.preventDefault();try{const z={...v,slug:v.title.toLowerCase().replace(/[^a-z0-9]+/g,"-"),tags:v.tags.split(",").map($=>$.trim()).filter($=>$),published_at:v.status==="published"?new Date().toISOString():null};if(f){const{error:$}=await ae.from("blog_posts").update(z).eq("id",f.id);if($)throw $}else{const{error:$}=await ae.from("blog_posts").insert([z]);if($)throw $}p(null),g(!1),E(),T()}catch(z){console.error("Error saving blog post:",z)}},E=()=>{_({title:"",excerpt:"",content:"",featuredImage:"",status:"draft",tags:"",seoTitle:"",seoDescription:"",isFeatured:!1})},O=k=>{var z;p(k),_({title:k.title,excerpt:k.excerpt||"",content:k.content,featuredImage:k.imageUrl||"",status:k.status||"draft",tags:((z=k.tags)==null?void 0:z.join(", "))||"",seoTitle:k.seoTitle||"",seoDescription:k.seoDescription||"",isFeatured:k.isFeatured||!1}),g(!0)},K=async k=>{if(confirm("Are you sure you want to delete this blog post?"))try{const{error:z}=await ae.from("blog_posts").delete().eq("id",k);if(z)throw z;T()}catch(z){console.error("Error deleting blog post:",z)}},S=async(k,z)=>{try{const $=z==="published"?"draft":"published",Q=$==="published"?new Date().toISOString():null,{error:F}=await ae.from("blog_posts").update({status:$,published_at:Q}).eq("id",k);if(F)throw F;T()}catch($){console.error("Error updating blog post status:",$)}};return y?u?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading blog posts..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Blog Management"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{g(!0),p(null),E()},className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Add Post"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:x?s.jsxs("form",{onSubmit:C,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Title"}),s.jsx("input",{type:"text",value:v.title,onChange:k=>_({...v,title:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Excerpt"}),s.jsx("textarea",{value:v.excerpt,onChange:k=>_({...v,excerpt:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Content"}),s.jsx("textarea",{value:v.content,onChange:k=>_({...v,content:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-40",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Featured Image URL"}),s.jsx("input",{type:"url",value:v.featuredImage,onChange:k=>_({...v,featuredImage:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Status"}),s.jsxs("select",{value:v.status,onChange:k=>_({...v,status:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Tags (comma-separated)"}),s.jsx("input",{type:"text",value:v.tags,onChange:k=>_({...v,tags:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",placeholder:"smart home, technology, automation"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"SEO Title"}),s.jsx("input",{type:"text",value:v.seoTitle,onChange:k=>_({...v,seoTitle:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"SEO Description"}),s.jsx("textarea",{value:v.seoDescription,onChange:k=>_({...v,seoDescription:k.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("label",{className:"flex items-center text-white",children:[s.jsx("input",{type:"checkbox",checked:v.isFeatured,onChange:k=>_({...v,isFeatured:k.target.checked}),className:"mr-2"}),"Featured Post"]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:f?"Update Post":"Add Post"}),s.jsx("button",{type:"button",onClick:()=>{g(!1),p(null),E()},className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):s.jsx("div",{className:"space-y-4",children:o.map(k=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:k.title}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${k.status==="published"?"bg-green-600 text-white":k.status==="draft"?"bg-yellow-600 text-white":"bg-gray-600 text-white"}`,children:k.status}),k.isFeatured&&s.jsx("span",{className:"px-2 py-1 bg-yellow-600 text-white rounded text-xs font-semibold",children:"Featured"})]}),s.jsx("p",{className:"text-gray-300 mb-2",children:k.excerpt}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Author: ",k.author]}),s.jsxs("span",{children:["Created: ",new Date(k.date).toLocaleDateString()]}),s.jsxs("span",{children:["Views: ",k.viewCount||0]}),k.tags&&k.tags.length>0&&s.jsxs("span",{children:["Tags: ",k.tags.join(", ")]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>S(k.id,k.status||"draft"),className:`px-3 py-1 rounded text-sm transition-colors ${k.status==="published"?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:k.status==="published"?"Unpublish":"Publish"}),s.jsx("button",{onClick:()=>O(k),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>K(k.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]})},k.id))})})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have permission to manage blog posts."}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Required roles: Content Writer, Admin, or Super Admin"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})})},Bb=({onClose:d})=>{const[l,o]=q.useState([]),[i,u]=q.useState(!0),[h,f]=q.useState(null),[p,x]=q.useState("all");q.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:E,error:O}=await ae.from("orders").select(`
          *,
          profiles!orders_user_id_fkey(first_name, last_name, email),
          order_items(*)
        `).order("created_at",{ascending:!1});if(O)throw O;const K=(E==null?void 0:E.map(S=>{var k;return{...S,customer_name:S.profiles?`${S.profiles.first_name} ${S.profiles.last_name}`:"Guest",customer_email:((k=S.profiles)==null?void 0:k.email)||"N/A",items:S.order_items||[]}}))||[];o(K)}catch(E){console.error("Error fetching orders:",E)}finally{u(!1)}},y=async(E,O)=>{try{const K={status:O};O==="shipped"?K.shipped_at=new Date().toISOString():O==="delivered"&&(K.delivered_at=new Date().toISOString());const{error:S}=await ae.from("orders").update(K).eq("id",E);if(S)throw S;g()}catch(K){console.error("Error updating order status:",K)}},v=async(E,O)=>{try{const{error:K}=await ae.from("orders").update({tracking_number:O,status:"shipped",shipped_at:new Date().toISOString()}).eq("id",E);if(K)throw K;g()}catch(K){console.error("Error updating tracking number:",K)}},_=E=>{switch(E){case"pending":return"bg-yellow-600";case"confirmed":return"bg-blue-600";case"processing":return"bg-purple-600";case"shipped":return"bg-indigo-600";case"delivered":return"bg-green-600";case"cancelled":return"bg-red-600";case"refunded":return"bg-gray-600";default:return"bg-gray-600"}},T=E=>{switch(E){case"paid":return"bg-green-600";case"pending":return"bg-yellow-600";case"failed":return"bg-red-600";case"refunded":return"bg-gray-600";default:return"bg-gray-600"}},C=p==="all"?l:l.filter(E=>E.status===p);return i?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading orders..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-7xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Order Management"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:p,onChange:E=>x(E.target.value),className:"bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"all",children:"All Orders"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancelled"}),s.jsx("option",{value:"refunded",children:"Refunded"})]}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:h?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-xl font-semibold text-white",children:["Order Details: ",h.order_number]}),s.jsx("button",{onClick:()=>f(null),className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Back to Orders"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Customer Information"}),s.jsxs("div",{className:"space-y-2 text-gray-300",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Name:"})," ",h.customer_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",h.customer_email]})]})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Order Status"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300",children:"Status:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${_(h.status)}`,children:h.status})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300",children:"Payment:"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${T(h.payment_status)}`,children:h.payment_status})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-300",children:"Total:"}),s.jsxs("span",{className:"text-white font-semibold",children:["$",h.total_amount]})]})]})]})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Order Items"}),s.jsx("div",{className:"space-y-3",children:h.items.map(E=>{var O;return s.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-medium",children:((O=E.product_snapshot)==null?void 0:O.name)||"Product"}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Qty: ",E.quantity]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-white",children:["$",E.unit_price]}),s.jsxs("p",{className:"text-gray-400 text-sm",children:["Total: $",E.total_price]})]})]},E.id)})})]}),s.jsxs("div",{className:"bg-nyx-gray rounded-lg p-4",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Shipping Address"}),s.jsx("div",{className:"text-gray-300",children:s.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(h.shipping_address,null,2)})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{onChange:E=>y(h.id,E.target.value),className:"bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"",children:"Update Status"}),s.jsx("option",{value:"confirmed",children:"Confirm"}),s.jsx("option",{value:"processing",children:"Processing"}),s.jsx("option",{value:"shipped",children:"Shipped"}),s.jsx("option",{value:"delivered",children:"Delivered"}),s.jsx("option",{value:"cancelled",children:"Cancel"})]}),s.jsx("input",{type:"text",placeholder:"Tracking Number",onKeyPress:E=>{E.key==="Enter"&&(v(h.id,E.currentTarget.value),E.currentTarget.value="")},className:"bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}):s.jsx("div",{className:"space-y-4",children:C.map(E=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:E.order_number}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${_(E.status)}`,children:E.status}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold text-white ${T(E.payment_status)}`,children:E.payment_status})]}),s.jsxs("div",{className:"text-gray-300 mb-2",children:[s.jsxs("p",{children:["Customer: ",E.customer_name]}),s.jsxs("p",{children:["Email: ",E.customer_email]}),s.jsxs("p",{children:["Items: ",E.items.length]})]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Total: $",E.total_amount]}),s.jsxs("span",{children:["Created: ",new Date(E.created_at).toLocaleDateString()]}),E.tracking_number&&s.jsxs("span",{children:["Tracking: ",E.tracking_number]})]})]}),s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{onClick:()=>f(E),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"View Details"})})]})},E.id))})})]})})},Hb=({onClose:d})=>{const[l,o]=q.useState([]),[i,u]=q.useState(!0),[h,f]=q.useState(null),[p,x]=q.useState(!1),[g,y]=q.useState({code:"",name:"",description:"",type:"percentage",value:"",minimum_amount:"",maximum_discount:"",usage_limit:"",is_active:!0,valid_from:new Date().toISOString().split("T")[0],valid_until:""});q.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:S,error:k}=await ae.from("coupons").select("*").order("created_at",{ascending:!1});if(k)throw k;o(S||[])}catch(S){console.error("Error fetching coupons:",S)}finally{u(!1)}},_=async S=>{S.preventDefault();try{const k={...g,value:parseFloat(g.value),minimum_amount:parseFloat(g.minimum_amount)||0,maximum_discount:g.maximum_discount?parseFloat(g.maximum_discount):null,usage_limit:g.usage_limit?parseInt(g.usage_limit):null,valid_until:g.valid_until?new Date(g.valid_until).toISOString():null};if(h){const{error:z}=await ae.from("coupons").update(k).eq("id",h.id);if(z)throw z}else{const{error:z}=await ae.from("coupons").insert([k]);if(z)throw z}f(null),x(!1),T(),v()}catch(k){console.error("Error saving coupon:",k)}},T=()=>{y({code:"",name:"",description:"",type:"percentage",value:"",minimum_amount:"",maximum_discount:"",usage_limit:"",is_active:!0,valid_from:new Date().toISOString().split("T")[0],valid_until:""})},C=S=>{var k,z;f(S),y({code:S.code,name:S.name,description:S.description||"",type:S.type,value:S.value.toString(),minimum_amount:S.minimum_amount.toString(),maximum_discount:((k=S.maximum_discount)==null?void 0:k.toString())||"",usage_limit:((z=S.usage_limit)==null?void 0:z.toString())||"",is_active:S.is_active,valid_from:new Date(S.valid_from).toISOString().split("T")[0],valid_until:S.valid_until?new Date(S.valid_until).toISOString().split("T")[0]:""}),x(!0)},E=async S=>{if(confirm("Are you sure you want to delete this coupon?"))try{const{error:k}=await ae.from("coupons").delete().eq("id",S);if(k)throw k;v()}catch(k){console.error("Error deleting coupon:",k)}},O=async(S,k)=>{try{const{error:z}=await ae.from("coupons").update({is_active:!k}).eq("id",S);if(z)throw z;v()}catch(z){console.error("Error updating coupon status:",z)}},K=S=>{const k=new Date,z=new Date(S.valid_from),$=S.valid_until?new Date(S.valid_until):null;return S.is_active&&k>=z&&(!$||k<=$)&&(!S.usage_limit||S.used_count<S.usage_limit)};return i?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx("div",{className:"bg-nyx-black p-8 rounded-2xl",children:s.jsx("div",{className:"text-white",children:"Loading coupons..."})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-nyx-black rounded-2xl border border-nyx-gray/50 w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"p-6 border-b border-nyx-gray/50 flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Coupon Management"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{x(!0),f(null),T()},className:"bg-nyx-blue text-nyx-black px-4 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:"Add Coupon"}),s.jsx("button",{onClick:d,className:"bg-nyx-gray text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})]})]}),s.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:p?s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Coupon Code"}),s.jsx("input",{type:"text",value:g.code,onChange:S=>y({...g,code:S.target.value.toUpperCase()}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Name"}),s.jsx("input",{type:"text",value:g.name,onChange:S=>y({...g,name:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Type"}),s.jsxs("select",{value:g.type,onChange:S=>y({...g,type:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",children:[s.jsx("option",{value:"percentage",children:"Percentage"}),s.jsx("option",{value:"fixed_amount",children:"Fixed Amount"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Value"}),s.jsx("input",{type:"number",step:"0.01",value:g.value,onChange:S=>y({...g,value:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Minimum Amount"}),s.jsx("input",{type:"number",step:"0.01",value:g.minimum_amount,onChange:S=>y({...g,minimum_amount:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Maximum Discount"}),s.jsx("input",{type:"number",step:"0.01",value:g.maximum_discount,onChange:S=>y({...g,maximum_discount:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Usage Limit"}),s.jsx("input",{type:"number",value:g.usage_limit,onChange:S=>y({...g,usage_limit:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Valid Until"}),s.jsx("input",{type:"date",value:g.valid_until,onChange:S=>y({...g,valid_until:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2",children:"Description"}),s.jsx("textarea",{value:g.description,onChange:S=>y({...g,description:S.target.value}),className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-2 px-3 text-white h-20"})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("label",{className:"flex items-center text-white",children:[s.jsx("input",{type:"checkbox",checked:g.is_active,onChange:S=>y({...g,is_active:S.target.checked}),className:"mr-2"}),"Active"]})}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",className:"bg-nyx-blue text-nyx-black px-6 py-2 rounded-lg font-semibold hover:bg-white transition-colors",children:h?"Update Coupon":"Add Coupon"}),s.jsx("button",{type:"button",onClick:()=>{x(!1),f(null),T()},className:"bg-nyx-gray text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]}):s.jsx("div",{className:"space-y-4",children:l.map(S=>s.jsx("div",{className:"bg-nyx-gray rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:S.code}),s.jsx("span",{className:"text-gray-300",children:S.name}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${K(S)?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:K(S)?"Valid":"Invalid"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${S.is_active?"bg-green-600 text-white":"bg-gray-600 text-white"}`,children:S.is_active?"Active":"Inactive"})]}),s.jsx("p",{className:"text-gray-300 mb-2",children:S.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[s.jsxs("span",{children:["Type: ",S.type==="percentage"?`${S.value}%`:`$${S.value}`]}),s.jsxs("span",{children:["Min: $",S.minimum_amount]}),s.jsxs("span",{children:["Used: ",S.used_count,"/",S.usage_limit||""]}),s.jsxs("span",{children:["Valid: ",new Date(S.valid_from).toLocaleDateString()," - ",S.valid_until?new Date(S.valid_until).toLocaleDateString():"No expiry"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>O(S.id,S.is_active),className:`px-3 py-1 rounded text-sm transition-colors ${S.is_active?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-green-600 text-white hover:bg-green-700"}`,children:S.is_active?"Deactivate":"Activate"}),s.jsx("button",{onClick:()=>C(S),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Edit"}),s.jsx("button",{onClick:()=>E(S.id),className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Delete"})]})]})},S.id))})})]})})},$b=({navigateTo:d,isUserMenuOpen:l,setIsUserMenuOpen:o,user:i,profileData:u,setShowProductManagement:h,setOpenAddForm:f})=>{var _,T,C,E,O,K,S,k,z,$,Q,F,J;const{logout:p}=qt(),[x,g]=q.useState(null),y=()=>{x&&(clearTimeout(x),g(null))},v=()=>{const le=setTimeout(()=>{o(!1)},250);g(le)};return l?s.jsxs("div",{onMouseEnter:y,onMouseLeave:v,className:"fixed top-16 right-4 w-80 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl z-50 overflow-hidden",style:{animation:"bubbleSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)",transform:"translateZ(0)",willChange:"transform, opacity"},children:[s.jsx("div",{className:"p-6 border-b border-white/10 bg-white/5",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-lg",children:((_=u==null?void 0:u.nickname)==null?void 0:_.substring(0,2).toUpperCase())||((C=(T=i==null?void 0:i.user_metadata)==null?void 0:T.full_name)==null?void 0:C.split(" ").map(le=>le[0]).join(""))||((E=i==null?void 0:i.email)==null?void 0:E.split("@")[0].substring(0,2).toUpperCase())||"U"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold text-lg",children:(u==null?void 0:u.nickname)||((O=i==null?void 0:i.user_metadata)==null?void 0:O.full_name)||((K=i==null?void 0:i.email)==null?void 0:K.split("@")[0])||"User"}),s.jsx("p",{className:"text-gray-300 text-sm",children:(i==null?void 0:i.email)||"user@example.com"}),s.jsxs("div",{className:"flex gap-1 mt-1",children:[((i==null?void 0:i.roles)||["user"]).slice(0,2).map((le,I)=>s.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${le==="super-admin"?"bg-red-500/20 text-red-300":le==="admin"?"bg-purple-500/20 text-purple-300":le==="seller"?"bg-green-500/20 text-green-300":le==="content_writer"?"bg-orange-500/20 text-orange-300":"bg-blue-500/20 text-blue-300"}`,children:le.toUpperCase()},I)),((i==null?void 0:i.roles)||[]).length>2&&s.jsxs("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-500/20 text-gray-300",children:["+",((i==null?void 0:i.roles)||[]).length-2]})]})]})]})}),s.jsxs("div",{className:"p-4 space-y-2",children:[s.jsxs("button",{onClick:()=>{d("profile"),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),s.jsx("span",{className:"font-medium",children:"Profile"})]}),(((S=i==null?void 0:i.roles)==null?void 0:S.includes("admin"))||((k=i==null?void 0:i.roles)==null?void 0:k.includes("super-admin")))&&s.jsxs("button",{onClick:()=>{d("admin"),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("span",{className:"font-medium",children:"Admin Dashboard"})]}),(((z=i==null?void 0:i.roles)==null?void 0:z.includes("admin"))||(($=i==null?void 0:i.roles)==null?void 0:$.includes("super-admin"))||((Q=i==null?void 0:i.roles)==null?void 0:Q.includes("seller")))&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>{h(!0),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:s.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),s.jsx("span",{className:"font-medium",children:"Manage Products"})]}),s.jsxs("button",{onClick:()=>{f(!0),h(!0),o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),s.jsx("span",{className:"font-medium",children:"Add New Product"})]})]}),(((F=i==null?void 0:i.roles)==null?void 0:F.includes("admin"))||((J=i==null?void 0:i.roles)==null?void 0:J.includes("super-admin")))&&s.jsxs("button",{onClick:()=>{o(!1)},className:"w-full flex items-center gap-3 p-3 text-white hover:bg-white/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),s.jsx("span",{className:"font-medium",children:"Add Blog Post"})]}),s.jsx("div",{className:"border-t border-white/10 my-2"}),s.jsxs("button",{onClick:async()=>{try{await p(),d("home")}catch(le){console.error(" ProfileDropdown Logout failed:",le)}o(!1)},className:"w-full flex items-center gap-3 p-3 text-red-400 hover:bg-red-500/10 rounded-xl transition-all duration-200 group",children:[s.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),s.jsx("span",{className:"font-medium",children:"Logout"})]})]})]}):null},$m=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),s.jsx("polyline",{points:"12 19 5 12 12 5"})]}),Ym=d=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",...d,children:s.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Yb=({isOpen:d,className:l})=>s.jsxs("svg",{className:l,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),s.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",className:`transition-transform duration-300 ${d?"rotate-90":""}`})]}),Gb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),s.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),Pb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),s.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),Vb=d=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:s.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),Gm=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),Xb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),s.jsx("circle",{cx:"9",cy:"7",r:"4"}),s.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),s.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Qb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[s.jsx("polyline",{points:"3 6 5 6 21 6"}),s.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),s.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),s.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]}),Kb=d=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",...d,children:[s.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),s.jsx("path",{fill:"#FF3D00",d:"M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),s.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238C29.211 35.091 26.715 36 24 36c-5.223 0-9.657-3.356-11.303-7.918l-6.573 5.013C9.657 39.646 16.318 44 24 44z"}),s.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C41.332 36.636 44 31.023 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),Zb=({navigateTo:d})=>{const[l,o]=q.useState(!0),[i,u]=q.useState(""),[h,f]=q.useState(""),[p,x]=q.useState(""),[g,y]=q.useState(""),[v,_]=q.useState(""),[T,C]=q.useState(""),[E,O]=q.useState(!1),[K,S]=q.useState(null),[k,z]=q.useState(null),[$,Q]=q.useState(!1),{login:F,signup:J,signInWithProvider:le,sendPasswordResetEmail:I}=qt(),[fe,ue]=q.useState(!1),[de,pe]=q.useState(""),me=async D=>{if(D.preventDefault(),console.log(" Form submitted!"),S(null),z(null),Q(!0),console.log(" Loading set to true"),l)try{console.log(" Starting login..."),console.log(" Email:",i),console.log(" Password length:",h.length),console.log(" Calling login function..."),await F(i,h),console.log(" Login successful!"),Q(!1),z("Login successful! Redirecting..."),console.log(" Navigating to home..."),d("home")}catch(w){console.error(" Login error:",w),S(w.message),Q(!1)}else{if(h!==p){S("Passwords do not match."),Q(!1);return}try{await J(g,v,T,i,h,E),z("Success! Please check your email to confirm your account."),y(""),_(""),C(""),u(""),f(""),x(""),O(!1)}catch(w){S(w.message),Q(!1)}}},M=async D=>{try{await le(D)}catch(w){S(w.message)}},Z=async D=>{D.preventDefault(),S(null),z(null),Q(!0);try{await I(de),z(`If an account with ${de} exists, a password reset link has been sent.`),pe("")}catch(w){S(w.message)}finally{Q(!1)}},te=(D,w,H,W,X,G=!0)=>s.jsx("div",{className:"relative",children:s.jsx("input",{id:D,name:D,type:w,value:H,onChange:W,placeholder:X,className:"w-full bg-nyx-gray border border-gray-700 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:border-nyx-blue transition-all",required:G})});return fe?s.jsxs("div",{className:"w-full max-w-md p-8 md:p-12 bg-nyx-black rounded-2xl border border-nyx-gray/50",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:"Reset Password"}),s.jsx("p",{className:"text-gray-400 mt-2",children:"Enter your email to receive a password reset link."})]}),s.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[te("forgot-email","email",de,D=>pe(D.target.value),"Your Email"),K&&s.jsx("p",{className:"text-red-500 text-sm",children:K}),k&&s.jsx("p",{className:"text-green-500 text-sm",children:k}),s.jsx("button",{type:"submit",disabled:$,className:"w-full bg-nyx-blue text-nyx-black font-bold py-3 px-8 rounded-full hover:bg-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:$?"Sending...":"Send Reset Link"})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsx("button",{onClick:()=>ue(!1),className:"text-sm text-nyx-blue hover:underline",children:"Back to Login"})})]}):s.jsxs("div",{className:"w-full max-w-md p-8 md:p-12 bg-nyx-black rounded-2xl border border-nyx-gray/50",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:l?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-gray-400 mt-2",children:l?"Sign in to continue":"Join the future of smart living"})]}),s.jsxs("form",{onSubmit:me,className:"space-y-4",children:[!l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-4",children:[te("firstName","text",g,D=>y(D.target.value),"First Name"),te("lastName","text",v,D=>_(D.target.value),"Last Name")]}),te("nickname","text",T,D=>C(D.target.value),"Nickname")]}),te("email",l?"text":"email",i,D=>u(D.target.value),l?"Email or Nickname":"Email"),te("password","password",h,D=>f(D.target.value),"Password"),!l&&te("confirmPassword","password",p,D=>x(D.target.value),"Confirm Password"),l&&s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"button",onClick:()=>ue(!0),className:"text-sm text-nyx-blue hover:underline",children:"Forgot Password?"})}),!l&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{id:"newsletter",name:"newsletter",type:"checkbox",checked:E,onChange:D=>O(D.target.checked),className:"h-4 w-4 rounded border-gray-600 bg-nyx-black text-nyx-blue focus:border-nyx-blue"}),s.jsx("label",{htmlFor:"newsletter",className:"ml-2 block text-sm text-gray-400",children:"Subscribe to our newsletter for updates."})]}),K&&s.jsx("p",{className:"text-red-500 text-sm text-center",children:K}),k&&s.jsx("p",{className:"text-green-500 text-sm text-center",children:k}),s.jsx("button",{type:"submit",disabled:$,className:"w-full bg-nyx-blue text-nyx-black font-bold py-3 px-8 rounded-full hover:bg-white transition-all duration-300 transform hover:scale-105 disabled:opacity-50",children:$?"Processing...":l?"Login":"Sign Up"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-700"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-nyx-black px-2 text-gray-500",children:"Or continue with"})})]}),s.jsx("div",{children:s.jsxs("button",{onClick:()=>M("google"),className:"w-full flex justify-center items-center gap-3 bg-nyx-gray border border-gray-700 rounded-lg py-3 px-4 text-white hover:bg-nyx-gray/50 transition-colors",children:[s.jsx(Kb,{className:"w-6 h-6"}),s.jsx("span",{children:"Sign in with Google"})]})}),s.jsxs("p",{className:"mt-8 text-center text-sm text-gray-400",children:[l?"Don't have an account? ":"Already have an account? ",s.jsx("button",{onClick:()=>{o(!l),S(null),z(null)},className:"font-semibold text-nyx-blue hover:underline",children:l?"Sign up":"Login"})]})]})},Jb=({navigateTo:d})=>s.jsx("main",{className:"min-h-screen flex items-center justify-center bg-dark py-12 px-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(Zb,{navigateTo:d})})}),Wb=()=>{const d=q.useRef(null),[l,o]=q.useState(!1),i=()=>{d.current&&(d.current.paused?(d.current.play(),o(!0)):(d.current.pause(),o(!1)))};return q.useEffect(()=>{const u=d.current;if(!u)return;const h=()=>o(!0),f=()=>o(!1),p=()=>o(!1);return u.addEventListener("play",h),u.addEventListener("pause",f),u.addEventListener("ended",p),()=>{u.removeEventListener("play",h),u.removeEventListener("pause",f),u.removeEventListener("ended",p)}},[]),s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"How NYX Works"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Experience the simplicity and power of the NYX ecosystem. From unboxing to everyday use, smart living has never been this effortless."})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden border border-brand-purple/50",children:[s.jsx("video",{ref:d,className:"w-full h-full object-cover",poster:"https://images.unsplash.com/photo-1543286386-71314c48926b?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",src:"https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",playsInline:!0,onClick:i}),!l&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 cursor-pointer",onClick:i,children:s.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm hover:bg-white/30 transition-all",children:s.jsx(Ym,{className:"w-10 h-10 text-white ml-1"})})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 max-w-6xl mx-auto mt-24 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-brand-purple mb-4",children:"1"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Unbox & Power On"}),s.jsx("p",{className:"text-gray-400",children:"Simply unbox your NYX device and connect it to power. The status light will guide you."})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-brand-purple mb-4",children:"2"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Connect to Wi-Fi"}),s.jsx("p",{className:"text-gray-400",children:"Open the NYX app, and it will automatically detect your new device and guide you through a quick Wi-Fi setup."})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"text-4xl font-bold text-brand-purple mb-4",children:"3"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Enjoy Smart Living"}),s.jsx("p",{className:"text-gray-400",children:"That's it! Your device is now part of your smart home, ready to be controlled and automated."})]})]})]})})},Ib=()=>{const d=[{id:1,title:"Setting Up Your NYX-1 Sensor",duration:"3:45",thumbnail:"https://images.unsplash.com/photo-1614036855179-73b185c7c229?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:2,title:"Connecting the NYX-Bulb",duration:"2:15",thumbnail:"https://images.unsplash.com/photo-1608999383953-d61f5d928ace?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:3,title:"Automations with NYX-Cam",duration:"5:30",thumbnail:"https://images.unsplash.com/photo-1599351549026-e57573708f52?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:4,title:"Advanced Features in the NYX App",duration:"8:12",thumbnail:"https://images.unsplash.com/photo-1558233043-4559e7a826a7?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}];return s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"Setup Videos"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Visual guides to help you get started with your NYX products in minutes."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:d.map(l=>s.jsxs("div",{className:"group cursor-pointer",children:[s.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden mb-4",children:[s.jsx("img",{src:l.thumbnail,alt:l.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm group-hover:bg-white/30 transition-all",children:s.jsx(Ym,{className:"w-8 h-8 text-white ml-1"})})}),s.jsx("span",{className:"absolute bottom-3 right-3 bg-black/70 text-white text-xs font-semibold px-2 py-1 rounded-md",children:l.duration})]}),s.jsx("h3",{className:"text-lg font-semibold group-hover:text-brand-purple transition-colors",children:l.title})]},l.id))})]})})},Fb=()=>{const[d,l]=q.useState(null),o=i=>{l(d===i?null:i)};return s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"Find answers to common questions about NYX products and services."})]}),s.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:Ob.map((i,u)=>s.jsxs("div",{className:"bg-dark-accent rounded-lg border border-white/10",children:[s.jsxs("button",{onClick:()=>o(u),className:"w-full flex justify-between items-center text-left p-6",children:[s.jsx("span",{className:"text-lg font-semibold",children:i.question}),s.jsx(Yb,{isOpen:d===u,className:"w-6 h-6 text-brand-purple flex-shrink-0"})]}),s.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${d===u?"max-h-96":"max-h-0"}`,children:s.jsx("div",{className:"p-6 pt-0 text-gray-400",children:s.jsx("p",{children:i.answer})})})]},u))})]})})},ey=()=>{const[d,l]=q.useState({name:"",email:"",subject:"",message:""}),[o,i]=q.useState(""),[u,h]=q.useState(!1),f=x=>{l({...d,[x.target.name]:x.target.value})},p=async x=>{x.preventDefault(),h(!0),i("Sending your message..."),await new Promise(g=>setTimeout(g,2e3)),i(" Message sent successfully! We'll get back to you within 24 hours."),l({name:"",email:"",subject:"",message:""}),h(!1)};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-5xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-6 py-3 rounded-full bg-nyx-blue/20 border border-nyx-blue/30 mb-8 backdrop-blur-sm",children:[s.jsx("span",{className:"w-3 h-3 bg-brand-pink rounded-full mr-3 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"24/7 Support Available"})]}),s.jsxs("h1",{className:"text-6xl md:text-8xl font-bold tracking-tight mb-8",children:["Let's",s.jsx("span",{className:"block text-nyx-blue",children:"Connect"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-12 max-w-4xl mx-auto leading-relaxed",children:["Have a question about our products? Need technical support? Want to share feedback?",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" We're here to help"})," and",s.jsx("span",{className:"text-brand-purple font-semibold",children:" love hearing from you"}),"."]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-3xl mx-auto",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-nyx-blue mb-2",children:"< 1hr"}),s.jsx("div",{className:"text-gray-400",children:"Response Time"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-brand-purple mb-2",children:"24/7"}),s.jsx("div",{className:"text-gray-400",children:"Support Available"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-brand-pink mb-2",children:"100%"}),s.jsx("div",{className:"text-gray-400",children:"Satisfaction Rate"})]})]})]})})]}),s.jsxs("section",{className:"relative py-20 md:py-28 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-4xl font-bold mb-6 text-white",children:"Get in Touch"}),s.jsx("p",{className:"text-gray-400 text-lg leading-relaxed",children:"Choose your preferred way to reach us. We're always here to help with any questions or concerns."})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"group bg-nyx-gray/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-nyx-blue/40 transition-all duration-500 hover:transform hover:scale-105",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-nyx-blue rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx(Pb,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Email Support"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Get detailed help via email. Perfect for complex questions."}),s.jsx("a",{href:"mailto:support@nyx.com",className:"text-nyx-blue hover:text-cyan-400 transition-colors text-lg font-semibold",children:"support@nyx.com"}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Response within 1 hour"})]})]})}),s.jsx("div",{className:"group bg-nyx-gray/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-brand-purple/40 transition-all duration-500 hover:transform hover:scale-105",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-purple rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx(Vb,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Phone Support"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Speak directly with our technical experts."}),s.jsx("a",{href:"tel:+1-800-555-0199",className:"text-brand-purple hover:text-brand-pink transition-colors text-lg font-semibold",children:"+1 (800) 555-0199"}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"Mon-Fri 9AM-6PM EST"})]})]})}),s.jsx("div",{className:"group bg-nyx-gray/40 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-brand-pink/40 transition-all duration-500 hover:transform hover:scale-105",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-pink rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:s.jsx(Gb,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Visit Our Office"}),s.jsx("p",{className:"text-gray-400 mb-4",children:"Come see us in person at our headquarters."}),s.jsxs("div",{className:"text-brand-pink text-lg font-semibold",children:["123 Innovation Drive",s.jsx("br",{}),"Tech City, CA 90210"]}),s.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"By appointment only"})]})]})})]})]}),s.jsxs("div",{className:"bg-nyx-gray/40 backdrop-blur-sm rounded-3xl p-10 border border-white/10 hover:border-brand-purple/30 transition-all duration-500",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Send us a Message"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Fill out the form below and we'll get back to you as soon as possible."})]}),s.jsxs("form",{onSubmit:p,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"name",id:"name",value:d.name,onChange:f,placeholder:"Enter your full name",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",id:"email",value:d.email,onChange:f,placeholder:"Enter your email",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-300 mb-2",children:"Subject"}),s.jsx("input",{type:"text",name:"subject",id:"subject",value:d.subject,onChange:f,placeholder:"What's this about?",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),s.jsx("textarea",{name:"message",id:"message",value:d.message,onChange:f,rows:6,placeholder:"Tell us how we can help you...",required:!0,className:"w-full bg-dark/60 border border-white/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-brand-purple focus:border-transparent transition-all duration-300 resize-none"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsx("div",{className:"text-sm text-green-400 font-medium min-h-[20px]",children:o}),s.jsx("button",{type:"submit",disabled:u,className:"group relative bg-brand-purple text-white font-semibold py-4 px-12 rounded-full hover:bg-brand-pink transition-all duration-500 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:s.jsx("span",{className:"relative z-10 flex items-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:["Send Message",s.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})})})]})]})]})]})})})]}),s.jsxs("section",{className:"relative py-20 md:py-28 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-nyx-black"}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[s.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-white",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Quick answers to common questions"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{question:"How do I set up my NYX device?",answer:"Simply unbox your device, connect it to power, and follow the guided setup in our mobile app. The entire process takes less than 5 minutes."},{question:"What's your return policy?",answer:"We offer a 30-day money-back guarantee. If you're not completely satisfied, return your device for a full refund."},{question:"Do you offer international shipping?",answer:"Yes! We ship to over 50 countries worldwide. Shipping times vary by location but typically range from 3-7 business days."},{question:"How can I track my order?",answer:"Once your order ships, you'll receive a tracking number via email. You can also track your order in your account dashboard."}].map((x,g)=>s.jsxs("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-2xl p-8 border border-white/10 hover:border-brand-purple/30 transition-all duration-300",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:x.question}),s.jsx("p",{className:"text-gray-400 leading-relaxed",children:x.answer})]},g))})]})]})]})},ty=()=>s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-8 text-center",children:"Our Story"}),s.jsxs("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 space-y-6",children:[s.jsx("p",{children:"Founded in 2023 by a group of designers and engineers, NYX was born from a simple yet powerful idea: smart home technology should be beautiful, intuitive, and accessible to everyone. We were tired of the clunky, complicated devices that flooded the market, devices that promised a future of convenience but delivered a present of frustration."}),s.jsx("p",{children:"We envisioned a different future. A future where your home anticipates your needs, where technology fades into the background, and where design and function exist in perfect harmony. This vision drove us to create our first product, the NYX-1 Smart Sensor."}),s.jsxs("figure",{className:"my-12",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1580234811497-9df7fd2f337e?q=80&w=1973&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",alt:"NYX Team working",className:"w-full rounded-2xl shadow-lg"}),s.jsx("figcaption",{className:"text-center text-sm text-gray-500 mt-4",children:"The founding team in our first workshop."})]}),s.jsx("p",{children:"Crafted from a single piece of aluminum and powered by our proprietary Adaptive AI, the NYX-1 was more than just a motion sensor; it was a statement. It was proof that technology could be both powerful and elegant. The success of the NYX-1 paved the way for a full ecosystem of products, each designed with the same core principles."}),s.jsx("p",{children:"Today, NYX is a leader in the smart home industry, but our mission remains the same: to simplify life through thoughtful design and intelligent technology. We're still a small, passionate team, dedicated to pushing the boundaries of what a smart home can be. And we're just getting started."})]})]})})}),ay=()=>s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsx("h1",{className:"text-4xl md:text-6xl font-bold tracking-tight mb-4",children:"Why Choose NYX?"}),s.jsx("p",{className:"text-gray-300 text-lg md:text-xl",children:"We believe in a different approach to smart technology. Here's what sets us apart."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[s.jsxs("div",{className:"bg-dark-accent p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Design First"}),s.jsx("p",{className:"text-gray-400",children:"We are designers at heart. Every product is meticulously crafted to not only perform its function flawlessly but to also enhance your living space. We use premium materials and a minimalist aesthetic to create devices you'll be proud to display."})]}),s.jsxs("div",{className:"bg-dark-accent p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Intelligent Simplicity"}),s.jsx("p",{className:"text-gray-400",children:"Technology should make life easier, not more complicated. From a setup process that takes seconds to an AI that learns your habits, our focus is on creating a user experience that is powerful yet effortlessly simple."})]}),s.jsxs("div",{className:"bg-dark-accent p-8 rounded-2xl border border-white/10",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Customer-Centric"}),s.jsx("p",{className:"text-gray-400",children:"You are at the center of everything we do. We offer lifetime support for all our products and actively listen to our community to continuously improve our software and develop new products that solve real-world problems."})]})]})]})}),sy=({navigateTo:d,showProductManagement:l,setShowProductManagement:o,setOpenAddForm:i})=>{const{user:u}=qt(),[h,f]=q.useState([]),[p,x]=q.useState(!1),[g,y]=q.useState(0),v=u&&(u.roles.includes("seller")||u.roles.includes("admin")||u.roles.includes("super-admin"));q.useEffect(()=>{(async()=>{try{const{data:C,error:E}=await ae.from("products").select("*").order("created_at",{ascending:!1});if(E){console.error(" ProductsPage: Supabase error:",E),f([]),x(!1);return}const O=(C==null?void 0:C.map(K=>{var S;return{id:K.id,name:K.name,price:K.price,imageUrl:((S=K.images)==null?void 0:S[0])||"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center",images:K.images||["https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop&crop=center"],description:K.description,category:K.category,isVisible:K.is_visible,stock:K.stock,created_at:K.created_at}}))||[];f(O),x(!1),y(K=>K+1)}catch(C){console.error("Error fetching products:",C),f([]),x(!1)}})()},[g]);const _=v?h:h.filter(T=>T.isVisible);return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 border border-brand-purple/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Complete Collection"})]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-6",children:["Our",s.jsx("span",{className:"block bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue text-transparent bg-clip-text",children:"Collection"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:["Explore the full range of NYX smart home devices, designed to work together to create a",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" seamless"})," and",s.jsx("span",{className:"text-brand-purple font-semibold",children:" intelligent"})," living experience."]}),v&&s.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[s.jsxs("button",{onClick:()=>{o(!0)},className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-blue-500/25",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Products"]}),s.jsxs("button",{onClick:()=>{i(!0),o(!0)},className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-green-500/25",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Product"]})]})]})}),s.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/20 to-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:p?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-nyx-blue/30 border-t-nyx-blue rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading products..."}),v&&s.jsxs("div",{className:"flex gap-4 mt-6",children:[s.jsxs("button",{onClick:()=>{o(!0)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Products"]}),s.jsxs("button",{onClick:()=>{i(!0),o(!0)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Product"]})]})]})}):_.length===0?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Products Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"There are no products available at the moment."}),v&&s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Manage Products"]}),s.jsxs("button",{onClick:()=>{i(!0),o(!0)},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add First Product"]})]})]})}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:_.map(T=>s.jsx(Lb,{product:T,navigateTo:d},T.id))})})]}),l&&s.jsx(Zc,{onClose:()=>o(!1)})]})},ny=({navigateTo:d})=>{const{user:l}=qt(),[o,i]=q.useState([]),[u,h]=q.useState(!1),[f,p]=q.useState(0),x=l&&(l.roles.includes("admin")||l.roles.includes("super-admin"));return q.useEffect(()=>{(async()=>{try{const{data:y,error:v}=await ae.from("blog_posts").select("*").eq("status","published").order("created_at",{ascending:!1});if(v){console.error(" BlogPage: Supabase error:",v),i([]),h(!1);return}const _=(y==null?void 0:y.map(T=>{var C;return{id:T.id,title:T.title,author:T.author_name||"NYX Team",date:T.created_at,imageUrl:T.featured_image||"https://images.unsplash.com/photo-1558655146-364adaf1fcc9?q=80&w=1964&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",excerpt:T.excerpt||((C=T.content)==null?void 0:C.substring(0,150))+"..."||"Read more about this topic...",content:T.content||"Full content here..."}}))||[];i(_),h(!1),p(T=>T+1)}catch(y){console.error("Error fetching blog posts:",y),i([]),h(!1)}})()},[f]),s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-brand-pink/20 to-brand-purple/20 border border-brand-pink/30 mb-6",children:[s.jsx("span",{className:"w-2 h-2 bg-nyx-blue rounded-full mr-2 animate-pulse"}),s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Latest Insights"})]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight mb-6",children:["NYX",s.jsx("span",{className:"block bg-gradient-to-r from-brand-pink via-brand-purple to-nyx-blue text-transparent bg-clip-text",children:"Blog"})]}),s.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto leading-relaxed",children:["News, insights, and updates from the team building the",s.jsx("span",{className:"text-brand-purple font-semibold",children:" future"})," of",s.jsx("span",{className:"text-nyx-blue font-semibold",children:" smart living"}),"."]}),x&&s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("button",{onClick:()=>{},className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-orange-500/25",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Add New Blog Post"]})})]})}),s.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/10 to-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:u?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-nyx-blue/30 border-t-nyx-blue rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"Loading blog posts..."})]})}):o.length===0?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"No Blog Posts Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"There are no blog posts available at the moment."}),x&&s.jsxs("button",{onClick:()=>{},className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-semibold rounded-xl transition-all duration-300",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Add First Blog Post"]})]})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:o.map((g,y)=>s.jsxs("div",{className:"group relative",children:[s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-brand-purple via-brand-pink to-nyx-blue rounded-3xl blur opacity-0 group-hover:opacity-75 transition-opacity duration-500"}),s.jsxs("div",{className:"relative bg-nyx-gray/30 backdrop-blur-sm rounded-3xl overflow-hidden flex flex-col border border-white/20 hover:border-brand-purple/50 transition-all duration-500 hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-brand-purple/20",children:[s.jsxs("div",{className:"aspect-video overflow-hidden relative",children:[s.jsx("img",{src:g.imageUrl,alt:g.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-nyx-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx("div",{className:"bg-brand-purple/90 backdrop-blur-sm text-white text-xs font-semibold px-3 py-1 rounded-full",children:new Date(g.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})})]}),s.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-2 h-2 bg-nyx-blue rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"BLOG POST"})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-3 flex-grow group-hover:text-nyx-blue transition-colors leading-tight",children:g.title}),s.jsx("p",{className:"text-gray-400 text-sm mb-4 line-clamp-3",children:g.excerpt}),s.jsxs("div",{className:"flex items-center justify-between mt-auto",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-brand-purple to-brand-pink rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs font-bold text-white",children:g.author.charAt(0)})}),s.jsxs("span",{className:"text-xs text-gray-400",children:["By ",g.author]})]}),s.jsxs("a",{href:"#",onClick:v=>{v.preventDefault(),d("blog-post",{post:g})},className:"group/link flex items-center gap-2 text-nyx-blue hover:text-cyan-400 font-semibold text-sm transition-colors",children:["Read More",s.jsx("svg",{className:"w-4 h-4 group-hover/link:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})]},g.id))})})]})]})},ly=({navigateTo:d,post:l})=>s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsxs("section",{className:"relative py-24 md:py-32 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-brand-purple/10 to-nyx-black"}),s.jsx("div",{className:"absolute top-1/4 left-1/4 w-80 h-80 bg-gradient-to-r from-brand-purple/20 to-brand-pink/20 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 bg-gradient-to-r from-nyx-blue/20 to-brand-purple/20 rounded-full blur-3xl animate-pulse delay-1000"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("button",{onClick:()=>d("blog"),className:"flex items-center gap-2 text-brand-purple hover:text-brand-purple/80 mb-8 group",children:[s.jsx($m,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),"Back to Blog"]}),s.jsx("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-6 leading-tight",children:l.title}),s.jsxs("div",{className:"flex items-center gap-4 text-gray-400 mb-8",children:[s.jsxs("span",{children:["By ",s.jsx("span",{className:"text-nyx-blue font-semibold",children:l.author})]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(l.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})})]}),s.jsxs("section",{className:"relative py-16 md:py-24 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-nyx-black via-nyx-gray/10 to-nyx-black"}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"bg-nyx-gray/30 backdrop-blur-sm rounded-3xl overflow-hidden border border-white/10 mb-8",children:s.jsx("img",{src:l.imageUrl,alt:l.title,className:"w-full aspect-video object-cover"})}),s.jsxs("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300 leading-relaxed",children:[s.jsxs("p",{className:"text-xl text-gray-200 mb-6",children:[l.excerpt," ",l.content]}),s.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),s.jsx("p",{children:"Curabitur pretium tincidunt lacus. Nulla gravida orci a odio. Nullam varius, turpis et commodo pharetra, est eros bibendum elit, nec luctus magna felis sollicitudin mauris. Integer in mauris eu nibh euismod gravida. Duis ac tellus et risus vulputate vehicula. Donec lobortis risus a elit. Etiam tempor. Ut ullamcorper, ligula eu tempor congue, eros est euismod turpis, id tincidunt sapien risus a quam. Maecenas fermentum consequat mi. Donec fermentum. Pellentesque malesuada nulla a mi. Duis sapien sem, aliquet nec, commodo eget, consequat quis, neque. Aliquam faucibus, elit ut dictum aliquet, felis nisl adipiscing sapien, sed malesuada diam lacus eget erat. Cras mollis scelerisque nunc. Nullam arcu. Aliquam consequat."})]})]})})]})]}),ry=({navigateTo:d,slug:l,title:o})=>{const{user:i}=qt(),u=i&&(i.roles.includes("admin")||i.roles.includes("super-admin")),[h,f]=q.useState(""),[p,x]=q.useState(""),[g,y]=q.useState(""),[v,_]=q.useState(!1),[T,C]=q.useState(!0),[E,O]=q.useState(""),[K,S]=q.useState("");q.useEffect(()=>{(async()=>{C(!0),O(""),S("");try{const{data:F,error:J}=await ae.from("legal_documents").select("content, last_updated").eq("slug",l).single();if(J&&J.code!=="PGRST116")throw J;F?(f(F.content||"This document has not been written yet."),x(F.last_updated)):(f("This document has not been written yet."),O("Document not found."))}catch(F){O(F.message||"Failed to fetch document."),f("Content could not be loaded.")}finally{C(!1)}})()},[l]);const k=()=>{y(h),_(!0),S("")},z=()=>{_(!1),y("")},$=async()=>{S("Saving...");try{const{data:Q,error:F}=await ae.from("legal_documents").update({content:g,last_updated:new Date().toISOString()}).eq("slug",l).select("last_updated").single();if(F)throw F;f(g),Q&&x(Q.last_updated),S("Changes saved successfully!"),_(!1),setTimeout(()=>S(""),3e3)}catch(Q){S(`Error: ${Q.message}`)}};return T?s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"max-w-3xl mx-auto",children:"Loading document..."})})}):s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("button",{onClick:()=>d("home"),className:"flex items-center gap-2 text-brand-purple hover:text-brand-purple/80 mb-8",children:[s.jsx($m,{className:"w-5 h-5"}),"Back to Home"]}),s.jsxs("div",{className:"flex justify-between items-start mb-8 gap-4",children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:o}),u&&!v&&s.jsxs("button",{onClick:k,className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors bg-dark-accent p-3 rounded-lg border border-white/10 flex-shrink-0",children:[s.jsx(Gm,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})]}),v?s.jsxs("div",{className:"space-y-4",children:[s.jsx("textarea",{value:g,onChange:Q=>y(Q.target.value),className:"w-full min-h-[500px] bg-dark-accent border border-gray-600 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-purple font-mono"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-end items-center gap-4",children:[K&&s.jsx("p",{className:`text-sm ${K.startsWith("Error")?"text-red-400":"text-green-400"}`,children:K}),s.jsx("button",{onClick:z,className:"border border-gray-600 text-gray-300 font-medium py-2 px-5 rounded-full hover:border-white hover:text-white transition-all w-full sm:w-auto",children:"Cancel"}),s.jsx("button",{onClick:$,disabled:K==="Saving...",className:"bg-brand-purple text-white font-semibold py-2 px-5 rounded-full hover:bg-brand-purple/80 transition-all disabled:opacity-50 w-full sm:w-auto",children:K==="Saving..."?"Saving...":"Save Changes"})]})]}):s.jsxs("div",{className:"prose prose-invert prose-lg max-w-none text-gray-300",children:[E&&!E.includes("Document not found")?s.jsx("p",{className:"text-red-400",children:E}):s.jsx("p",{style:{whiteSpace:"pre-wrap"},children:h}),p&&(!E||E.includes("Document not found"))&&s.jsxs("p",{className:"text-sm text-gray-500 mt-8",children:["Last Updated: ",new Date(p).toLocaleString()]})]})]})})})},iy=()=>{const{fetchAllUsers:d,updateUserRoles:l,deleteUserAsAdmin:o,user:i}=qt(),[u,h]=q.useState([]),[f,p]=q.useState([]),[x,g]=q.useState(!0),[y,v]=q.useState(null),[_,T]=q.useState(""),C=i&&(i.roles.includes("admin")||i.roles.includes("super-admin"));i&&i.roles.includes("super-admin");const[E,O]=q.useState(null),[K,S]=q.useState(null),[k,z]=q.useState([]),[$,Q]=q.useState(!1),[F,J]=q.useState(!1),[le,I]=q.useState(!1),[fe,ue]=q.useState(!1),[de,pe]=q.useState(!1),me=["user","seller","content_writer","admin","super-admin","Web Developer","UI/UX Designer"],M={"super-admin":"bg-red-500/20 text-red-400 border-red-500/30",admin:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",seller:"bg-green-500/20 text-green-400 border-green-500/30",content_writer:"bg-blue-500/20 text-blue-400 border-blue-500/30",user:"bg-gray-500/20 text-gray-400 border-gray-500/30","Web Developer":"bg-purple-500/20 text-purple-400 border-purple-500/30","UI/UX Designer":"bg-pink-500/20 text-pink-400 border-pink-500/30"},Z=q.useCallback(async()=>{try{g(!0),v(null);const G=await d();h(G)}catch(G){v(G.message||"Failed to fetch users.")}finally{g(!1)}},[d]);q.useEffect(()=>{Z()},[Z]),q.useEffect(()=>{const G=_.toLowerCase(),ie=u.filter(se=>se.firstName.toLowerCase().includes(G)||se.lastName.toLowerCase().includes(G)||se.nickname.toLowerCase().includes(G)||se.email.toLowerCase().includes(G));p(ie)},[_,u]);const te=G=>{O(G),z(G.roles)},D=(G,ie)=>{z(se=>ie?[...se,G]:se.filter(Me=>Me!==G))},w=async()=>{if(E){Q(!0);try{await l(E.id,k),h(u.map(G=>G.id===E.id?{...G,roles:k}:G)),O(null)}catch(G){alert(`Error updating roles: ${G.message}`)}finally{Q(!1)}}},H=G=>{S(G)},W=async()=>{if(K){Q(!0);try{await o(K.id),h(u.filter(G=>G.id!==K.id)),S(null)}catch(G){alert(`Error deleting user: ${G.message}`)}finally{Q(!1)}}},X=()=>s.jsxs(s.Fragment,{children:[E&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[101] backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-dark-accent rounded-2xl border border-white/10 p-6 sm:p-8 w-full max-w-lg",children:[s.jsxs("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:["Edit Roles for ",E.nickname]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 my-6",children:me.map(G=>s.jsxs("label",{className:"flex items-center gap-3 bg-dark p-3 rounded-lg cursor-pointer hover:bg-nyx-gray/50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:k.includes(G),onChange:ie=>D(G,ie.target.checked),className:"h-5 w-5 rounded border-gray-600 bg-nyx-black text-nyx-blue focus:ring-nyx-blue"}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md border ${M[G]||M.user}`,children:G})]},G))}),s.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[s.jsx("button",{onClick:()=>O(null),className:"border border-gray-600 text-gray-300 font-medium py-2 px-5 rounded-full hover:border-white hover:text-white transition-colors",children:"Cancel"}),s.jsx("button",{onClick:w,disabled:$,className:"bg-brand-purple text-white font-semibold py-2 px-5 rounded-full hover:bg-brand-purple/80 transition-colors disabled:opacity-50",children:$?"Saving...":"Save Changes"})]})]})}),K&&s.jsx("div",{className:"fixed inset-0 bg-black/60 z-[101] backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in",children:s.jsxs("div",{className:"bg-dark-accent rounded-2xl border border-white/10 p-6 sm:p-8 w-full max-w-md text-center",children:[s.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-2",children:"Delete User"}),s.jsxs("p",{className:"text-gray-400 mb-6",children:["Are you sure you want to delete ",s.jsx("span",{className:"font-bold text-white",children:K.nickname}),"? This action is irreversible."]}),s.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[s.jsx("button",{onClick:()=>S(null),className:"border border-gray-600 text-gray-300 font-medium py-2 px-5 rounded-full hover:border-white hover:text-white flex-1 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:W,disabled:$,className:"bg-red-600 text-white font-semibold py-2 px-5 rounded-full hover:bg-red-700 flex-1 transition-colors disabled:opacity-50",children:$?"Deleting...":"Confirm Delete"})]})]})})]});return C?x?s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white min-h-screen flex items-center justify-center",children:"Loading users..."}):y?s.jsxs("div",{className:"py-24 md:py-32 bg-dark text-red-400 min-h-screen flex items-center justify-center",children:["Error: ",y]}):s.jsxs(s.Fragment,{children:[X(),F&&s.jsx(Zc,{onClose:()=>J(!1)}),le&&s.jsx(qb,{onClose:()=>I(!1)}),fe&&s.jsx(Bb,{onClose:()=>ue(!1)}),de&&s.jsx(Hb,{onClose:()=>pe(!1)}),s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white min-h-screen",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xb,{className:"w-8 h-8 text-brand-purple"}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Admin Dashboard"})]}),s.jsx("input",{type:"text",placeholder:"Search users...",value:_,onChange:G=>T(G.target.value),className:"w-full sm:w-64 bg-dark-accent border border-gray-600 rounded-lg py-2 px-4 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-purple"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs("button",{onClick:()=>J(!0),className:"bg-nyx-blue text-nyx-black p-4 rounded-lg hover:bg-white transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Product Management"}),s.jsx("p",{className:"text-sm",children:"Manage products, inventory, and pricing"})]}),s.jsxs("button",{onClick:()=>I(!0),className:"bg-purple-600 text-white p-4 rounded-lg hover:bg-purple-700 transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Blog Management"}),s.jsx("p",{className:"text-sm",children:"Create and manage blog posts"})]}),s.jsxs("button",{onClick:()=>ue(!0),className:"bg-green-600 text-white p-4 rounded-lg hover:bg-green-700 transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Order Management"}),s.jsx("p",{className:"text-sm",children:"View and process orders"})]}),s.jsxs("button",{onClick:()=>pe(!0),className:"bg-orange-600 text-white p-4 rounded-lg hover:bg-orange-700 transition-colors text-center",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Coupon Management"}),s.jsx("p",{className:"text-sm",children:"Create and manage discount codes"})]})]}),s.jsx("div",{className:"bg-dark-accent border border-white/10 rounded-2xl overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"border-b border-white/10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 font-semibold",children:"User"}),s.jsx("th",{className:"p-4 font-semibold hidden md:table-cell",children:"Nickname"}),s.jsx("th",{className:"p-4 font-semibold",children:"Roles"}),s.jsx("th",{className:"p-4 font-semibold",children:"Actions"})]})}),s.jsx("tbody",{children:f.map(G=>{if(!i)return null;const ie=G.roles.includes("super-admin"),se=G.roles.includes("admin"),Me=i.roles.includes("super-admin"),ke=i.roles.includes("admin"),St=G.id!==i.id&&(Me||ke&&!se&&!ie),Qa=G.id!==i.id&&!ie&&(Me||ke&&!se);return s.jsxs("tr",{className:"border-b border-white/10 last:border-b-0 hover:bg-dark/50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:G.profilePicture||`https://ui-avatars.com/api/?name=${G.firstName}+${G.lastName}&background=random`,alt:G.nickname,className:"w-10 h-10 rounded-full"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold text-white",children:[G.firstName," ",G.lastName]}),s.jsx("div",{className:"text-sm text-gray-400",children:G.email})]})]})}),s.jsx("td",{className:"p-4 hidden md:table-cell",children:s.jsxs("span",{className:"text-white font-medium",children:["@",G.nickname]})}),s.jsx("td",{className:"p-4",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:G.roles.map(Vt=>s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-md border ${M[Vt]||M.user}`,children:Vt},Vt))})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[St&&s.jsx("button",{onClick:()=>te(G),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Edit Roles",children:s.jsx(Gm,{className:"w-4 h-4"})}),Qa&&s.jsx("button",{onClick:()=>H(G),className:"text-red-400 hover:text-red-300 transition-colors",title:"Delete User",children:s.jsx(Qb,{className:"w-4 h-4"})})]})})]},G.id)})})]})})})]})})]}):s.jsx("div",{className:"py-24 md:py-32 bg-dark text-white min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx("svg",{className:"w-10 h-10 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Access Denied"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"You don't have permission to access the admin panel."}),s.jsx("p",{className:"text-sm text-gray-500",children:"Required roles: Admin or Super Admin"})]})})},oy=()=>{const[d,l]=q.useState("home"),[o,i]=q.useState(null),[u,h]=q.useState(!1),[f,p]=q.useState(!1),[x,g]=q.useState(!1);Te.useEffect(()=>{},[f]),Te.useEffect(()=>{},[x]);const[y,v]=q.useState(null),{user:_,loading:T}=qt(),[C,E]=q.useState("testing");Te.useEffect(()=>{E("connected")},[]),Te.useEffect(()=>{(async()=>{if(!_){v(null);return}try{const{data:k,error:z}=await ae.from("profiles").select("*").eq("id",_.id).single();z&&z.code!=="PGRST116"?(console.error("Error loading profile:",z),v(null)):v(k||null)}catch(k){console.error("Error loading profile data:",k),v(null)}})()},[_]),Te.useEffect(()=>{const S=()=>{h(k=>!k)};return window.addEventListener("profileClick",S),()=>{window.removeEventListener("profileClick",S)}},[]);const O=(S,k)=>{l(S),i(k)},K=()=>{switch(d){case"home":return s.jsx(xm,{navigateTo:O});case"login":return s.jsx(Jb,{navigateTo:O});case"profile":return s.jsx(Db,{navigateTo:O});case"products":return s.jsx(sy,{navigateTo:O,showProductManagement:f,setShowProductManagement:p,setOpenAddForm:g});case"blog":return s.jsx(ny,{navigateTo:O});case"blog-post":return s.jsx(ly,{navigateTo:O,post:o==null?void 0:o.post});case"how-it-works":return s.jsx(Wb,{});case"setup-videos":return s.jsx(Ib,{});case"faq":return s.jsx(Fb,{});case"contact":return s.jsx(ey,{});case"our-story":return s.jsx(ty,{});case"why-us":return s.jsx(ay,{});case"ask":return s.jsxs("div",{style:{padding:"100px",textAlign:"center",color:"white"},children:[s.jsx("h1",{children:"Ask NYX"}),s.jsx("p",{children:"Coming Soon..."})]});case"admin":return s.jsx(iy,{});case"legal":return s.jsx(ry,{navigateTo:O,slug:o==null?void 0:o.slug,title:o==null?void 0:o.title});default:return s.jsx(xm,{navigateTo:O})}};return s.jsxs("div",{className:"min-h-screen bg-dark text-white",children:[s.jsx(Nb,{navigateTo:O}),s.jsx("main",{children:K()}),s.jsx(Sb,{navigateTo:O}),s.jsx(Mb,{navigateTo:O}),s.jsx(zb,{}),_&&s.jsx($b,{navigateTo:O,isUserMenuOpen:u,setIsUserMenuOpen:h,user:_,profileData:y,setShowProductManagement:p,setOpenAddForm:g}),f&&s.jsx(Zc,{onClose:()=>{p(!1),g(!1)},openAddForm:x})]})};class cy extends Te.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,o){console.error("Uncaught error:",l,o)}render(){var l;return this.state.hasError?s.jsxs("div",{style:{padding:"2rem",color:"white",backgroundColor:"#111",height:"100vh",fontFamily:"sans-serif"},children:[s.jsx("h1",{style:{fontSize:"2rem",color:"#db2777"},children:"Application Error"}),s.jsx("p",{children:"Something went wrong, and the application could not be rendered."}),s.jsxs("details",{style:{marginTop:"1rem",background:"#1D1D1D",padding:"1rem",borderRadius:"8px"},children:[s.jsx("summary",{children:"Error Details"}),s.jsx("pre",{style:{color:"red",whiteSpace:"pre-wrap",marginTop:"0.5rem",fontSize:"0.875rem"},children:(l=this.state.error)==null?void 0:l.toString()})]})]}):this.props.children}}const Pm=document.getElementById("root");if(!Pm)throw new Error("Could not find root element to mount to");const uy=hx.createRoot(Pm);uy.render(s.jsx(Te.StrictMode,{children:s.jsx(cy,{children:s.jsx(jb,{children:s.jsx(_b,{children:s.jsx(oy,{})})})})}));
